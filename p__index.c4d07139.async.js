(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[866],{7440:function(f){f.exports={chartCard:"chartCard___1psgC",chartTop:"chartTop___1amDr",chartTopMargin:"chartTopMargin___2ISk5",chartTopHasMargin:"chartTopHasMargin___141WF",metaWrap:"metaWrap___10FE2",avatar:"avatar___25fSV",meta:"meta___307Z-",action:"action___219T7",total:"total___2AcZg",content:"content___3_Yro",contentFixed:"contentFixed___2RcoE",footer:"footer___3Dtsw",footerMargin:"footerMargin___2JyKP"}},79021:function(f){f.exports={field:"field___3n0C5",label:"label___3gmMd",number:"number___3akbF"}},42055:function(f){f.exports={trendItem:"trendItem___sjhRn",up:"up___5VZfG",down:"down___2jcH3",trendItemGrey:"trendItemGrey___3eVLn",reverseColor:"reverseColor___2Wl3Q"}},20366:function(f){f.exports={iconGroup:"iconGroup___2_84G",anticon:"anticon___1DV7u",rankingList:"rankingList___2od1h",rankingItemNumber:"rankingItemNumber___y7J82",active:"active___22TZB",rankingItemTitle:"rankingItemTitle___CAVox",salesExtra:"salesExtra___1JKbU",currentDate:"currentDate___Te6B3",salesCard:"salesCard___1u366",salesBar:"salesBar___1qWki",salesRank:"salesRank___3Myu_",salesCardExtra:"salesCardExtra___EpJv_",salesTypeRadio:"salesTypeRadio___1p55x",offlineCard:"offlineCard___3ZQud",trendText:"trendText___2f2-4",rankingTitle:"rankingTitle___57o7W",salesExtraWrap:"salesExtraWrap___lQL68"}},65476:function(f,P,a){"use strict";var F=a(96132),B=a(43358),C=a(90290),K=a(20228),V=a(11382),J=a(37730),E=a(33565),i=a(81211),_=a(67294),m=a(23279),te=a.n(m),O=a(85893),g=function(D){var N=D.fetchOptions,I=D.debounceTimeout,$=I===void 0?500:I,H=D.showAll,Q=D.setMyFetching,b=D.setMyOption,R=(0,i.Z)(D,["fetchOptions","debounceTimeout","showAll","setMyFetching","setMyOption"]),ae=_.useState(!1),W=(0,E.Z)(ae,2),G=W[0],c=W[1],e=_.useState(!1),Y=(0,E.Z)(e,2),ne=Y[0],Z=Y[1],le=_.useState(H?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}]:[]),U=(0,E.Z)(le,2),se=U[0],y=U[1];_.useEffect(function(){G||y(b)},[b]),_.useEffect(function(){G||y(b)},[Q]);var L=_.useRef(0),re=_.useMemo(function(){var X=function(oe){L.current+=1;var S=L.current;y([]),Z(!0),N(oe).then(function(z){S===L.current&&(z.data.forEach(function(T){T.label=T.text,delete T.text,T.value=T.id,delete T.id}),y(H?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}].concat((0,J.Z)(z.data)):z.data),Z(!1))})};return te()(X,$)},[N,$]);return(0,O.jsx)(C.Z,(0,F.Z)((0,F.Z)({filterOption:!1,onSearch:re},R),{},{options:ne?[{value:"",label:(0,O.jsx)(V.Z,{size:"small"}),disabled:!0}]:se,onDropdownVisibleChange:function(k){k&&!G&&(c(!0),Z(!0),re())}}))};P.Z=g},23723:function(f,P,a){"use strict";var F=a(20228),B=a(11382),C=a(85893);P.Z=function(){return(0,C.jsx)("div",{style:{paddingTop:100,textAlign:"center"},children:(0,C.jsx)(B.Z,{size:"large"})})}},59185:function(f,P,a){"use strict";a.r(P),a.d(P,{default:function(){return Pe}});var F=a(57361),B=a(9754),C=a.n(B),K=a(19797),V=a(21349),J=a(13062),E=a(71230),i=a(96132),_=a(89032),m=a(15746),te=a(22385),O=a(69713),g=a(68628),xe=a(58024),D=a(39144),N=a(81211),I=a(82395),$=a(46093),H=a(30797),Q=a(41011),b=a(86098),R=a(67294),ae=a(94184),W=a.n(ae),G=a(7440),c=a.n(G),e=a(85893),Y=function(n){if(!n&&n!==0)return null;var l;switch(typeof n){case"undefined":l=null;break;case"function":l=(0,e.jsx)("div",{className:c().total,children:n()});break;default:l=(0,e.jsx)("div",{className:c().total,children:n})}return l},ne=function(x){(0,Q.Z)(l,x);var n=(0,b.Z)(l);function l(){var t;(0,$.Z)(this,l);for(var s=arguments.length,v=new Array(s),d=0;d<s;d++)v[d]=arguments[d];return t=n.call.apply(n,[this].concat(v)),t.renderContent=function(){var r=t.props,p=r.contentHeight,j=r.title,o=r.avatar,h=r.action,ee=r.total,A=r.footer,M=r.children,de=r.loading;return de?!1:(0,e.jsxs)("div",{className:c().chartCard,children:[(0,e.jsxs)("div",{className:W()(c().chartTop,(0,I.Z)({},c().chartTopMargin,!M&&!A)),children:[(0,e.jsx)("div",{className:c().avatar,children:o}),(0,e.jsxs)("div",{className:c().metaWrap,children:[(0,e.jsxs)("div",{className:c().meta,children:[(0,e.jsx)("span",{className:c().title,children:j}),(0,e.jsx)("span",{className:c().action,children:h})]}),Y(ee)]})]}),M&&(0,e.jsx)("div",{className:c().content,style:{height:p||"auto"},children:(0,e.jsx)("div",{className:p&&c().contentFixed,children:M})}),A&&(0,e.jsx)("div",{className:W()(c().footer,(0,I.Z)({},c().footerMargin,!M)),children:A})]})},t}return(0,H.Z)(l,[{key:"render",value:function(){var s=this.props,v=s.loading,d=v===void 0?!1:v,r=s.contentHeight,p=s.title,j=s.avatar,o=s.action,h=s.total,ee=s.footer,A=s.children,M=(0,N.Z)(s,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,e.jsx)(D.Z,(0,i.Z)((0,i.Z)({loading:d,bodyStyle:{padding:"20px 24px 8px 24px"}},M),{},{children:this.renderContent()}))}}]),l}(R.Component),Z=ne,le=a(79021),U=a.n(le),se=function(n){var l=n.label,t=n.value,s=(0,N.Z)(n,["label","value"]);return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)({className:U().field},s),{},{children:[(0,e.jsx)("span",{className:U().label,children:l}),(0,e.jsx)("span",{className:U().number,children:t})]}))},y=se,L=function(n){return"\xA5 ".concat(n)},re={yuan:L,ChartCard:Z,Field:y},X=a(28612),k=a(19675),oe=a(42055),S=a.n(oe),z=function(n){var l,t=n.colorful,s=t===void 0?!0:t,v=n.reverseColor,d=v===void 0?!1:v,r=n.flag,p=n.children,j=n.className,o=(0,N.Z)(n,["colorful","reverseColor","flag","children","className"]),h=W()(S().trendItem,(l={},(0,I.Z)(l,S().trendItemGrey,!s),(0,I.Z)(l,S().reverseColor,d&&s),l),j);return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)({},o),{},{className:h,title:typeof p=="string"?p:"",children:[(0,e.jsx)("span",{children:p}),r&&(0,e.jsx)("span",{className:S()[r],children:r==="up"?(0,e.jsx)(X.Z,{}):(0,e.jsx)(k.Z,{})})]}))},T=z,Ae=function(x){(0,Q.Z)(l,x);var n=(0,b.Z)(l);function l(){var t;(0,$.Z)(this,l);for(var s=arguments.length,v=new Array(s),d=0;d<s;d++)v[d]=arguments[d];return t=n.call.apply(n,[this].concat(v)),t.main=null,t.renderToHtml=function(){var r=t.props.children;t.main&&(t.main.innerHTML=L(r))},t}return(0,H.Z)(l,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var s=this;return(0,e.jsx)("span",{ref:function(d){s.main=d}})}}]),l}(R.Component),fe=a(20366),u=a.n(fe),w={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},_e=function(n){var l=n.loading,t=n.data;return(0,e.jsxs)(E.Z,{gutter:24,children:[(0,e.jsx)(m.Z,(0,i.Z)((0,i.Z)({},w),{},{children:(0,e.jsx)(Z,{bordered:!1,title:"\u57DF\u6570\u91CF",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),loading:l,total:t==null?void 0:t.domainCount,footer:(0,e.jsx)(y,{label:"\u5F02\u5E38\u7684\u57DF",value:"0"}),contentHeight:46})})),(0,e.jsx)(m.Z,(0,i.Z)((0,i.Z)({},w),{},{children:(0,e.jsx)(Z,{bordered:!1,loading:l,title:"\u5E94\u7528\u6570",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),total:t==null?void 0:t.appCount,footer:(0,e.jsx)(y,{label:"\u65E5\u6D3B\u8DC3\u5E94\u7528\u6570",value:t==null?void 0:t.activeApp}),contentHeight:46})})),(0,e.jsx)(m.Z,(0,i.Z)((0,i.Z)({},w),{},{children:(0,e.jsx)(Z,{bordered:!1,loading:l,title:"\u8FD1\u4E00\u4E2A\u6708\u5B89\u88C5\u91CF",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),total:t==null?void 0:t.monthInstall,footer:(0,e.jsx)(y,{label:"\u66F4\u65B0\u91CF",value:t==null?void 0:t.monthUpgrade}),contentHeight:46})})),(0,e.jsx)(m.Z,(0,i.Z)((0,i.Z)({},w),{},{children:(0,e.jsx)(Z,{loading:l,bordered:!1,title:"\u8FD124\u5C0F\u65F6\u6D3B\u8DC3\u5EA6",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),total:t==null?void 0:t.dayActive,footer:(0,e.jsxs)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"},children:[(0,e.jsxs)(T,{flag:(t==null?void 0:t.dc)<0?"down":"up",style:{marginRight:16},children:["\u65E5\u540C\u6BD4",(0,e.jsx)("span",{className:u().trendText,children:(t==null?void 0:t.dc)==="-"?t==null?void 0:t.dc:(t==null?void 0:t.dc)+"%"})]}),(0,e.jsxs)(T,{flag:(t==null?void 0:t.wc)<0?"down":"up",children:["\u5468\u540C\u6BD4",(0,e.jsx)("span",{className:u().trendText,children:(t==null?void 0:t.wc)==="-"?t==null?void 0:t.wc:(t==null?void 0:t.wc)+"%"})]})]}),contentHeight:46})}))]})},ge=_e,je=a(23723),ue=a(18811),q=a(21010),Fe=a(18106),ce=a(51752),pe=a(86375),Ce=a(97221),ve=a(73727),he=ce.Z.TabPane,Ee=function(n){var l=n.rangePickerValue,t=n.installData,s=n.isActive,v=n.handleRangePickerChange,d=n.loading,r=n.activeData,p=n.selectDate,j=R.useRef("active");return(0,e.jsx)(D.Z,{loading:d,bordered:!1,bodyStyle:{padding:0},children:(0,e.jsx)("div",{className:u().salesCard,children:(0,e.jsxs)(ce.Z,{tabBarExtraContent:(0,e.jsx)("div",{className:u().salesExtraWrap,children:(0,e.jsx)("a",{onClick:function(){return j.current==="active"?q.m8.push("/analysis/instance"):q.m8.push("/analysis/install")},style:{paddingRight:"10px"},children:"\u66F4\u591A\u6570\u636E"})}),size:"large",tabBarStyle:{marginBottom:24},onChange:function(h){j.current=h},children:[(0,e.jsx)(he,{tab:"\u6D3B\u8DC3\u5EA6",children:(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(m.Z,{xl:16,lg:12,md:12,sm:24,xs:24,children:(0,e.jsx)("div",{className:u().salesBar,children:(0,e.jsx)(pe.Z,{height:300,forceFit:!0,data:(r==null?void 0:r.data)||[],xField:"x",yField:"y",smooth:!0,xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},title:{visible:!0,text:"\u6D3B\u8DC3\u5EA6\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u6D3B\u8DC3\u5EA6"}}})})}),(0,e.jsx)(m.Z,{xl:8,lg:12,md:12,sm:24,xs:24,children:(0,e.jsxs)("div",{className:u().salesRank,children:[(0,e.jsx)("h4",{className:u().rankingTitle,children:"App\u8FD124\u5C0F\u65F6\u6D3B\u8DC3\u5EA6\u6392\u884C"}),(0,e.jsx)("ul",{className:u().rankingList,children:r==null?void 0:r.rank.map(function(o,h){return(0,e.jsxs)("li",{children:[(0,e.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(h<3?u().active:""),children:h+1}),(0,e.jsx)(ve.rU,{className:u().rankingItemTitle,to:"/app/detail/"+o.id,children:o.title}),(0,e.jsx)("span",{children:o.total})]},o.title)})})]})})]})},"active"),(0,e.jsx)(he,{tab:"\u5B89\u88C5\u91CF",children:(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(m.Z,{xl:16,lg:12,md:12,sm:24,xs:24,children:(0,e.jsx)("div",{className:u().salesBar,children:(0,e.jsx)(Ce.Z,{height:300,forceFit:!0,data:(t==null?void 0:t.data)||[],xField:"x",yField:"y",isStack:!0,seriesField:"type",xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},title:{visible:!0,text:"\u65E5\u5B89\u88C5\u91CF\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u65E5\u5B89\u88C5\u91CF"}}})})}),(0,e.jsx)(m.Z,{xl:8,lg:12,md:12,sm:24,xs:24,children:(0,e.jsxs)("div",{className:u().salesRank,children:[(0,e.jsx)("h4",{className:u().rankingTitle,children:"App\u6628\u65E5\u5B89\u88C5\u91CF\u6392\u884C"}),(0,e.jsx)("ul",{className:u().rankingList,children:t==null?void 0:t.rank.map(function(o,h){return(0,e.jsxs)("li",{children:[(0,e.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(h<3?u().active:""),children:h+1}),(0,e.jsx)(ve.rU,{className:u().rankingItemTitle,to:"/app/detail/"+o.id,children:o.title}),(0,e.jsx)("span",{className:u().rankingItemValue,children:o.total})]},o.title)})})]})})]})},"install")]})})})},De=Ee,Ze=a(6637),ye=a(65476);function Te(x){return ie.apply(this,arguments)}function ie(){return ie=(0,F.Z)(C().mark(function x(n){return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Ze.y)({search:n}));case 1:case"end":return t.stop()}},x)})),ie.apply(this,arguments)}var Me=function(n){var l,t,s,v=n.route.name==="all",d=(0,q.tT)("admin"),r=d.selectedUser,p=d.setData,j=r.value,o=(0,q.QT)(function(){return v?(0,ue.DK)({userId:j}):(0,ue.ny)()});function h(A,M,de){return A?(0,e.jsx)(K.ZP,{content:(0,e.jsxs)(e.Fragment,{children:["\u5F00\u53D1\u8005\uFF1A",(0,e.jsx)(ye.Z,{showAll:!0,showSearch:!0,placeholder:"\u9009\u62E9\u7528\u6237",setMyOption:[r],fetchOptions:Te,defaultValue:j,style:{width:"250px"},onChange:function(Oe,me){de(Oe),p({label:me.label,value:me.value})}})]}),children:M}):M}function ee(A){j=A,o.run()}return h(v,(0,e.jsx)(V.Z,{children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(R.Suspense,{fallback:(0,e.jsx)(je.Z,{}),children:(0,e.jsx)(ge,{loading:o.loading,data:(l=o.data)===null||l===void 0?void 0:l.simple})}),(0,e.jsx)(R.Suspense,{fallback:null,children:(0,e.jsx)(De,{installData:(t=o.data)===null||t===void 0?void 0:t.install,activeData:(s=o.data)===null||s===void 0?void 0:s.active,loading:o.loading})})]})}),ee)},Pe=Me},6637:function(f,P,a){"use strict";a.d(P,{y:function(){return E}});var F=a(96132),B=a(57361),C=a(9754),K=a.n(C),V=a(18811),J=a(21010);function E(_,m){return i.apply(this,arguments)}function i(){return i=(0,B.Z)(K().mark(function _(m,te){return K().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,J.WY)(V.s3+"user/search",{method:"POST",params:(0,F.Z)({},m),credentials:"include"}));case 1:case"end":return g.stop()}},_)})),i.apply(this,arguments)}}}]);
