(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1363],{33053:function(j){j.exports={tabs:"tabs___2_QYX"}},64358:function(j,f,e){"use strict";var _=e(33565),o=e(67294),m=e(52778),l=e(4084),u=e(85893),d=m.Z.Statistic,B=m.Z.Divider,A=function(O){var L=O.loading,n=O.active,v=(0,o.useState)(!1),D=(0,_.Z)(v,2),W=D[0],E=D[1];return(0,u.jsx)(l.Z,{onResize:function(T){E(T.width<696)},children:(0,u.jsxs)(m.Z.Group,{loading:L,direction:W?"column":"row",style:{marginBottom:24},children:[(0,u.jsx)(m.Z,{statistic:{title:"\u4ECA\u65E5\u5B89\u88C5\u91CF",value:(n==null?void 0:n.current)||0,description:(0,u.jsx)(d,{title:"\u672C\u6708\u5CF0\u503C",value:(n==null?void 0:n.max)||0})}}),(0,u.jsx)(B,{type:W?"horizontal":"vertical"}),(0,u.jsx)(m.Z,{statistic:{title:"\u6628\u65E5\u5B89\u88C5\u91CF",value:n==null?void 0:n.yesterday,description:(0,u.jsx)(d,{title:"\u524D\u65E5\u540C\u6BD4",value:(n==null?void 0:n.yc)==="-"?"-":(n==null?void 0:n.yc)+"%",trend:(n==null?void 0:n.yc)<0?"down":"up"})},chartPlacement:"left"}),(0,u.jsx)(m.Z,{statistic:{title:"\u672C\u6708\u5B89\u88C5\u91CF",value:n==null?void 0:n.month,description:(0,u.jsx)(d,{title:"\u4E0A\u6708\u540C\u6BD4",value:(n==null?void 0:n.mc)==="-"?"-":(n==null?void 0:n.mc)+"%",trend:(n==null?void 0:n.mc)<0?"down":"up"})},chartPlacement:"left"})]})},"resize-observer")};f.Z=A},29452:function(j,f,e){"use strict";e.r(f);var _=e(3515),o=e(85461),m=e(13254),l=e(14277),u=e(96132),d=e(22385),B=e(69713),A=e(37730),K=e(33565),O=e(21349),L=e(23723),n=e(67294),v=e(84787),D=e(33053),W=e.n(D),E=e(21010),U=e(73727),T=e(16894),w=e(7110),g=e(56905),Y=e(64358),b=e(13718),i=e(85893);function R(P){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,p=P.indexOf("/"),M=0;M<S&&p!==-1;M++)p=P.indexOf("/",p+1);return p!==-1?P.substr(0,p):P}var z=function(S){var p,M,x,a,r,c,s,t,F,$=S.showAll,V=S.userId,Q=n.useState("current"),N=(0,K.Z)(Q,2),I=N[0],H=N[1];n.useEffect(function(){y.run(),I==="current"?h.reset():h.run()},[V]);var y=(0,E.QT)(function(){return $?(0,g.K1)({current:!0,base:!0,userId:V}):(0,g.P)({current:!0,base:!0})},{manual:!0}),h=(0,E.QT)(function(){return $?(0,g.K1)({month:!0,userId:V}):(0,g.P)({month:!0})},{manual:!0}),X=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(Z,C){return(0,i.jsx)(B.Z,{placement:"top",title:C.appId,children:(0,i.jsx)(U.rU,{to:R(E.m8.location.pathname)+"/"+C.id,children:Z})})}}].concat((0,A.Z)($?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(Z,C){return(0,i.jsxs)(i.Fragment,{children:[C.nick," (",C.email,")"]})}}]:[]),[{title:"\u5E94\u7528\u5546\u5E97\u5B89\u88C5",dataIndex:"install_store",key:"install_store",hideInSearch:!0},{title:"\u5E94\u7528ID\u5B89\u88C5",dataIndex:"install_app_id",key:"install_app_id",hideInSearch:!0},{title:"\u6587\u4EF6\u5B89\u88C5",dataIndex:"install_file",key:"install_file",hideInSearch:!0},{title:"\u5E94\u7528\u5B89\u88C5",dataIndex:"install_app",key:"install_app",hideInSearch:!0},{title:"\u542F\u52A8\u5668\u5B89\u88C5",dataIndex:"install_loader",key:"install_loader",hideInSearch:!0}]),J={appendPadding:10,height:400,data:I==="current"?((p=y.data)===null||p===void 0?void 0:p.current.rank)||[]:((M=h.data)===null||M===void 0?void 0:M.month.rank)||[],angleField:"value",colorField:"type",radius:.8,loading:I==="current"?y.loading:h.loading,label:{type:"outer",content:"{name} {percentage}"},onReady:function(Z){Z.on("element:click",function(C){E.m8.push(R(E.m8.location.pathname)+"/"+C.data.data.id)})},interactions:[{type:"pie-legend-active"},{type:"element-active"}]},k={appendPadding:10,height:400,data:I==="current"?((x=y.data)===null||x===void 0?void 0:x.current.from)||[]:((a=h.data)===null||a===void 0?void 0:a.month.from)||[],angleField:"value",colorField:"type",radius:.8,loading:I==="current"?y.loading:h.loading,label:{type:"outer",content:"{name} {percentage}"},interactions:[{type:"pie-legend-active"},{type:"element-active"}]},q=(0,i.jsxs)(v.ZP,{split:"horizontal",children:[(0,i.jsx)(v.ZP,{bodyStyle:{padding:0},style:{marginTop:10},children:(0,i.jsx)(T.ZP,{headerTitle:"\u5B89\u88C5\u91CF\u8BE6\u60C5",params:(0,u.Z)({},I==="current"?{type:1}:{type:2}),rowKey:"id",search:!1,request:$?g.Yd:g.Dz,scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:X})}),(0,i.jsx)(v.ZP,{collapsible:!0,title:"TOP10\u5B89\u88C5\u91CF\u5E94\u7528",style:{position:"relative"},bodyStyle:{height:"auto"},children:(I==="current"?(((r=y.data)===null||r===void 0?void 0:r.current.rank)||[]).length===0:(((c=h.data)===null||c===void 0?void 0:c.month.rank)||[]).length===0)?(0,i.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE}):(0,i.jsx)(w.Z,(0,u.Z)({},J))}),(0,i.jsx)(v.ZP,{collapsible:!0,title:"\u5E94\u7528\u5B89\u88C5\u6765\u6E90",style:{position:"relative"},bodyStyle:{height:"auto"},children:(I==="current"?(((s=y.data)===null||s===void 0?void 0:s.current.from)||[]).length===0:(((t=h.data)===null||t===void 0?void 0:t.month.from)||[]).length===0)?(0,i.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE}):(0,i.jsx)(w.Z,(0,u.Z)({},k))})]});return(0,i.jsx)(O.Z,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)(L.Z,{}),children:(0,i.jsx)(Y.Z,{loading:y.loading,active:(F=y.data)===null||F===void 0?void 0:F.base})}),(0,i.jsxs)(n.Suspense,{fallback:(0,i.jsx)(L.Z,{}),children:[(0,i.jsx)(o.Z,{offsetTop:b.M,style:{overflow:"hidden"},children:(0,i.jsxs)(v.ZP,{className:W().tabs,tabs:{tabPosition:"top",size:"large",activeKey:I,onChange:function(Z){H(Z),Z==="month"&&!h.data&&!h.loading&&h.run()}},style:{boxShadow:"0 0 5px #00000044"},children:[(0,i.jsx)(v.ZP.TabPane,{tab:"\u4ECA\u65E5",cardProps:{bodyStyle:{padding:0,display:"none"}}},"current"),(0,i.jsx)(v.ZP.TabPane,{tab:"\u672C\u6708",cardProps:{bodyStyle:{padding:0,display:"none"}}},"month")]})}),(0,i.jsx)(v.ZP,{bodyStyle:{padding:0},children:q})]})]})})};f.default=z},13718:function(j,f,e){"use strict";e.d(f,{M:function(){return _}});var _=60},23723:function(j,f,e){"use strict";var _=e(20228),o=e(11382),m=e(85893);f.Z=function(){return(0,m.jsx)("div",{style:{paddingTop:100,textAlign:"center"},children:(0,m.jsx)(o.Z,{size:"large"})})}},56905:function(j,f,e){"use strict";e.d(f,{s8:function(){return B},IX:function(){return K},Pf:function(){return L},Up:function(){return v},CF:function(){return W},Xf:function(){return U},P:function(){return w},Dz:function(){return Y},K1:function(){return i},Yd:function(){return z},sg:function(){return S},oQ:function(){return M}});var _=e(96132),o=e(57361),m=e(9754),l=e.n(m),u=e(18811),d=e(21010);function B(a,r){return A.apply(this,arguments)}function A(){return A=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstance",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),A.apply(this,arguments)}function K(a,r){return O.apply(this,arguments)}function O(){return O=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstanceList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),O.apply(this,arguments)}function L(a,r){return n.apply(this,arguments)}function n(){return n=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstance",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),n.apply(this,arguments)}function v(a,r){return D.apply(this,arguments)}function D(){return D=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstanceList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),D.apply(this,arguments)}function W(a,r){return E.apply(this,arguments)}function E(){return E=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppActive",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),E.apply(this,arguments)}function U(a,r){return T.apply(this,arguments)}function T(){return T=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppActiveStat",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),T.apply(this,arguments)}function w(a){return g.apply(this,arguments)}function g(){return g=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),g.apply(this,arguments)}function Y(a){return b.apply(this,arguments)}function b(){return b=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstallList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),b.apply(this,arguments)}function i(a){return R.apply(this,arguments)}function R(){return R=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),R.apply(this,arguments)}function z(a){return P.apply(this,arguments)}function P(){return P=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstallList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),P.apply(this,arguments)}function S(a,r){return p.apply(this,arguments)}function p(){return p=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),p.apply(this,arguments)}function M(a,r){return x.apply(this,arguments)}function x(){return x=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppInstallStat",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),x.apply(this,arguments)}}}]);
