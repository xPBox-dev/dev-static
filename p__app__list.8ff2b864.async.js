(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4316],{5966:function(Z,O,n){"use strict";var f=n(67294),c=n(45514),L=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"];function E(){return E=Object.assign||function(_){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(_[l]=d[l])}return _},E.apply(this,arguments)}function m(_,o){if(_==null)return{};var d=K(_,o),l,i;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(_);for(i=0;i<v.length;i++)l=v[i],!(o.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(_,l)||(d[l]=_[l]))}return d}function K(_,o){if(_==null)return{};var d={},l=Object.keys(_),i,v;for(v=0;v<l.length;v++)i=l[v],!(o.indexOf(i)>=0)&&(d[i]=_[i]);return d}var g="text",j=function(o){var d=o.fieldProps,l=o.proFieldProps,i=m(o,L);return f.createElement(c.Z,E({mode:"edit",valueType:g,fieldProps:d,filedConfig:{valueType:g},proFieldProps:l},i))},M=function(o){var d=o.fieldProps,l=o.proFieldProps,i=m(o,s);return f.createElement(c.Z,E({mode:"edit",valueType:"password",fieldProps:d,proFieldProps:l,filedConfig:{valueType:g}},i))},I=j;I.Password=M,I.displayName="ProFormComponent",O.Z=I},36728:function(Z,O,n){"use strict";n.r(O);var f=n(71153),c=n(60331),L=n(84305),s=n(26072),E=n(57663),m=n(71577),K=n(13254),g=n(14277),j=n(59250),M=n(13013),I=n(37730),_=n(30887),o=n(14289),d=n(34792),l=n(48086),i=n(33565),v=n(57254),A=n(49101),D=n(67294),C=n(21010),y=n(73727),x=n(19797),S=n(16894),T=n(84744),b=n(8890),B=n(5966),k=n(13718),W=n(74865),a=n.n(W),r=n(2568),h=n.n(r),t=n(85893),e="MIV4",z=function(J){var w,$,N,Y=J.route.name==="all",q=(0,D.useState)({lastBuild:{show:!1},pushBuild:{show:!1}}),G=(0,i.Z)(q,2),ee=G[0],ne=G[1];function te(p){R.current=p,F(!0)}var H=(0,D.useRef)(),U=(0,D.useRef)(),re=(0,D.useState)(!1),Q=(0,i.Z)(re,2),ae=Q[0],F=Q[1],R=D.useRef(null),V=D.useRef(!0),X=D.useRef(),ue=(0,C.QT)(T.IV,{manual:!0,onSuccess:function(){l.default.success("\u5220\u9664\u6210\u529F"),F(!1),U.current.reload()},onError:function(u){var P=u.data.errorMessage;l.default.error(P),F(!1)}});(0,C.Gs)(function(){C.m8.action==="PUSH"&&U.current.reload()});var se=function(u){return(0,t.jsxs)(o.Z,{_nk:"".concat(e,"11"),children:[(0,t.jsx)(o.Z.Item,{_nk:"".concat(e,"21"),children:(0,t.jsx)(y.rU,{to:"/app/edit/"+u.id,_nk:"".concat(e,"31"),children:"\u7F16\u8F91"})},"edit"),(0,t.jsx)(o.Z.Item,{_nk:"".concat(e,"22"),children:(0,t.jsx)(y.rU,{to:"/app/update/"+u.id,_nk:"".concat(e,"32"),children:"\u66F4\u65B0\u9009\u9879"})},"update"),(0,t.jsx)(o.Z.Divider,{_nk:"".concat(e,"23")}),(0,t.jsx)(o.Z.Item,{danger:!0,onClick:function(){return te(u)},_nk:"".concat(e,"24"),children:"\u5220\u9664"},"delete")]})},oe=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(u,P){return(0,t.jsx)(y.rU,{to:"/app/detail/"+P.id,_nk:"".concat(e,"33"),children:h()(u).substring(0,8)})},hideInSearch:!0}].concat((0,I.Z)(Y?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(u,P){return(0,t.jsx)(t.Fragment,{children:h()(u).substring(0,8)})},hideInSearch:!0}]:[]),[{title:"\u5E94\u7528ID",dataIndex:"appId",key:"appId",copyable:!0,hideInSearch:!0,render:function(u){return h()(u).substring(0,8)}},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u5DF2\u4E0B\u67B6",status:"Warning"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"}}},{title:"\u7248\u672C\u6570",dataIndex:"versionCount",key:"versionCount",hideInSearch:!0,width:"70px"},{title:"\u6700\u65B0\u7248\u672C",dataIndex:"lastBuild",hideInSearch:!0,render:function(u,P){return u==="-"?u:(0,t.jsxs)(t.Fragment,{children:[P.lastBuildName," (",u,")"]})}},{title:"\u53EF\u89C1",dataIndex:"visible",key:"visible",valueType:"switch",hideInSearch:!0},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(u,P){return(0,t.jsx)(M.Z,{overlay:se(P),_nk:"".concat(e,"41"),children:(0,t.jsxs)("a",{className:"ant-dropdown-link",onClick:function(le){return le.preventDefault()},_nk:"".concat(e,"51"),children:["\u64CD\u4F5C",(0,t.jsx)(v.Z,{_nk:"".concat(e,"61")})]})})}}]);return(0,t.jsxs)(x.ZP,{_nk:"".concat(e,"71"),children:[(0,t.jsx)(s.ZP,{renderEmpty:function(){return(0,t.jsx)("div",{style:{textAlign:"center"},_nk:"".concat(e,"91"),children:V.current?(0,t.jsx)("span",{_nk:"".concat(e,"a1"),children:"\u6B63\u5728\u52A0\u8F7D..."}):(0,t.jsx)(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:(0,t.jsxs)("span",{_nk:"".concat(e,"a2"),children:["\u6682\u65F6\u6CA1\u6709\u5E94\u7528\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,t.jsx)(y.rU,{to:"/app/add",_nk:"".concat(e,"34"),children:"\u521B\u5EFA\u4E00\u4E2A"})]}),_nk:"".concat(e,"b1")})})},_nk:"".concat(e,"81"),children:(0,t.jsx)(S.ZP,{sticky:{offsetHeader:k.M},headerTitle:"\u5E94\u7528\u5217\u8868",actionRef:U,rowKey:"id",loading:!1,search:{filterType:"light",labelWidth:120},onLoad:function(){V.current=!1,a().done()},onLoadingChange:function(u){V.current=!0,a().start()},toolbar:{search:{onSearch:function(u){H.current=u,U.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},toolBarRender:function(){return[(0,t.jsx)(y.rU,{to:"/app/add",_nk:"".concat(e,"35"),children:(0,t.jsxs)(m.Z,{type:"primary",_nk:"".concat(e,"d1"),children:[(0,t.jsx)(A.Z,{_nk:"".concat(e,"e1")})," \u65B0\u589E\u5E94\u7528"]})},"primary")]},scroll:{x:600},request:function(u){return u.search=H.current,Y?(0,T.aF)(u):(0,T.pb)(u)},options:{fullScreen:!0,reload:!0,setting:!0},columns:oe,columnsState:{value:ee,onChange:ne},_nk:"".concat(e,"c1")})}),(0,t.jsxs)(b.Z,{title:"\u786E\u8BA4\u5220\u9664",width:400,formRef:X,modalProps:{afterClose:function(){var u;(u=X.current)===null||u===void 0||u.resetFields()}},visible:ae,onVisibleChange:F,onFinish:function(u){var P;return ue.run({id:(P=R.current)===null||P===void 0?void 0:P.id})},_nk:"".concat(e,"f1"),children:[(0,t.jsx)("p",{_nk:"".concat(e,"g1"),children:"\u5220\u9664\u540E\u5C06\u670930\u5929\u7684\u4FDD\u7559\u671F\uFF0C\u671F\u95F4\u65E0\u6CD5\u518D\u521B\u5EFA\u5E94\u7528ID\u76F8\u540C\u7684\u5E94\u7528\u3002"}),(0,t.jsxs)("p",{_nk:"".concat(e,"g2"),children:["\u8BF7\u8F93\u5165\xA0",(0,t.jsx)(c.Z,{_nk:"".concat(e,"h1"),children:(w=R.current)===null||w===void 0?void 0:w.appId}),"\u4EE5\u786E\u8BA4\u5220\u9664"]}),(0,t.jsx)(B.Z,{name:"confirm",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528ID\u4EE5\u786E\u8BA4\u5220\u9664",style:{marginTop:5},rules:[{type:"enum",required:!0,enum:[($=R.current)===null||$===void 0?void 0:$.appId],message:"\u8BF7\u8F93\u5165 "+((N=R.current)===null||N===void 0?void 0:N.appId)+" \u4EE5\u786E\u8BA4\u5220\u9664"}],_nk:"".concat(e,"i1")})]})]})};O.default=z},13718:function(Z,O,n){"use strict";n.d(O,{M:function(){return c}});var f="ojP7",c=60},84744:function(Z,O,n){"use strict";n.d(O,{w$:function(){return g},pb:function(){return j},aF:function(){return I},Nm:function(){return o},rZ:function(){return l},yC:function(){return v},h$:function(){return D},wW:function(){return y},eP:function(){return S},IH:function(){return b},IV:function(){return k}});var f=n(96132),c=n(57361),L=n(9754),s=n.n(L),E=n(18811),m=n(21010),K="7PXW",g={UNKNOWN:0,NORMAL:1,PENDING:2,FAILED:3,DISABLED:4,DELETED:5,BANNED:6,CHANGED:7,getText:function(r){return["\u672A\u77E5","\u6B63\u5E38","\u5BA1\u6838\u4E2D","\u5BA1\u6838\u672A\u901A\u8FC7","\u5DF2\u4E0B\u67B6","\u7B49\u5F85\u5220\u9664","\u8FDD\u89C4\u5C01\u7981","\u6B63\u5E38-\u5F85\u5BA1\u6838"][r]},getColor:function(r){return["#a8071a","#237804","#0050b3","#a8071a","#faad14","#a8071a","#a8071a","#0050b3"][r]}};function j(a,r){return M.apply(this,arguments)}function M(){return M=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/getList",{method:"POST",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),M.apply(this,arguments)}function I(a,r){return _.apply(this,arguments)}function _(){return _=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/getAll",{method:"POST",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),_.apply(this,arguments)}function o(a,r){return d.apply(this,arguments)}function d(){return d=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/getDetail",{method:"POST",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),d.apply(this,arguments)}function l(a,r){return i.apply(this,arguments)}function i(){return i=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/getStatistic",{method:"POST",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),i.apply(this,arguments)}function v(a,r){return A.apply(this,arguments)}function A(){return A=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/search",{method:"POST",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),A.apply(this,arguments)}function D(a,r){return C.apply(this,arguments)}function C(){return C=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/disable",{method:"POST",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),C.apply(this,arguments)}function y(a,r){return x.apply(this,arguments)}function x(){return x=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/edit",{method:"GET",params:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),x.apply(this,arguments)}function S(a,r){return T.apply(this,arguments)}function T(){return T=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/edit",{method:"POST",data:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),T.apply(this,arguments)}function b(a,r){return B.apply(this,arguments)}function B(){return B=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/add",{method:"POST",data:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),B.apply(this,arguments)}function k(a,r){return W.apply(this,arguments)}function W(){return W=(0,c.Z)(s().mark(function a(r,h){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(E.s3+"app/delete",{method:"POST",data:(0,f.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),W.apply(this,arguments)}}}]);
