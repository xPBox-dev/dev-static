(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[706],{62298:function(M,L,l){"use strict";l.d(L,{Z:function(){return J}});var U=l(28991),D=l(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},K=Q,Y=l(27029),P=function(X,B){return D.createElement(Y.Z,(0,U.Z)((0,U.Z)({},X),{},{ref:B,icon:K}))};P.displayName="CloudUploadOutlined";var J=D.forwardRef(P)},25240:function(M,L,l){"use strict";l.d(L,{Z:function(){return J}});var U=l(28991),D=l(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M926 164H94c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V196c0-17.7-14.3-32-32-32zm-40 632H134V236h752v560zm-658.9-82.3c3.1 3.1 8.2 3.1 11.3 0l172.5-172.5 114.4 114.5c3.1 3.1 8.2 3.1 11.3 0l297-297.2c3.1-3.1 3.1-8.2 0-11.3l-36.8-36.8a8.03 8.03 0 00-11.3 0L531 565 416.6 450.5a8.03 8.03 0 00-11.3 0l-214.9 215a8.03 8.03 0 000 11.3l36.7 36.9z"}}]},name:"fund",theme:"outlined"},K=Q,Y=l(27029),P=function(X,B){return D.createElement(Y.Z,(0,U.Z)((0,U.Z)({},X),{},{ref:B,icon:K}))};P.displayName="FundOutlined";var J=D.forwardRef(P)},46360:function(M){M.exports={header:"header___1YsBZ"}},53266:function(M){M.exports={tabs:"tabs___YEat-"}},46164:function(M,L,l){"use strict";l.r(L),l.d(L,{default:function(){return wt}});var U=l(3515),D=l(86288),Q=l(13062),K=l(71230),Y=l(89032),P=l(15746),J=l(64896),le=l(37744),X=l(57663),B=l(71577),N=l(96132),we=l(57361),Kt=l(20228),Ke=l(11382),ue=l(33565),Ne=l(9754),ye=l.n(Ne),We=l(65476),c=l(67294),ze=l(84744),Ge=l(21349),Z=l(21010),F=l(84787),He=l(53266),Qe=l.n(He),Ye=l(46360),Je=l.n(Ye),Xe=l(57845),oe=l(73586),Nt=l(63185),k=l(9676),Wt=l(22385),ie=l(69713),zt=l(43358),I=l(90290),ke=l(1870),$=l(56837),n=l(85893),qe=function(a){var t=a.data,r=a.loading,u=a.appId,o=a.disabled,i=c.useRef({}),d=c.useState(!1),s=(0,ue.Z)(d,2),f=s[0],p=s[1],v=(0,Z.QT)(function(){return(0,$.Ov)({appId:u,options:i.current})},{manual:!0}),x=function(h){var j=Object.keys(h)[0],V=h[Object.keys(h)[0]];t[j]===V?delete i.current[j]:i.current[j]=V,p(Object.keys(i.current).length>0)},A=function(){v.run(),p(!1),Object.keys(i.current).forEach(function(h){t[h]=i.current[h]}),i.current={}};return(0,n.jsxs)(F.ZP,{title:"\u66F4\u65B0&\u5728\u7EBF\u5B89\u88C5\u9009\u9879",loading:r,extra:(0,n.jsx)(B.Z,{type:"primary",size:"small",loading:v.loading,disabled:!f||o,onClick:A,children:"\u4FDD\u5B58"}),children:[(0,n.jsxs)("div",{style:{marginBottom:8},children:[(0,n.jsx)("span",{style:{marginRight:8},children:"\u901A\u8FC7\u5E94\u7528ID\u3001\u5E94\u7528\u5546\u5E97\u3001\u542F\u52A8\u5668\u7B49\u65B9\u5F0F\u5B89\u88C5\u7684\u9ED8\u8BA4\u901A\u9053"}),(0,n.jsxs)(I.Z,{size:"small",defaultValue:t==null?void 0:t.defaultChannel,dropdownMatchSelectWidth:!1,onChange:function(h){return x({defaultChannel:h})},disabled:v.loading||o,children:[(0,n.jsx)(I.Z.Option,{value:-2,children:"\u6700\u65B0\u7684\u8F83\u7A33\u5B9A\u7248\u672C"}),(0,n.jsx)(I.Z.Option,{value:-1,children:"\u6700\u65B0Build"}),(0,n.jsx)(I.Z.Option,{value:0,children:"Stable"}),(0,n.jsx)(I.Z.Option,{value:1,children:"Beta"}),(0,n.jsx)(I.Z.Option,{value:2,children:"Alpha"})]})]}),(0,n.jsx)("div",{style:{marginBottom:8},children:(0,n.jsxs)(k.Z,{defaultChecked:t==null?void 0:t.updateToStableVersion,disabled:v.loading||o,onChange:function(h){return x({updateToStableVersion:h.target.checked})},children:["\u81EA\u52A8\u66F4\u65B0\u5230\u8F83\u7A33\u5B9A\u7684\u7248\u672C",(0,n.jsx)(ie.Z,{title:"\u5373\u4F7F\u7528\u6237\u9009\u62E9\u4E86\u66F4\u4E0D\u7A33\u5B9A\u7684\u901A\u9053\uFF0C\u82E5\u7A33\u5B9A\u901A\u9053\u6709\u66F4\u65B0\u7684\u7248\u672C\u4E5F\u53EF\u4EE5\u5347\u7EA7\u3002\u63A8\u8350\u542F\u7528\u3002",children:(0,n.jsx)(ke.Z,{style:{marginLeft:3}})})]})}),(0,n.jsx)("div",{style:{marginBottom:8},children:(0,n.jsx)(k.Z,{defaultChecked:t==null?void 0:t.rollback,disabled:v.loading||o,onChange:function(h){return x({rollback:h.target.checked})},children:"\u5F53\u63A8\u9001\u7248\u672C\u4F4E\u4E8E\u5DF2\u5B89\u88C5\u7248\u672C\u65F6\u9000\u56DE"})}),(0,n.jsxs)("div",{style:{marginBottom:8},children:["\u9700\u5F00\u53D1\u8BB8\u53EF\u624D\u53EF\u8BBF\u95EE\u7684\u901A\u9053\uFF1A",(0,n.jsx)(k.Z,{defaultChecked:t==null?void 0:t.betaAccess,disabled:v.loading||o,onChange:function(h){return x({betaAccess:h.target.checked})},children:"Beta"}),(0,n.jsx)(k.Z,{defaultChecked:t==null?void 0:t.alphaAccess,disabled:v.loading||o,onChange:function(h){return x({alphaAccess:h.target.checked})},children:"Alpha"})]})]})},_e=qe,Gt=l(77576),W=l(12028),Ht=l(47673),xe=l(4107),Qt=l(9715),et=l(35402),tt=l(21770),nt=l(49101),q=l(22270),at=l(93130),rt=l(78494),lt=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled"],ut=["record","position","creatorButtonText","newRecordType","parentKey"];function w(){return w=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},w.apply(this,arguments)}function be(e,a){return st(e)||dt(e,a)||it(e,a)||ot()}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(e,a){if(!!e){if(typeof e=="string")return je(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return je(e,a)}}function je(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}function dt(e,a){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],u=!0,o=!1,i,d;try{for(t=t.call(e);!(u=(i=t.next()).done)&&(r.push(i.value),!(a&&r.length===a));u=!0);}catch(s){o=!0,d=s}finally{try{!u&&t.return!=null&&t.return()}finally{if(o)throw d}}return r}}function st(e){if(Array.isArray(e))return e}function Ce(e,a){if(e==null)return{};var t=ct(e,a),r,u;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(u=0;u<o.length;u++)r=o[u],!(a.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function ct(e,a){if(e==null)return{};var t={},r=Object.keys(e),u,o;for(o=0;o<r.length;o++)u=r[o],!(a.indexOf(u)>=0)&&(t[u]=e[u]);return t}function Se(e,a,t,r,u,o,i){try{var d=e[o](i),s=d.value}catch(f){t(f);return}d.done?a(s):Promise.resolve(s).then(r,u)}function vt(e){return function(){var a=this,t=arguments;return new Promise(function(r,u){var o=e.apply(a,t);function i(s){Se(o,r,u,i,d,"next",s)}function d(s){Se(o,r,u,i,d,"throw",s)}i(void 0)})}}function Fe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),t.push.apply(t,r)}return t}function de(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Fe(Object(t),!0).forEach(function(r){Pe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fe(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Pe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Ee=c.createContext(void 0);function Oe(e){var a=e.children,t=e.record,r=e.position,u=e.newRecordType,o=e.parentKey,i=(0,c.useContext)(Ee);return c.cloneElement(a,de(de({},a.props),{},{onClick:function(){var d=vt(regeneratorRuntime.mark(function f(p){var v,x,A,b;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(v=(x=a.props).onClick)===null||v===void 0?void 0:v.call(x,p);case 2:if(b=j.sent,b!==!1){j.next=5;break}return j.abrupt("return");case 5:i==null||(A=i.current)===null||A===void 0||A.addEditRecord(t,{position:r,newRecordType:u,parentKey:o});case 6:case"end":return j.stop()}},f)}));function s(f){return d.apply(this,arguments)}return s}()}))}function Ze(e){var a,t=e.onTableChange,r=e.maxLength,u=e.formItemProps,o=e.recordCreatorProps,i=e.rowKey,d=e.controlled,s=Ce(e,lt),f=(0,c.useRef)(),p=et.Z.useForm(),v=be(p,1),x=v[0];(0,c.useImperativeHandle)(s.actionRef,function(){return f.current});var A=(0,tt.Z)(function(){return e.value||[]},{value:e.value,onChange:e.onChange}),b=be(A,2),h=b[0],j=b[1],V=c.useMemo(function(){return typeof i=="function"&&i?i:function(O,C){return O[i]||C}},[i]);(0,c.useEffect)(function(){!e.controlled||h.forEach(function(O,C){x.setFieldsValue(Pe({},V(O,C),O))},{})},[h,e.controlled]);var T=o||{},pe=T.record,ne=T.position,z=T.creatorButtonText,y=T.newRecordType,G=T.parentKey,me=Ce(T,ut),H=ne==="top",R=(0,c.useMemo)(function(){return r&&r<=(h==null?void 0:h.length)?!1:o!==!1&&c.createElement(Oe,{record:(0,q.h)(pe,h.length,h)||{},position:ne,parentKey:(0,q.h)(G,h.length,h),newRecordType:y},c.createElement(B.Z,w({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:c.createElement(nt.Z,null)},me),z||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[o,r,h.length]),ae=(0,c.useMemo)(function(){return R?H?{components:{header:{wrapper:function(C){var g,m=C.className,S=C.children;return c.createElement("thead",{className:m},S,c.createElement("tr",{style:{position:"relative"}},c.createElement("td",{colSpan:0,style:{visibility:"hidden"}},R),c.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(g=s.columns)===null||g===void 0?void 0:g.length},R)))}}}}:{tableViewRender:function(C,g){var m,S;return c.createElement(c.Fragment,null,(m=(S=e.tableViewRender)===null||S===void 0?void 0:S.call(e,C,g))!==null&&m!==void 0?m:g,R)}}:{}},[H,R]),re=de({form:x},e.editable);return((e==null?void 0:e.onValuesChange)||((a=e.editable)===null||a===void 0?void 0:a.onValuesChange)||e.controlled&&(e==null?void 0:e.onChange))&&(re.onValuesChange=function(O,C){var g,m,S;if((g=e.editable)===null||g===void 0||(m=g.onValuesChange)===null||m===void 0||m.call(g,O,C),(S=e.onValuesChange)===null||S===void 0||S.call(e,C,O),e.controlled){var E;e==null||(E=e.onChange)===null||E===void 0||E.call(e,C)}}),c.createElement(Ee.Provider,{value:f},c.createElement(rt.Z,w({search:!1,options:!1,pagination:!1,rowKey:i},s,ae,{tableLayout:"fixed",actionRef:f,onChange:t,dataSource:h,editable:re,onDataSourceChange:j})))}function Ae(e){var a=e.name,t=e.formItemProps;return a?c.createElement(at.gN,w({shouldUpdate:!0,name:e.name},t,{isList:!0}),function(r){return c.createElement(Ze,w({},e,{value:r.value,onChange:r.onChange}))}):c.createElement(Ze,e)}Ae.RecordCreator=Oe;var ht=Ae,ft=function(){var a=[{id:0,title:"\u9ED8\u8BA4",type:"0",day:1,up:1},{id:1,title:"Stable",type:"0",day:1,up:1},{id:2,title:"Beta",type:"0",day:1,up:1},{id:3,title:"Alpha",type:"0",day:1,up:1}],t=[{title:"\u7070\u5EA6\u66F4\u65B0\u60C5\u666F",dataIndex:"title",editable:!1},{title:"\u66F4\u65B0\u6A21\u5F0F",dataIndex:"type",valueType:"select",formItemProps:{allowClear:!1},valueEnum:{0:{text:"\u7ACB\u5373\u6A21\u5F0F"},1:{text:"\u7EBF\u6027\u6A21\u5F0F"},2:{text:"\u4E8C\u6B21\u51FD\u6570"},3:{text:"\u4E09\u6B21\u51FD\u6570"},4:{text:"\u6807\u51C6\u8D1D\u585E\u5C14\u66F2\u7EBF"}}},{title:"\u6301\u7EED\u5929\u6570",dataIndex:"day",renderFormItem:function(o){return(0,n.jsx)(xe.Z,{type:"number",min:0,max:255,addonAfter:"\u5929"})}},{title:"\u7070\u5EA6\u4E0A\u9650",dataIndex:"up",renderFormItem:function(o){return(0,n.jsx)(xe.Z,{type:"number",min:1,max:100,addonAfter:"%"})}}],r=[0,1,2,3];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ht,{columns:t,rowKey:"id",value:a,toolBarRender:function(){return[(0,n.jsx)(B.Z,{type:"primary",onClick:function(){console.log(a)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:r,onValuesChange:function(o,i){}}})})},_=ft,pt=function(){return(0,n.jsxs)(F.ZP,{split:"horizontal",title:"\u7070\u5EA6\u66F4\u65B0",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"Pro"}),collapsed:!0,children:[(0,n.jsx)(F.ZP,{bodyStyle:{padding:0},children:(0,n.jsx)(_,{})}),(0,n.jsxs)(F.ZP,{type:"inner",title:"Stable",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49"}),collapsed:!0,children:[" ",(0,n.jsx)(_,{})]}),(0,n.jsxs)(F.ZP,{type:"inner",title:"Beta",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49"}),collapsed:!0,children:[" ",(0,n.jsx)(_,{})]}),(0,n.jsxs)(F.ZP,{type:"inner",title:"Alpha",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49"}),collapsed:!0,children:[" ",(0,n.jsx)(_,{})]})]})},mt=pt,Be=l(16894),gt=l(28030),yt=function(a){var t=a.children,r=a.disabled;return(0,n.jsx)("div",{style:(0,N.Z)((0,N.Z)({},r?{opacity:"0.6",pointerEvents:"none",userSelect:"none"}:{}),{},{transition:"opacity 0.3s"}),children:t})},xt=yt,Yt=l(34792),Ie=l(48086),bt=function(a){var t=a.appId,r=a.enabled,u=a.loading,o=a.onChanged,i=(0,Z.QT)($.wp,{manual:!0,onError:function(s){var f,p=s&&((f=s.data)===null||f===void 0?void 0:f.errorMessage);p?Ie.default.error("\u64CD\u4F5C\u5931\u8D25\uFF01"+p):Ie.default.error("\u64CD\u4F5C\u5931\u8D25\uFF01")}});return(0,n.jsx)(F.ZP,{title:"\u542F\u7528\u7248\u672C\u7BA1\u7406\u5668",style:{marginBottom:24},extra:(0,n.jsx)(W.Z,{loading:u||i.loading,checked:r,onChange:function(s){return i.run({appId:t,enable:s}).then(function(){return o&&o(s)})}}),collapsed:!0})},jt=bt,se=l(13718),Jt=l(88983),ce=l(47933),Xt=l(74379),Te=l(38648),Re=l(49085),De=l(66758),Ct=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],St=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function ee(){return ee=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ee.apply(this,arguments)}function $e(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),t.push.apply(t,r)}return t}function ve(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?$e(Object(t),!0).forEach(function(r){Ft(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ft(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ve(e,a){if(e==null)return{};var t=Pt(e,a),r,u;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(u=0;u<o.length;u++)r=o[u],!(a.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function Pt(e,a){if(e==null)return{};var t={},r=Object.keys(e),u,o;for(o=0;o<r.length;o++)u=r[o],!(a.indexOf(u)>=0)&&(t[u]=e[u]);return t}var Et=c.forwardRef(function(e,a){var t=e.fieldProps,r=e.children,u=e.params,o=e.proFieldProps,i=e.mode,d=e.valueEnum,s=e.request,f=e.showSearch,p=e.options,v=Ve(e,Ct),x=(0,c.useContext)(De.Z);return c.createElement(Re.Z,ee({mode:"edit",valueEnum:(0,q.h)(d),request:s,params:u,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:ve({options:p,mode:i,showSearch:f,getPopupContainer:x.getPopupContainer},t),ref:a,proFieldProps:o},v),r)}),Ot=c.forwardRef(function(e,a){var t=e.fieldProps,r=e.children,u=e.params,o=e.proFieldProps,i=e.mode,d=e.valueEnum,s=e.request,f=e.options,p=Ve(e,St),v=ve({options:f,mode:i||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},t),x=(0,c.useContext)(De.Z);return c.createElement(Re.Z,ee({mode:"edit",valueEnum:(0,q.h)(d),request:s,params:u,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:ve({getPopupContainer:x.getPopupContainer},v),ref:a,proFieldProps:o},p),r)}),Zt=Et,At=Ot,he=Zt;he.SearchSelect=At,he.displayName="ProFormComponent";var Me=he,te=l(15196),Bt=function(a){var t,r,u=a.appId,o=(0,Z.QT)($.m7),i=(0,Z.QT)(function(s){return(0,$.E4)({search:s,appId:u,all:!0})},{debounceInterval:500,manual:!0});c.useEffect(function(){d.current.resetFields(),i.run()},[u]);var d=c.useRef();return(0,n.jsx)(F.ZP,{title:"\u66F4\u65B0\u6A21\u62DF\u5668",style:{marginBottom:24},defaultCollapsed:!0,collapsible:!0,children:(0,n.jsx)(te.ZP,{formRef:d,onFinish:function(f){return o.run((0,N.Z)({appId:u},f)).then(function(p){p.build===0?Te.default.info({message:"\u6A21\u62DF\u7ED3\u679C",description:"\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C"}):Te.default.success({message:"\u6A21\u62DF\u7ED3\u679C",description:(0,n.jsxs)(n.Fragment,{children:["\u5C06\u4F1A\u66F4\u65B0\u7684\u7248\u672C\u662F\uFF1A",p.name," (",p.build,")",(0,n.jsx)("br",{}),"\u7248\u672C\u901A\u9053\uFF1A",["Stable","Beta","Alpha"][p.channel]]})})})},submitter:{searchConfig:{submitText:"\u6A21\u62DF"}},children:(0,n.jsxs)(te.ZP.Group,{children:[(0,n.jsx)(te.ZP.Item,{name:"build",width:"sm",label:"\u5F53\u524D\u7248\u672C",rules:[{required:!0}],children:(0,n.jsx)(I.Z,{showSearch:!0,placeholder:"\u9009\u62E9\u4E00\u4E2A\u7248\u672C",filterOption:function(f,p){var v;return((v=p.title)===null||v===void 0?void 0:v.toLowerCase().indexOf(f.toLowerCase()))>=0},style:{width:200},dropdownMatchSelectWidth:!1,onSearch:function(f){if(f){i.run(f);var p=Number(f);Number.isInteger(p)?d.current.setFieldsValue({build:p}):d.current.setFieldsValue({build:void 0})}},children:(t=i.data)===null||t===void 0||(r=t.list)===null||r===void 0?void 0:r.map(function(s){return(0,n.jsx)(I.Z.Option,{value:s.build,title:s.versionName+" ("+s.build+")",children:s.versionName+" ("+s.build+")"},s.build)})})}),(0,n.jsx)(Me,{name:"channel",width:"sm",label:"\u5F53\u524D\u7248\u672C\u901A\u9053",options:[{label:"Stable",value:0},{label:"Beta",value:1},{label:"Alpha",value:2}],rules:[{required:!0}]}),(0,n.jsx)(Me,{name:"selectedChannel",width:"sm",label:"\u9009\u62E9\u7684\u7248\u672C\u901A\u9053",options:[{label:"Stable",value:0},{label:"Beta",value:1},{label:"Alpha",value:2}],rules:[{required:!0}]}),(0,n.jsx)(te.ZP.Item,{name:"dev",label:"\u662F\u5426\u6709\u5F00\u53D1\u8BB8\u53EF",initialValue:0,rules:[{required:!0}],children:(0,n.jsxs)(ce.ZP.Group,{children:[(0,n.jsx)(ce.ZP.Button,{value:0,children:"\u65E0"}),(0,n.jsx)(ce.ZP.Button,{value:1,children:"\u6709"})]})})]})})})},It=Bt,Tt=l(37730),kt=l(20136),Rt=l(55241),qt=l(71153),Le=l(60331),Ue=l(68628),Dt=function(a){var t=a.data,r=(0,n.jsx)(Rt.Z,{content:[(t==null?void 0:t.rollback)&&(0,n.jsx)(Le.Z,{color:"orange",children:"\u64A4\u56DE\u6A21\u5F0F"}),(t==null?void 0:t.force)&&(0,n.jsx)(Le.Z,{color:"orange",children:"\u5F3A\u5236\u6A21\u5F0F"})],title:"\u5F53\u524D\u901A\u9053\u542F\u7528\u7684\u7279\u6B8A\u9009\u9879",children:(0,n.jsx)(Ue.Z,{style:{color:"#faad14",marginLeft:8}})}),u=(0,n.jsx)(ie.Z,{title:(0,n.jsxs)("b",{children:["\u63A8\u9001\u5931\u8D25\uFF1A",t==null?void 0:t.error]}),color:"#cf1322",children:(0,n.jsx)(Ue.Z,{style:{color:"#cf1322",marginLeft:8}})});return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsxs)("div",{children:["\u6700\u65B0\u7248\u672C: ",t!=null&&t.latest?t.latestName+" ("+t.latest+")":"-",(0,n.jsx)("br",{}),"\u5F53\u524D\u63A8\u9001: ",t!=null&&t.push?t.pushName+" ("+t.push+")":"-"]}),((t==null?void 0:t.rollback)||(t==null?void 0:t.force))&&r,(t==null?void 0:t.error)&&u]})},fe=Dt,$t=function(){var a=!1,t=c.useRef(),r=c.useRef(),u=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(i,d){return(0,n.jsx)(ie.Z,{title:d.appId,children:(0,n.jsx)("a",{onClick:function(){return Z.m8.push("/app/update/"+d.id)},children:i})})},hideInSearch:!0}].concat((0,Tt.Z)(a?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(i,d){return(0,n.jsxs)(n.Fragment,{children:[d.nick," (",d.email,")"]})}}]:[]),[{title:"\u72B6\u6001",dataIndex:"enabled",key:"enabled",valueType:"select",valueEnum:{true:{text:"\u5DF2\u542F\u7528",status:"Success"},false:{text:"\u672A\u542F\u7528",status:"default"}},hideInSearch:!0},{title:"Stable",dataIndex:"stable",key:"stable",hideInSearch:!0,render:function(i,d){return(0,n.jsx)(fe,{data:d==null?void 0:d.stable})}},{title:"Beta",dataIndex:"beta",key:"beta",hideInSearch:!0,render:function(i,d){return(0,n.jsx)(fe,{data:d==null?void 0:d.beta})}},{title:"Alpha",dataIndex:"alpha",key:"alpha",hideInSearch:!0,render:function(i,d){return(0,n.jsx)(fe,{data:d==null?void 0:d.alpha})}}]);return(0,n.jsx)(Be.ZP,{sticky:{offsetHeader:se.M},headerTitle:"\u7248\u672C\u7BA1\u7406\u5668",actionRef:r,rowKey:"id",search:{filterType:"light",labelWidth:120},toolbar:{search:{onSearch:function(i){t.current=i,r.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},scroll:{x:600},request:function(i){return i.search=t.current,(0,$.gp)(i)},options:{fullScreen:!0,reload:!0,setting:!0},columns:u})},Vt=$t;function Mt(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e.indexOf("/"),r=0;r<a&&t!==-1;r++)t=e.indexOf("/",t+1);return t!==-1?e.substr(0,t):e}function Lt(e){if(e==null||e=="")return"0 Bytes";var a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=0,r=parseFloat(e);t=Math.floor(Math.log(r)/Math.log(1024));var u=r/Math.pow(1024,t);return u=u.toFixed(2),u+a[t]}var Ut=function(a){var t,r,u,o,i,d,s,f,p,v=a.match.params.appId||"",x=c.useState("stable"),A=(0,ue.Z)(x,2),b=A[0],h=A[1],j=c.useState(v===""?[]:[{value:v,label:(0,n.jsx)(Ke.Z,{size:"small"}),disabled:!0}]),V=(0,ue.Z)(j,2),T=V[0],pe=V[1];function ne(g){return z.apply(this,arguments)}function z(){return z=(0,we.Z)(ye().mark(function g(m){return ye().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,ze.yC)({search:m,all:!0}));case 1:case"end":return E.stop()}},g)})),z.apply(this,arguments)}var y=(0,Z.QT)(function(){return(0,$.lR)({appId:v})},{manual:v===""}),G=(0,Z.QT)(function(){return(0,$.FW)({appId:v})},{manual:v===""}),me=function(m){m&&y.run(),G.run()};(0,Xe.e)(function(){me(!0)},[v]),(0,c.useEffect)(function(){var g,m;pe([{value:(g=y.data)===null||g===void 0?void 0:g.id,label:(m=y.data)===null||m===void 0?void 0:m.title}])},[y.data]);var H=c.useRef(),R=c.useRef(),ae=c.useRef(),re=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(We.Z,(0,N.Z)((0,N.Z)({showSearch:!0},v===""?{}:{value:v}),{},{placeholder:"\u9009\u62E9\u5E94\u7528",fetchOptions:ne,setMyOption:T,style:{minWidth:"200px",maxWidth:"350px"},onChange:function(m){Z.m8.push(Mt(Z.m8.location.pathname)+"/"+m)}}))}),O=[{title:"Build",dataIndex:"build",key:"build",ellipsis:!0},{title:"\u7248\u672C\u53F7",dataIndex:"versionName",key:"versionName",copyable:!0},{title:"\u9ED8\u8BA4\u901A\u9053",dataIndex:"channel",key:"channel",hideInSearch:!0,valueType:"select",filters:!0,onFilter:!0,valueEnum:{0:{text:"Stable"},1:{text:"Beta"},2:{text:"Alpha"}}},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"createTime",key:"createTime",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"},8:{text:"\u672A\u53D1\u5E03",status:"Warning"}}},{title:"\u6587\u4EF6\u5927\u5C0F",dataIndex:"size",key:"size",hideInSearch:!0,render:function(m){return(0,n.jsx)("span",{children:Lt(m)})}},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0}],C=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Be.ZP,{params:{channel:{stable:0,beta:1,alpha:2}[b],appId:v},request:gt.gp,sticky:{offsetHeader:se.M},rowKey:"deviceId",search:{labelWidth:120,filterType:"light"},scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:O})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(le.Z,{className:Je().header,title:re,subTitle:"\u7248\u672C\u7BA1\u7406",extra:v&&(0,n.jsx)(B.Z.Group,{children:(0,n.jsx)(B.Z,{onClick:function(){Z.m8.push("/app/detail/"+v)},children:"\u5E94\u7528\u8BE6\u60C5"})}),style:{padding:0,marginBottom:20}}),v?(0,n.jsxs)(Ge.Z,{children:[(0,n.jsx)(jt,{appId:v,enabled:(t=y.data)===null||t===void 0?void 0:t.enabled,loading:y.loading,onChanged:function(m){y.run().then(function(){if(m){var S,E,ge;(S=R.current)===null||S===void 0||S.doPush(),(E=H.current)===null||E===void 0||E.doPush(),(ge=ae.current)===null||ge===void 0||ge.doPush()}})}}),(0,n.jsxs)(xt,{disabled:!((r=y.data)!==null&&r!==void 0&&r.enabled),children:[(0,n.jsxs)(K.Z,{gutter:[24,24],children:[(0,n.jsx)(P.Z,{lg:8,md:8,sm:24,xs:24,children:(0,n.jsx)(oe.Z,{appId:v,channel:0,title:"Stable",defaultData:(u=y.data)===null||u===void 0?void 0:u.stable,loading:y.loading,disabled:!((o=y.data)!==null&&o!==void 0&&o.enabled),actionRef:R})}),(0,n.jsx)(P.Z,{lg:8,md:8,sm:24,xs:24,children:(0,n.jsx)(oe.Z,{appId:v,channel:1,title:"Beta",defaultData:(i=y.data)===null||i===void 0?void 0:i.beta,loading:y.loading,disabled:!((d=y.data)!==null&&d!==void 0&&d.enabled),actionRef:H})}),(0,n.jsx)(P.Z,{lg:8,md:8,sm:24,xs:24,children:(0,n.jsx)(oe.Z,{appId:v,channel:2,title:"Alpha",defaultData:(s=y.data)===null||s===void 0?void 0:s.alpha,loading:y.loading,disabled:!((f=y.data)!==null&&f!==void 0&&f.enabled),actionRef:ae})}),(0,n.jsx)(P.Z,{span:24,children:(0,n.jsx)(_e,{appId:v,data:G.data,loading:G.loading,disabled:!((p=y.data)!==null&&p!==void 0&&p.enabled)})}),(0,n.jsx)(P.Z,{span:24,children:(0,n.jsx)(mt,{})}),(0,n.jsx)(P.Z,{span:24,children:(0,n.jsx)(It,{appId:v})})]}),(0,n.jsx)(D.Z,{offsetTop:se.M,style:{overflow:"hidden"},children:(0,n.jsxs)(F.ZP,{className:Qe().tabs,title:"\u7248\u672C\u7BA1\u7406",tabs:{tabPosition:"top",size:"middle",activeKey:b,onChange:function(m){h(m)}},style:{boxShadow:"0 0 5px #00000044"},children:[(0,n.jsx)(F.ZP.TabPane,{tab:"Stable",cardProps:{bodyStyle:{padding:0}}},"stable"),(0,n.jsx)(F.ZP.TabPane,{tab:"Beta",cardProps:{bodyStyle:{padding:0}}},"beta"),(0,n.jsx)(F.ZP.TabPane,{tab:"Alpha",cardProps:{bodyStyle:{padding:0}}},"alpha")]})}),(0,n.jsx)(F.ZP,{bodyStyle:{padding:0},children:C})]})]}):(0,n.jsx)(Vt,{})]})},wt=Ut}}]);
