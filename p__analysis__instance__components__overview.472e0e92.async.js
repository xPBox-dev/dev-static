(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8690],{53266:function(j){j.exports={tabs:"tabs___YEat-"}},27368:function(j,h,e){"use strict";var _=e(33565),o=e(67294),m=e(52778),l=e(4084),u=e(85893),d=m.Z.Statistic,U=m.Z.Divider,M=function(g){var C=g.loading,n=g.active,v=(0,o.useState)(!1),P=(0,_.Z)(v,2),L=P[0],y=P[1];return(0,u.jsx)(l.Z,{onResize:function(A){y(A.width<696)},children:(0,u.jsxs)(m.Z.Group,{loading:C,direction:L?"column":"row",style:{marginBottom:24},children:[(0,u.jsx)(m.Z,{statistic:{title:"\u5F53\u524D\u5B9E\u4F8B\u6570",value:(n==null?void 0:n.current)||0,description:(0,u.jsx)(d,{title:"\u6628\u65E5\u5CF0\u503C",value:(n==null?void 0:n.max)||0})}}),(0,u.jsx)(U,{type:L?"horizontal":"vertical"}),(0,u.jsx)(m.Z,{statistic:{title:"24\u5C0F\u65F6\u6D3B\u8DC3\u5EA6",value:n==null?void 0:n.h24,description:(0,u.jsx)(d,{title:"\u6628\u65E5\u540C\u6BD4",value:(n==null?void 0:n.hc)==="-"?"-":(n==null?void 0:n.hc)+"%",trend:(n==null?void 0:n.hc)<0?"down":"up"})},chartPlacement:"left"}),(0,u.jsx)(m.Z,{statistic:{title:"\u672C\u6708\u6D3B\u8DC3\u5EA6",value:n==null?void 0:n.month,description:(0,u.jsx)(d,{title:"\u4E0A\u6708\u540C\u6BD4",value:(n==null?void 0:n.mc)==="-"?"-":(n==null?void 0:n.mc)+"%",trend:(n==null?void 0:n.mc)<0?"down":"up"})},chartPlacement:"left"})]})},"resize-observer")};h.Z=M},78311:function(j,h,e){"use strict";e.r(h);var _=e(3515),o=e(85461),m=e(13254),l=e(14277),u=e(96132),d=e(22385),U=e(69713),M=e(37730),b=e(33565),g=e(21349),C=e(23723),n=e(67294),v=e(84787),P=e(53266),L=e.n(P),y=e(73727),O=e(21010),A=e(16894),w=e(7110),E=e(56905),$=e(27368),K=e(13718),i=e(85893);function W(f){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,p=f.indexOf("/"),I=0;I<R&&p!==-1;I++)p=f.indexOf("/",p+1);return p!==-1?f.substr(0,p):f}var Y=function(R){var p,I,T,a,r,c=R.showAll,s=R.userId,t=n.useState("hour"),F=(0,b.Z)(t,2),B=F[0],V=F[1];n.useEffect(function(){S.run(),B==="hour"?D.reset():D.run()},[s]);var S=(0,O.QT)(function(){return c?(0,E.Pf)({hour:!0,base:!0,userId:s}):(0,E.s8)({hour:!0,base:!0})},{manual:!0}),D=(0,O.QT)(function(){return c?(0,E.Pf)({month:!0,userId:s}):(0,E.s8)({month:!0})},{manual:!0}),G=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(Z,x){return(0,i.jsx)(U.Z,{placement:"top",title:x.appId,children:(0,i.jsx)(y.rU,{to:W(O.m8.location.pathname)+"/"+x.id,children:Z})})}}].concat((0,M.Z)(c?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(Z,x){return(0,i.jsxs)(i.Fragment,{children:[x.nick," (",x.email,")"]})}}]:[]),[{title:"\u6D3B\u8DC3\u5EA6",dataIndex:"active",key:"active",hideInSearch:!0},{title:"\u5E73\u5747\u6D3B\u8DC3\u8BBE\u5907",dataIndex:"device",key:"device",hideInSearch:!0},{title:"\u542F\u52A8\u6B21\u6570",dataIndex:"count",key:"count",hideInSearch:!0}]),N={appendPadding:10,height:400,data:B==="hour"?((p=S.data)===null||p===void 0?void 0:p.hour.rank)||[]:((I=D.data)===null||I===void 0?void 0:I.month.rank)||[],angleField:"value",colorField:"type",radius:.8,loading:B==="hour"?S.loading:D.loading,label:{type:"outer",content:"{name} {percentage}"},onReady:function(Z){Z.on("element:click",function(x){O.m8.push(W(O.m8.location.pathname)+"/"+x.data.data.id)})},interactions:[{type:"pie-legend-active"},{type:"element-active"}]},H=(0,i.jsxs)(v.ZP,{split:"horizontal",children:[(0,i.jsx)(v.ZP,{bodyStyle:{padding:0},style:{marginTop:10},children:(0,i.jsx)(A.ZP,{headerTitle:"\u6D3B\u8DC3\u5E94\u7528\u5217\u8868",params:(0,u.Z)((0,u.Z)({},B==="hour"?{type:1}:{type:2}),c?{userId:s}:{}),rowKey:"id",search:!1,request:c?E.Up:E.IX,scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:G})}),(0,i.jsx)(v.ZP,{title:"TOP10\u6D3B\u8DC3\u5E94\u7528",collapsible:!0,style:{position:"relative"},bodyStyle:{height:"auto"},children:(B==="hour"?(((T=S.data)===null||T===void 0?void 0:T.hour.rank)||[]).length===0:(((a=D.data)===null||a===void 0?void 0:a.month.rank)||[]).length===0)?(0,i.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE}):(0,i.jsx)(w.Z,(0,u.Z)({},N))})]});return(0,i.jsx)(g.Z,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)(C.Z,{}),children:(0,i.jsx)($.Z,{loading:S.loading,active:(r=S.data)===null||r===void 0?void 0:r.base})}),(0,i.jsxs)(n.Suspense,{fallback:(0,i.jsx)(C.Z,{}),children:[(0,i.jsx)(o.Z,{offsetTop:K.M,style:{overflow:"hidden"},children:(0,i.jsxs)(v.ZP,{className:L().tabs,tabs:{tabPosition:"top",size:"large",activeKey:B,onChange:function(Z){V(Z),Z==="month"&&!D.data&&!D.loading&&D.run()}},style:{boxShadow:"0 0 5px #00000044"},children:[(0,i.jsx)(v.ZP.TabPane,{tab:"24\u5C0F\u65F6\u62A5",cardProps:{bodyStyle:{padding:0}}},"hour"),(0,i.jsx)(v.ZP.TabPane,{tab:"\u6708\u62A5",cardProps:{bodyStyle:{padding:0}}},"month")]})}),(0,i.jsx)(v.ZP,{bodyStyle:{padding:0},children:H})]})]})})};h.default=Y},13718:function(j,h,e){"use strict";e.d(h,{M:function(){return _}});var _=60},23723:function(j,h,e){"use strict";var _=e(20228),o=e(11382),m=e(85893);h.Z=function(){return(0,m.jsx)("div",{style:{paddingTop:100,textAlign:"center"},children:(0,m.jsx)(o.Z,{size:"large"})})}},56905:function(j,h,e){"use strict";e.d(h,{s8:function(){return U},IX:function(){return b},Pf:function(){return C},Up:function(){return v},CF:function(){return L},Xf:function(){return O},P:function(){return w},Dz:function(){return $},K1:function(){return i},Yd:function(){return Y},sg:function(){return R},oQ:function(){return I}});var _=e(96132),o=e(57361),m=e(9754),l=e.n(m),u=e(18811),d=e(21010);function U(a,r){return M.apply(this,arguments)}function M(){return M=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstance",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function b(a,r){return g.apply(this,arguments)}function g(){return g=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstanceList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),g.apply(this,arguments)}function C(a,r){return n.apply(this,arguments)}function n(){return n=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstance",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),n.apply(this,arguments)}function v(a,r){return P.apply(this,arguments)}function P(){return P=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstanceList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function L(a,r){return y.apply(this,arguments)}function y(){return y=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppActive",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),y.apply(this,arguments)}function O(a,r){return A.apply(this,arguments)}function A(){return A=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppActiveStat",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),A.apply(this,arguments)}function w(a){return E.apply(this,arguments)}function E(){return E=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),E.apply(this,arguments)}function $(a){return K.apply(this,arguments)}function K(){return K=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getInstallList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),K.apply(this,arguments)}function i(a){return W.apply(this,arguments)}function W(){return W=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),W.apply(this,arguments)}function Y(a){return f.apply(this,arguments)}function f(){return f=(0,o.Z)(l().mark(function a(r){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(u.s3+"analysis/getAllInstallList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return s.stop()}},a)})),f.apply(this,arguments)}function R(a,r){return p.apply(this,arguments)}function p(){return p=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),p.apply(this,arguments)}function I(a,r){return T.apply(this,arguments)}function T(){return T=(0,o.Z)(l().mark(function a(r,c){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(u.s3+"analysis/getAppInstallStat",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return t.stop()}},a)})),T.apply(this,arguments)}}}]);
