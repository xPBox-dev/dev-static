(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[866],{7440:function(f){f.exports={chartCard:"chartCard___1psgC",chartTop:"chartTop___1amDr",chartTopMargin:"chartTopMargin___2ISk5",chartTopHasMargin:"chartTopHasMargin___141WF",metaWrap:"metaWrap___10FE2",avatar:"avatar___25fSV",meta:"meta___307Z-",action:"action___219T7",total:"total___2AcZg",content:"content___3_Yro",contentFixed:"contentFixed___2RcoE",footer:"footer___3Dtsw",footerMargin:"footerMargin___2JyKP"}},79021:function(f){f.exports={field:"field___3n0C5",label:"label___3gmMd",number:"number___3akbF"}},42055:function(f){f.exports={trendItem:"trendItem___sjhRn",up:"up___5VZfG",down:"down___2jcH3",trendItemGrey:"trendItemGrey___3eVLn",reverseColor:"reverseColor___2Wl3Q"}},20366:function(f){f.exports={iconGroup:"iconGroup___2_84G",anticon:"anticon___1DV7u",rankingList:"rankingList___2od1h",rankingItemNumber:"rankingItemNumber___y7J82",active:"active___22TZB",rankingItemTitle:"rankingItemTitle___CAVox",salesExtra:"salesExtra___1JKbU",currentDate:"currentDate___Te6B3",salesCard:"salesCard___1u366",salesBar:"salesBar___1qWki",salesRank:"salesRank___3Myu_",salesCardExtra:"salesCardExtra___EpJv_",salesTypeRadio:"salesTypeRadio___1p55x",offlineCard:"offlineCard___3ZQud",trendText:"trendText___2f2-4",rankingTitle:"rankingTitle___57o7W",salesExtraWrap:"salesExtraWrap___lQL68"}},65476:function(f,P,a){"use strict";var F=a(96132),B=a(43358),C=a(90290),$=a(20228),H=a(11382),Y=a(37730),E=a(33565),o=a(81211),_=a(67294),m=a(23279),te=a.n(m),O=a(85893),g=function(D){var N=D.fetchOptions,I=D.debounceTimeout,G=I===void 0?500:I,z=D.showAll,X=D.setMyFetching,b=D.setMyOption,R=(0,o.Z)(D,["fetchOptions","debounceTimeout","showAll","setMyFetching","setMyOption"]),ae=_.useState(!1),W=(0,E.Z)(ae,2),J=W[0],c=W[1],e=_.useState(!1),k=(0,E.Z)(e,2),ne=k[0],Z=k[1],le=_.useState(z?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}]:[]),L=(0,E.Z)(le,2),se=L[0],y=L[1];_.useEffect(function(){J||y(b)},[b]),_.useEffect(function(){J||y(b)},[X]);var S=_.useRef(0),re=_.useMemo(function(){var w=function(ie){S.current+=1;var U=S.current;y([]),Z(!0),N(ie).then(function(Q){U===S.current&&(Q.data.forEach(function(T){T.label=T.text,delete T.text,T.value=T.id,delete T.id}),y(z?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}].concat((0,Y.Z)(Q.data)):Q.data),Z(!1))})};return te()(w,G)},[N,G]);return(0,O.jsx)(C.Z,(0,F.Z)((0,F.Z)({filterOption:!1,onSearch:re},R),{},{options:ne?[{value:"",label:(0,O.jsx)(H.Z,{size:"small"}),disabled:!0}]:se,onDropdownVisibleChange:function(q){q&&!J&&(c(!0),Z(!0),re())}}))};P.Z=g},23723:function(f,P,a){"use strict";var F=a(20228),B=a(11382),C=a(85893);P.Z=function(){return(0,C.jsx)("div",{style:{paddingTop:100,textAlign:"center"},children:(0,C.jsx)(B.Z,{size:"large"})})}},59185:function(f,P,a){"use strict";a.r(P),a.d(P,{default:function(){return Me}});var F=a(57361),B=a(9754),C=a.n(B),$=a(19797),H=a(21349),Y=a(13062),E=a(71230),o=a(96132),_=a(89032),m=a(15746),te=a(22385),O=a(69713),g=a(68628),me=a(58024),D=a(39144),N=a(81211),I=a(82395),G=a(46093),z=a(30797),X=a(41011),b=a(86098),R=a(67294),ae=a(94184),W=a.n(ae),J=a(7440),c=a.n(J),e=a(85893),k=function(n){if(!n&&n!==0)return null;var l;switch(typeof n){case"undefined":l=null;break;case"function":l=(0,e.jsx)("div",{className:c().total,children:n()});break;default:l=(0,e.jsx)("div",{className:c().total,children:n})}return l},ne=function(x){(0,X.Z)(l,x);var n=(0,b.Z)(l);function l(){var t;(0,G.Z)(this,l);for(var s=arguments.length,v=new Array(s),d=0;d<s;d++)v[d]=arguments[d];return t=n.call.apply(n,[this].concat(v)),t.renderContent=function(){var r=t.props,j=r.contentHeight,p=r.title,i=r.avatar,h=r.action,V=r.total,A=r.footer,M=r.children,de=r.loading;return de?!1:(0,e.jsxs)("div",{className:c().chartCard,children:[(0,e.jsxs)("div",{className:W()(c().chartTop,(0,I.Z)({},c().chartTopMargin,!M&&!A)),children:[(0,e.jsx)("div",{className:c().avatar,children:i}),(0,e.jsxs)("div",{className:c().metaWrap,children:[(0,e.jsxs)("div",{className:c().meta,children:[(0,e.jsx)("span",{className:c().title,children:p}),(0,e.jsx)("span",{className:c().action,children:h})]}),k(V)]})]}),M&&(0,e.jsx)("div",{className:c().content,style:{height:j||"auto"},children:(0,e.jsx)("div",{className:j&&c().contentFixed,children:M})}),A&&(0,e.jsx)("div",{className:W()(c().footer,(0,I.Z)({},c().footerMargin,!M)),children:A})]})},t}return(0,z.Z)(l,[{key:"render",value:function(){var s=this.props,v=s.loading,d=v===void 0?!1:v,r=s.contentHeight,j=s.title,p=s.avatar,i=s.action,h=s.total,V=s.footer,A=s.children,M=(0,N.Z)(s,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,e.jsx)(D.Z,(0,o.Z)((0,o.Z)({loading:d,bodyStyle:{padding:"20px 24px 8px 24px"}},M),{},{children:this.renderContent()}))}}]),l}(R.Component),Z=ne,le=a(79021),L=a.n(le),se=function(n){var l=n.label,t=n.value,s=(0,N.Z)(n,["label","value"]);return(0,e.jsxs)("div",(0,o.Z)((0,o.Z)({className:L().field},s),{},{children:[(0,e.jsx)("span",{className:L().label,children:l}),(0,e.jsx)("span",{className:L().number,children:t})]}))},y=se,S=function(n){return"\xA5 ".concat(n)},re={yuan:S,ChartCard:Z,Field:y},w=a(28612),q=a(19675),ie=a(42055),U=a.n(ie),Q=function(n){var l,t=n.colorful,s=t===void 0?!0:t,v=n.reverseColor,d=v===void 0?!1:v,r=n.flag,j=n.children,p=n.className,i=(0,N.Z)(n,["colorful","reverseColor","flag","children","className"]),h=W()(U().trendItem,(l={},(0,I.Z)(l,U().trendItemGrey,!s),(0,I.Z)(l,U().reverseColor,d&&s),l),p);return(0,e.jsxs)("div",(0,o.Z)((0,o.Z)({},i),{},{className:h,title:typeof j=="string"?j:"",children:[(0,e.jsx)("span",{children:j}),r&&(0,e.jsx)("span",{className:U()[r],children:r==="up"?(0,e.jsx)(w.Z,{}):(0,e.jsx)(q.Z,{})})]}))},T=Q,Oe=function(x){(0,X.Z)(l,x);var n=(0,b.Z)(l);function l(){var t;(0,G.Z)(this,l);for(var s=arguments.length,v=new Array(s),d=0;d<s;d++)v[d]=arguments[d];return t=n.call.apply(n,[this].concat(v)),t.main=null,t.renderToHtml=function(){var r=t.props.children;t.main&&(t.main.innerHTML=S(r))},t}return(0,z.Z)(l,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var s=this;return(0,e.jsx)("span",{ref:function(d){s.main=d}})}}]),l}(R.Component),xe=a(20366),u=a.n(xe),ee={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},fe=function(n){var l=n.loading,t=n.data;return(0,e.jsxs)(E.Z,{gutter:24,children:[(0,e.jsx)(m.Z,(0,o.Z)((0,o.Z)({},ee),{},{children:(0,e.jsx)(Z,{bordered:!1,title:"\u57DF\u6570\u91CF",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),loading:l,total:t==null?void 0:t.domainCount,footer:(0,e.jsx)(y,{label:"\u5F02\u5E38\u7684\u57DF",value:"0"}),contentHeight:46})})),(0,e.jsx)(m.Z,(0,o.Z)((0,o.Z)({},ee),{},{children:(0,e.jsx)(Z,{bordered:!1,loading:l,title:"\u5E94\u7528\u6570",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),total:t==null?void 0:t.appCount,footer:(0,e.jsx)(y,{label:"\u65E5\u6D3B\u8DC3\u5E94\u7528\u6570",value:t==null?void 0:t.activeApp}),contentHeight:46})})),(0,e.jsx)(m.Z,(0,o.Z)((0,o.Z)({},ee),{},{children:(0,e.jsx)(Z,{bordered:!1,loading:l,title:"\u8FD1\u4E00\u4E2A\u6708\u5B89\u88C5\u91CF",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),total:t==null?void 0:t.monthInstall,footer:(0,e.jsx)(y,{label:"\u66F4\u65B0\u91CF",value:t==null?void 0:t.monthUpgrade}),contentHeight:46})})),(0,e.jsx)(m.Z,(0,o.Z)((0,o.Z)({},ee),{},{children:(0,e.jsx)(Z,{loading:l,bordered:!1,title:"\u8FD124\u5C0F\u65F6\u6D3B\u8DC3\u5EA6",action:(0,e.jsx)(O.Z,{title:"\u6307\u6807\u8BF4\u660E",children:(0,e.jsx)(g.Z,{})}),total:t==null?void 0:t.dayActive,footer:(0,e.jsxs)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"},children:[(0,e.jsxs)(T,{flag:(t==null?void 0:t.dc)<0?"down":"up",style:{marginRight:16},children:["\u65E5\u540C\u6BD4",(0,e.jsx)("span",{className:u().trendText,children:(t==null?void 0:t.dc)==="-"?t==null?void 0:t.dc:(t==null?void 0:t.dc)+"%"})]}),(0,e.jsxs)(T,{flag:(t==null?void 0:t.wc)<0?"down":"up",children:["\u5468\u540C\u6BD4",(0,e.jsx)("span",{className:u().trendText,children:(t==null?void 0:t.wc)==="-"?t==null?void 0:t.wc:(t==null?void 0:t.wc)+"%"})]})]}),contentHeight:46})}))]})},_e=fe,ge=a(23723),ue=a(18811),K=a(21010),Ae=a(18106),ce=a(51752),pe=a(86375),je=a(97221),ve=ce.Z.TabPane,Ce=function(n){var l=n.rangePickerValue,t=n.installData,s=n.isActive,v=n.handleRangePickerChange,d=n.loading,r=n.activeData,j=n.selectDate,p=R.useRef("active");return(0,e.jsx)(D.Z,{loading:d,bordered:!1,bodyStyle:{padding:0},children:(0,e.jsx)("div",{className:u().salesCard,children:(0,e.jsxs)(ce.Z,{tabBarExtraContent:(0,e.jsx)("div",{className:u().salesExtraWrap,children:(0,e.jsx)("a",{onClick:function(){return p.current==="active"?K.m8.push("/analysis/instance"):K.m8.push("/analysis/install")},style:{paddingRight:"10px"},children:"\u66F4\u591A\u6570\u636E"})}),size:"large",tabBarStyle:{marginBottom:24},onChange:function(h){p.current=h},children:[(0,e.jsx)(ve,{tab:"\u6D3B\u8DC3\u5EA6",children:(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(m.Z,{xl:16,lg:12,md:12,sm:24,xs:24,children:(0,e.jsx)("div",{className:u().salesBar,children:(0,e.jsx)(pe.Z,{height:300,forceFit:!0,data:(r==null?void 0:r.data)||[],xField:"x",yField:"y",smooth:!0,xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},title:{visible:!0,text:"\u6D3B\u8DC3\u5EA6\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u6D3B\u8DC3\u5EA6"}}})})}),(0,e.jsx)(m.Z,{xl:8,lg:12,md:12,sm:24,xs:24,children:(0,e.jsxs)("div",{className:u().salesRank,children:[(0,e.jsx)("h4",{className:u().rankingTitle,children:"App\u8FD124\u5C0F\u65F6\u6D3B\u8DC3\u5EA6\u6392\u884C"}),(0,e.jsx)("ul",{className:u().rankingList,children:r==null?void 0:r.rank.map(function(i,h){return(0,e.jsxs)("li",{children:[(0,e.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(h<3?u().active:""),children:h+1}),(0,e.jsx)("a",{className:u().rankingItemTitle,title:i.title,onClick:function(){return K.m8.push("/app/detail/"+i.id)},children:i.title}),(0,e.jsx)("span",{children:i.total})]},i.title)})})]})})]})},"active"),(0,e.jsx)(ve,{tab:"\u5B89\u88C5\u91CF",children:(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(m.Z,{xl:16,lg:12,md:12,sm:24,xs:24,children:(0,e.jsx)("div",{className:u().salesBar,children:(0,e.jsx)(je.Z,{height:300,forceFit:!0,data:(t==null?void 0:t.data)||[],xField:"x",yField:"y",isStack:!0,seriesField:"type",xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},title:{visible:!0,text:"\u65E5\u5B89\u88C5\u91CF\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u65E5\u5B89\u88C5\u91CF"}}})})}),(0,e.jsx)(m.Z,{xl:8,lg:12,md:12,sm:24,xs:24,children:(0,e.jsxs)("div",{className:u().salesRank,children:[(0,e.jsx)("h4",{className:u().rankingTitle,children:"App\u6628\u65E5\u5B89\u88C5\u91CF\u6392\u884C"}),(0,e.jsx)("ul",{className:u().rankingList,children:t==null?void 0:t.rank.map(function(i,h){return(0,e.jsxs)("li",{children:[(0,e.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(h<3?u().active:""),children:h+1}),(0,e.jsx)("a",{className:u().rankingItemTitle,title:i.title,onClick:function(){return K.m8.push("/app/detail/"+i.id)},children:i.title}),(0,e.jsx)("span",{className:u().rankingItemValue,children:i.total})]},i.title)})})]})})]})},"install")]})})})},Ee=Ce,De=a(6637),Ze=a(65476);function ye(x){return oe.apply(this,arguments)}function oe(){return oe=(0,F.Z)(C().mark(function x(n){return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,De.y)({search:n}));case 1:case"end":return t.stop()}},x)})),oe.apply(this,arguments)}var Te=function(n){var l,t,s,v=n.route.name==="all",d=(0,K.tT)("admin"),r=d.selectedUser,j=d.setData,p=r.value,i=(0,K.QT)(function(){return v?(0,ue.DK)({userId:p}):(0,ue.ny)()});function h(A,M,de){return A?(0,e.jsx)($.ZP,{content:(0,e.jsxs)(e.Fragment,{children:["\u5F00\u53D1\u8005\uFF1A",(0,e.jsx)(Ze.Z,{showAll:!0,showSearch:!0,placeholder:"\u9009\u62E9\u7528\u6237",setMyOption:[r],fetchOptions:ye,defaultValue:p,style:{width:"250px"},onChange:function(Pe,he){de(Pe),j({label:he.label,value:he.value})}})]}),children:M}):M}function V(A){p=A,i.run()}return h(v,(0,e.jsx)(H.Z,{children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(R.Suspense,{fallback:(0,e.jsx)(ge.Z,{}),children:(0,e.jsx)(_e,{loading:i.loading,data:(l=i.data)===null||l===void 0?void 0:l.simple})}),(0,e.jsx)(R.Suspense,{fallback:null,children:(0,e.jsx)(Ee,{installData:(t=i.data)===null||t===void 0?void 0:t.install,activeData:(s=i.data)===null||s===void 0?void 0:s.active,loading:i.loading})})]})}),V)},Me=Te},6637:function(f,P,a){"use strict";a.d(P,{y:function(){return E}});var F=a(96132),B=a(57361),C=a(9754),$=a.n(C),H=a(18811),Y=a(21010);function E(_,m){return o.apply(this,arguments)}function o(){return o=(0,B.Z)($().mark(function _(m,te){return $().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,Y.WY)(H.s3+"user/search",{method:"POST",params:(0,F.Z)({},m),credentials:"include"}));case 1:case"end":return g.stop()}},_)})),o.apply(this,arguments)}}}]);
