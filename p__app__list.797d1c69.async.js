(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4316],{5966:function(F,P,t){"use strict";var _=t(22122),l=t(17375),T=t(67294),u=t(91737),c=["fieldProps","proFieldProps"],d=["fieldProps","proFieldProps"],A="text",g=function(p){var E=p.fieldProps,v=p.proFieldProps,D=(0,l.Z)(p,c);return T.createElement(u.Z,(0,_.Z)({mode:"edit",valueType:A,fieldProps:E,filedConfig:{valueType:A},proFieldProps:v},D))},Z=function(p){var E=p.fieldProps,v=p.proFieldProps,D=(0,l.Z)(p,d);return T.createElement(u.Z,(0,_.Z)({mode:"edit",valueType:"password",fieldProps:E,proFieldProps:v,filedConfig:{valueType:A}},D))},f=g;f.Password=Z,f.displayName="ProFormComponent",P.Z=f},36728:function(F,P,t){"use strict";t.r(P);var _=t(71153),l=t(60331),T=t(84305),u=t(39559),c=t(57663),d=t(71577),A=t(13254),g=t(14277),Z=t(59250),f=t(13013),x=t(37730),p=t(30887),E=t(14289),v=t(34792),D=t(48086),C=t(33565),K=t(57254),y=t(49101),h=t(67294),M=t(88563),O=t(89901),B=t(19797),S=t(16894),I=t(84744),b=t(8890),W=t(5966),k=t(13718),R=t(74865),a=t.n(R),e=t(85893),r="MIV4",m=function(z){var $,N,w,Y=z.route.name==="all",J=(0,h.useState)({lastBuild:{show:!1},pushBuild:{show:!1}}),G=(0,C.Z)(J,2),q=G[0],ee=G[1];function ne(o){L.current=o,j(!0)}var H=(0,h.useRef)(),U=(0,h.useRef)(),te=(0,h.useState)(!1),Q=(0,C.Z)(te,2),re=Q[0],j=Q[1],L=h.useRef(null),V=h.useRef(!0),X=h.useRef(),ae=(0,M.QT)(I.IV,{manual:!0,onSuccess:function(){D.default.success("\u5220\u9664\u6210\u529F"),j(!1),U.current.reload()},onError:function(s){var i=s.data.errorMessage;D.default.error(i),j(!1)}});(0,M.Gs)(function(){M.m8.action==="PUSH"&&U.current.reload()});var ue=function(s){return(0,e.jsxs)(E.Z,{_nk:"".concat(r,"11"),children:[(0,e.jsx)(E.Z.Item,{_nk:"".concat(r,"21"),children:(0,e.jsx)(O.rU,{to:"/app/edit/"+s.id,_nk:"".concat(r,"31"),children:"\u7F16\u8F91"})},"edit"),(0,e.jsx)(E.Z.Item,{_nk:"".concat(r,"22"),children:(0,e.jsx)(O.rU,{to:"/app/update/"+s.id,_nk:"".concat(r,"32"),children:"\u66F4\u65B0\u9009\u9879"})},"update"),(0,e.jsx)(E.Z.Divider,{_nk:"".concat(r,"23")}),(0,e.jsx)(E.Z.Item,{danger:!0,onClick:function(){return ne(s)},_nk:"".concat(r,"24"),children:"\u5220\u9664"},"delete")]})},se=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(s,i){return(0,e.jsx)(O.rU,{to:"/app/detail/"+i.id,_nk:"".concat(r,"33"),children:s})},hideInSearch:!0}].concat((0,x.Z)(Y?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(s,i){return(0,e.jsxs)(e.Fragment,{children:[i.nick," (",i.email,")"]})},hideInSearch:!0}]:[]),[{title:"\u5E94\u7528ID",dataIndex:"appId",key:"appId",copyable:!0,hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u5DF2\u4E0B\u67B6",status:"Warning"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"}}},{title:"\u7248\u672C\u6570",dataIndex:"versionCount",key:"versionCount",hideInSearch:!0,width:"70px"},{title:"\u6700\u65B0\u7248\u672C",dataIndex:"lastBuild",hideInSearch:!0,render:function(s,i){return s==="-"?s:(0,e.jsxs)(e.Fragment,{children:[i.lastBuildName," (",s,")"]})}},{title:"\u53EF\u89C1",dataIndex:"visible",key:"visible",valueType:"switch",hideInSearch:!0},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(s,i){return(0,e.jsx)(f.Z,{overlay:ue(i),_nk:"".concat(r,"41"),children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(le){return le.preventDefault()},_nk:"".concat(r,"51"),children:["\u64CD\u4F5C",(0,e.jsx)(K.Z,{_nk:"".concat(r,"61")})]})})}}]);return(0,e.jsxs)(B.ZP,{_nk:"".concat(r,"71"),children:[(0,e.jsx)(u.ZP,{renderEmpty:function(){return(0,e.jsx)("div",{style:{textAlign:"center"},_nk:"".concat(r,"91"),children:V.current?(0,e.jsx)("span",{_nk:"".concat(r,"a1"),children:"\u6B63\u5728\u52A0\u8F7D..."}):(0,e.jsx)(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:(0,e.jsxs)("span",{_nk:"".concat(r,"a2"),children:["\u6682\u65F6\u6CA1\u6709\u5E94\u7528\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,e.jsx)(O.rU,{to:"/app/add",_nk:"".concat(r,"34"),children:"\u521B\u5EFA\u4E00\u4E2A"})]}),_nk:"".concat(r,"b1")})})},_nk:"".concat(r,"81"),children:(0,e.jsx)(S.ZP,{sticky:{offsetHeader:k.M},headerTitle:"\u5E94\u7528\u5217\u8868",actionRef:U,rowKey:"id",loading:!1,search:{filterType:"light",labelWidth:120},onLoad:function(){V.current=!1,a().done()},onLoadingChange:function(s){V.current=!0,a().start()},toolbar:{search:{onSearch:function(s){H.current=s,U.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},toolBarRender:function(){return[(0,e.jsx)(O.rU,{to:"/app/add",_nk:"".concat(r,"35"),children:(0,e.jsxs)(d.Z,{type:"primary",_nk:"".concat(r,"d1"),children:[(0,e.jsx)(y.Z,{_nk:"".concat(r,"e1")})," \u65B0\u589E\u5E94\u7528"]})},"primary")]},scroll:{x:600},request:function(s){return s.search=H.current,Y?(0,I.aF)(s):(0,I.pb)(s)},options:{fullScreen:!0,reload:!0,setting:!0},columns:se,columnsState:{value:q,onChange:ee},_nk:"".concat(r,"c1")})}),(0,e.jsxs)(b.Z,{title:"\u786E\u8BA4\u5220\u9664",width:400,formRef:X,modalProps:{afterClose:function(){var s;(s=X.current)===null||s===void 0||s.resetFields()}},visible:re,onVisibleChange:j,onFinish:function(s){var i;return ae.run({id:(i=L.current)===null||i===void 0?void 0:i.id})},_nk:"".concat(r,"f1"),children:[(0,e.jsx)("p",{_nk:"".concat(r,"g1"),children:"\u5220\u9664\u540E\u5C06\u670930\u5929\u7684\u4FDD\u7559\u671F\uFF0C\u671F\u95F4\u65E0\u6CD5\u518D\u521B\u5EFA\u5E94\u7528ID\u76F8\u540C\u7684\u5E94\u7528\u3002"}),(0,e.jsxs)("p",{_nk:"".concat(r,"g2"),children:["\u8BF7\u8F93\u5165\xA0",(0,e.jsx)(l.Z,{_nk:"".concat(r,"h1"),children:($=L.current)===null||$===void 0?void 0:$.appId}),"\u4EE5\u786E\u8BA4\u5220\u9664"]}),(0,e.jsx)(W.Z,{name:"confirm",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528ID\u4EE5\u786E\u8BA4\u5220\u9664",style:{marginTop:5},rules:[{type:"enum",required:!0,enum:[(N=L.current)===null||N===void 0?void 0:N.appId],message:"\u8BF7\u8F93\u5165 "+((w=L.current)===null||w===void 0?void 0:w.appId)+" \u4EE5\u786E\u8BA4\u5220\u9664"}],_nk:"".concat(r,"i1")})]})]})};P.default=m},13718:function(F,P,t){"use strict";t.d(P,{M:function(){return l}});var _="ojP7",l=60},84744:function(F,P,t){"use strict";t.d(P,{w$:function(){return g},pb:function(){return Z},aF:function(){return x},Nm:function(){return E},rZ:function(){return D},yC:function(){return K},h$:function(){return h},wW:function(){return O},eP:function(){return S},IH:function(){return b},IV:function(){return k}});var _=t(96132),l=t(57361),T=t(9754),u=t.n(T),c=t(18811),d=t(88563),A="7PXW",g={UNKNOWN:0,NORMAL:1,PENDING:2,FAILED:3,DISABLED:4,DELETED:5,BANNED:6,CHANGED:7,getText:function(e){return["\u672A\u77E5","\u6B63\u5E38","\u5BA1\u6838\u4E2D","\u5BA1\u6838\u672A\u901A\u8FC7","\u5DF2\u4E0B\u67B6","\u7B49\u5F85\u5220\u9664","\u8FDD\u89C4\u5C01\u7981","\u6B63\u5E38-\u5F85\u5BA1\u6838"][e]},getColor:function(e){return["#a8071a","#237804","#0050b3","#a8071a","#faad14","#a8071a","#a8071a","#0050b3"][e]}};function Z(a,e){return f.apply(this,arguments)}function f(){return f=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/getList",{method:"POST",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),f.apply(this,arguments)}function x(a,e){return p.apply(this,arguments)}function p(){return p=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/getAll",{method:"POST",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),p.apply(this,arguments)}function E(a,e){return v.apply(this,arguments)}function v(){return v=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/getDetail",{method:"POST",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),v.apply(this,arguments)}function D(a,e){return C.apply(this,arguments)}function C(){return C=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/getStatistic",{method:"POST",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),C.apply(this,arguments)}function K(a,e){return y.apply(this,arguments)}function y(){return y=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/search",{method:"POST",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),y.apply(this,arguments)}function h(a,e){return M.apply(this,arguments)}function M(){return M=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/disable",{method:"POST",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),M.apply(this,arguments)}function O(a,e){return B.apply(this,arguments)}function B(){return B=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/edit",{method:"GET",params:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),B.apply(this,arguments)}function S(a,e){return I.apply(this,arguments)}function I(){return I=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/edit",{method:"POST",data:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),I.apply(this,arguments)}function b(a,e){return W.apply(this,arguments)}function W(){return W=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/add",{method:"POST",data:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),W.apply(this,arguments)}function k(a,e){return R.apply(this,arguments)}function R(){return R=(0,l.Z)(u().mark(function a(e,r){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(c.s3+"app/delete",{method:"POST",data:(0,_.Z)({},e),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),R.apply(this,arguments)}}}]);
