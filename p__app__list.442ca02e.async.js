(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[316],{5966:function(L,g,t){"use strict";var c=t(67294),m=t(49085),j=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"];function p(){return p=Object.assign||function(_){for(var a=1;a<arguments.length;a++){var E=arguments[a];for(var l in E)Object.prototype.hasOwnProperty.call(E,l)&&(_[l]=E[l])}return _},p.apply(this,arguments)}function f(_,a){if(_==null)return{};var E=R(_,a),l,d;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(_);for(d=0;d<h.length;d++)l=h[d],!(a.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(_,l)||(E[l]=_[l]))}return E}function R(_,a){if(_==null)return{};var E={},l=Object.keys(_),d,h;for(h=0;h<l.length;h++)d=l[h],!(a.indexOf(d)>=0)&&(E[d]=_[d]);return E}var I="text",T=function(a){var E=a.fieldProps,l=a.proFieldProps,d=f(a,j);return c.createElement(m.Z,p({mode:"edit",valueType:I,fieldProps:E,filedConfig:{valueType:I},proFieldProps:l},d))},x=function(a){var E=a.fieldProps,l=a.proFieldProps,d=f(a,s);return c.createElement(m.Z,p({mode:"edit",valueType:"password",fieldProps:E,proFieldProps:l,filedConfig:{valueType:I}},d))},O=T;O.Password=x,O.displayName="ProFormComponent",g.Z=O},36728:function(L,g,t){"use strict";t.r(g);var c=t(71153),m=t(60331),j=t(84305),s=t(69224),p=t(57663),f=t(71577),R=t(13254),I=t(14277),T=t(59250),x=t(13013),O=t(37730),_=t(30887),a=t(99210),E=t(34792),l=t(48086),d=t(33565),h=t(57254),Z=t(49101),M=t(67294),C=t(21010),A=t(19797),K=t(93660),y=t(84744),S=t(16514),B=t(5966),U=t(13718),r=t(85893),u=function(D){var v,e,b,w=D.route.name==="all",G=(0,M.useState)({lastBuild:{show:!1},pushBuild:{show:!1}}),N=(0,d.Z)(G,2),k=N[0],H=N[1];function Q(P){W.current=P,F(!0)}var $=(0,M.useRef)(),z=(0,M.useState)(!1),V=(0,d.Z)(z,2),J=V[0],F=V[1],W=M.useRef(null),Y=M.useRef(),X=(0,C.QT)(y.IV,{manual:!0,onSuccess:function(){l.default.success("\u5220\u9664\u6210\u529F"),F(!1),$.current.reload()},onError:function(i){var o=i.data.errorMessage;l.default.error(o),F(!1)}}),q=function(i){return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(a.Z.Item,{children:(0,r.jsx)("a",{onClick:function(){return C.m8.push("/app/edit/"+i.id)},children:"\u7F16\u8F91"})},"edit"),(0,r.jsx)(a.Z.Item,{children:(0,r.jsx)("a",{onClick:function(){return C.m8.push("/app/update/"+i.id)},children:"\u66F4\u65B0\u9009\u9879"})},"update"),(0,r.jsx)(a.Z.Divider,{}),(0,r.jsx)(a.Z.Item,{danger:!0,onClick:function(){return Q(i)},children:"\u5220\u9664"},"delete")]})},ee=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(i,o){return(0,r.jsx)("a",{onClick:function(){return C.m8.push("/app/detail/"+o.id)},children:i})}}].concat((0,O.Z)(w?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(i,o){return(0,r.jsxs)(r.Fragment,{children:[o.nick," (",o.email,")"]})}}]:[]),[{title:"\u5E94\u7528ID",dataIndex:"appId",key:"appId",copyable:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"}}},{title:"\u7248\u672C\u6570",dataIndex:"versionCount",key:"versionCount",hideInSearch:!0,width:"70px"},{title:"\u6700\u65B0\u7248\u672C",dataIndex:"lastBuild",hideInSearch:!0,render:function(i,o){return i==="-"?i:(0,r.jsxs)(r.Fragment,{children:[o.lastBuildName," (",i,")"]})}},{title:"\u63A8\u9001\u7248\u672C",dataIndex:"pushBuild",hideInSearch:!0,render:function(i,o){return i==="-"?i:(0,r.jsxs)(r.Fragment,{children:[o.pushBuildName," (",i,")"]})}},{title:"\u53EF\u89C1",dataIndex:"visible",key:"visible",valueType:"switch",hideInSearch:!0},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(i,o){return(0,r.jsx)(x.Z,{overlay:q(o),children:(0,r.jsxs)("a",{className:"ant-dropdown-link",onClick:function(re){return re.preventDefault()},children:["\u64CD\u4F5C",(0,r.jsx)(h.Z,{})]})})}}]);return(0,r.jsxs)(A.ZP,{children:[(0,r.jsx)(s.ZP,{renderEmpty:function(){return(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)(I.Z,{image:I.Z.PRESENTED_IMAGE_SIMPLE,description:(0,r.jsxs)("span",{children:["\u6682\u65F6\u6CA1\u6709\u5E94\u7528\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,r.jsx)("a",{href:"#/app/add",children:"\u521B\u5EFA\u4E00\u4E2A"})]})})})},children:(0,r.jsx)(K.ZP,{sticky:{offsetHeader:U.M},headerTitle:"\u5E94\u7528\u5217\u8868",actionRef:$,rowKey:"id",search:{filterType:"light",labelWidth:120},toolBarRender:function(){return[(0,r.jsxs)(f.Z,{type:"primary",onClick:function(){C.m8.push("/app/add")},children:[(0,r.jsx)(Z.Z,{})," \u65B0\u589E\u5E94\u7528"]},"primary")]},scroll:{x:600},request:w?y.aF:y.pb,options:{fullScreen:!0,reload:!0,setting:!0},columns:ee,columnsState:{value:k,onChange:H}})}),(0,r.jsxs)(S.Z,{title:"\u786E\u8BA4\u5220\u9664",width:400,formRef:Y,modalProps:{afterClose:function(){var i;(i=Y.current)===null||i===void 0||i.resetFields()}},visible:J,onVisibleChange:F,onFinish:function(i){var o;return X.run({id:(o=W.current)===null||o===void 0?void 0:o.id})},children:[(0,r.jsx)("p",{children:"\u5220\u9664\u540E\u5C06\u670930\u5929\u7684\u4FDD\u7559\u671F\uFF0C\u671F\u95F4\u65E0\u6CD5\u518D\u521B\u5EFA\u5E94\u7528ID\u76F8\u540C\u7684\u5E94\u7528\u3002"}),(0,r.jsxs)("p",{children:["\u8BF7\u8F93\u5165\xA0",(0,r.jsx)(m.Z,{children:(v=W.current)===null||v===void 0?void 0:v.appId}),"\u4EE5\u786E\u8BA4\u5220\u9664"]}),(0,r.jsx)(B.Z,{name:"confirm",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528ID\u4EE5\u786E\u8BA4\u5220\u9664",style:{marginTop:5},rules:[{type:"enum",required:!0,enum:[(e=W.current)===null||e===void 0?void 0:e.appId],message:"\u8BF7\u8F93\u5165 "+((b=W.current)===null||b===void 0?void 0:b.appId)+" \u4EE5\u786E\u8BA4\u5220\u9664"}]})]})]})};g.default=u},13718:function(L,g,t){"use strict";t.d(g,{M:function(){return c}});var c=60},84744:function(L,g,t){"use strict";t.d(g,{w$:function(){return R},pb:function(){return I},aF:function(){return x},Nm:function(){return _},rZ:function(){return E},yC:function(){return d},h$:function(){return Z},wW:function(){return C},eP:function(){return K},IH:function(){return S},IV:function(){return U}});var c=t(96132),m=t(57361),j=t(9754),s=t.n(j),p=t(18811),f=t(21010),R={UNKNOWN:0,NORMAL:1,PENDING:2,FAILED:3,DISABLED:4,DELETED:5,BANNED:6,CHANGED:7,getText:function(n){return["\u672A\u77E5","\u6B63\u5E38","\u5BA1\u6838\u4E2D","\u5BA1\u6838\u672A\u901A\u8FC7","\u5DF2\u4E0B\u67B6","\u7B49\u5F85\u5220\u9664","\u8FDD\u89C4\u5C01\u7981","\u6B63\u5E38-\u5F85\u5BA1\u6838"][n]},getColor:function(n){return["#a8071a","#237804","#0050b3","#a8071a","#faad14","#a8071a","#a8071a","#0050b3"][n]}};function I(u,n){return T.apply(this,arguments)}function T(){return T=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getList",{method:"POST",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),T.apply(this,arguments)}function x(u,n){return O.apply(this,arguments)}function O(){return O=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getAll",{method:"POST",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),O.apply(this,arguments)}function _(u,n){return a.apply(this,arguments)}function a(){return a=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getDetail",{method:"POST",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),a.apply(this,arguments)}function E(u,n){return l.apply(this,arguments)}function l(){return l=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getStatistic",{method:"POST",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),l.apply(this,arguments)}function d(u,n){return h.apply(this,arguments)}function h(){return h=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/search",{method:"POST",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),h.apply(this,arguments)}function Z(u,n){return M.apply(this,arguments)}function M(){return M=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/disable",{method:"POST",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),M.apply(this,arguments)}function C(u,n){return A.apply(this,arguments)}function A(){return A=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/edit",{method:"GET",params:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),A.apply(this,arguments)}function K(u,n){return y.apply(this,arguments)}function y(){return y=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/edit",{method:"POST",data:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),y.apply(this,arguments)}function S(u,n){return B.apply(this,arguments)}function B(){return B=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/add",{method:"POST",data:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),B.apply(this,arguments)}function U(u,n){return r.apply(this,arguments)}function r(){return r=(0,m.Z)(s().mark(function u(n,D){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/delete",{method:"POST",data:(0,c.Z)({},n),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),r.apply(this,arguments)}}}]);
