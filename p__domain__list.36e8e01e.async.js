(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9779],{13718:function(j,M,e){"use strict";e.d(M,{M:function(){return P}});var P=60},73039:function(j,M,e){"use strict";var P=e(47673),c=e(4107),x=e(43358),u=e(65),i=e(33565),E=e(15196),g=e(67294),I=e(21010),F=e(74649),_=e(85893),B=function(){var T=(0,I.QT)(F.FH),s=T.data,O=T.loading,C=(0,g.useState)(!1),A=(0,i.Z)(C,2),f=A[0],r=A[1],t=s==null?void 0:s.myDomain.map(function(D){return(0,_.jsx)(u.Z.Option,{value:D.value,children:D.name},D.value)}),o=s==null?void 0:s.publicDomain.map(function(D){return(0,_.jsx)(u.Z.Option,{value:D.value,children:D.name},D.value)}),n=function(v){r(v!=="0")};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{children:"\u901A\u8FC7\u57DF\uFF0C\u53EF\u4EE5\u7B80\u5355\u7684\u4E3A\u60A8\u7684\u5E94\u7528\u8FDB\u884C\u5206\u7C7B\uFF0C\u66F4\u597D\u7684\u89C4\u8303\u5E94\u7528ID\u3002\u5982\u679C\u60A8\u5DF2\u7ECF\u4E86\u89E3\u5E94\u7528ID\u89C4\u8303\uFF0C\u5047\u8BBE\u60A8\u60F3\u8981\u521B\u5EFA\u7684\u5E94\u7528ID\u4E3Axpbox.news.app1\uFF0C\u5219\u7236\u57DF\u4E3Axpbox\uFF0C\u5B50\u57DF\u4E3Axpbox.news\uFF0C\u8BF7\u5148\u65B0\u5EFA\u7236\u57DF\u518D\u5EFA\u7ACB\u5B50\u57DF\u3002\u5047\u8BBE\u60A8\u60F3\u4F7F\u7528com.xpbox.new.app1\u7684\u5F62\u5F0F\uFF0C\u8BF7\u4EE5\u516C\u5171\u524D\u7F00\u521B\u5EFA\u7236\u57DFcom.xpbox\u3002"}),(0,_.jsx)(E.ZP.Item,{children:(0,_.jsxs)(c.Z.Group,{size:"large",compact:!0,style:{display:"flex",marginTop:20},children:[(0,_.jsx)(E.ZP.Item,{noStyle:!0,name:"domain",initialValue:0,children:(0,_.jsxs)(u.Z,{loading:O,showSearch:!0,style:{minWidth:100},placeholder:"\u9009\u62E9\u7236\u57DF",optionFilterProp:"children",filterOption:function(v,y){var R;return((R=y.children)===null||R===void 0?void 0:R.toLowerCase().indexOf(v.toLowerCase()))>=0},size:"large",dropdownStyle:{minWidth:200},defaultValue:0,onChange:n,children:[(0,_.jsx)(u.Z.Option,{value:0,children:"\u65B0\u5EFA\u7236\u57DF"}),(s==null?void 0:s.myDomain.length)>0&&(0,_.jsx)(u.Z.OptGroup,{label:"\u65B0\u5EFA\u5B50\u57DF",children:t}),(0,_.jsx)(u.Z.OptGroup,{label:"\u65B0\u5EFA\u516C\u5171\u524D\u7F00\u7236\u57DF",children:o})]})}),(0,_.jsx)(E.ZP.Item,{name:"name",noStyle:!0,rules:[{required:!0,message:"\u8FD9\u662F\u5FC5\u586B\u9879"},{max:100,message:"\u5E94\u7528Id\u957F\u5EA6\u4E0D\u5F97\u8D85\u8FC7100\u4E2A\u5B57\u7B26"}],children:(0,_.jsx)(c.Z,{addonBefore:f?".":"",style:{flex:"1 auto",width:"unset"}})})]})})]})};M.Z=B},83707:function(j,M,e){"use strict";var P=e(57361),c=e(34792),x=e(48086),u=e(9754),i=e.n(u),E=e(8890),g=e(73039),I=e(67294),F=e(21010),_=e(74649),B=e(85893),p=function(s){var O=s.visible,C=s.onVisibleChange,A=s.onSuccess,f=I.useRef(),r=(0,F.QT)(function(t){return(0,_.IH)(t)},{manual:!0,onSuccess:function(){x.default.success("\u57DF\u6DFB\u52A0\u6210\u529F\uFF01\u5BA1\u6838\u671F\u95F4\u57DF\u53EF\u6B63\u5E38\u4F7F\u7528\uFF01"),A()},onError:function(o){if(!!o.data){var n=o.data.error;f.current.setFields([{name:n.field,errors:[n.message]}])}}});return(0,B.jsx)(E.Z,{title:"\u65B0\u5EFA\u57DF",width:"800px",visible:O,modalProps:{afterClose:function(){var o;(o=f.current)===null||o===void 0||o.resetFields()}},onVisibleChange:C,onFinish:function(){var t=(0,P.Z)(i().mark(function o(n){return i().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",r.run(n));case 1:case"end":return v.stop()}},o)}));return function(o){return t.apply(this,arguments)}}(),formRef:f,children:(0,B.jsx)("div",{style:{margin:"auto",marginTop:8,maxWidth:600},children:(0,B.jsx)(g.Z,{})})})};M.Z=p},51239:function(j,M,e){"use strict";e.r(M);var P=e(71153),c=e(60331),x=e(57338),u=e(25084),i=e(57361),E=e(57663),g=e(71577),I=e(59250),F=e(13013),_=e(37730),B=e(30887),p=e(14289),T=e(34792),s=e(48086),O=e(33565),C=e(9754),A=e.n(C),f=e(57254),r=e(49101),t=e(67294),o=e(19797),n=e(16894),D=e(96459),v=e(74649),y=e(83707),R=e(8890),N=e(5966),J=e(21010),X=e(73727),w=e(13718),a=e(85893),k=function(q){var K,U,Z,b=q.route.name==="all",ee=(0,t.useState)(!1),V=(0,O.Z)(ee,2),ne=V[0],$=V[1],te=(0,t.useState)(!1),G=(0,O.Z)(te,2),ue=G[0],re=G[1],S=(0,t.useRef)(),_e=(0,t.useState)(),H=(0,O.Z)(_e,2),h=H[0],ae=H[1],se=(0,t.useState)(!1),Y=(0,O.Z)(se,2),oe=Y[0],L=Y[1],W=t.useRef(null),Q=t.useRef(),le=(0,J.QT)(v.IV,{manual:!0,onSuccess:function(){s.default.success("\u5220\u9664\u6210\u529F"),L(!1),S.current.reload()},onError:function(m){var l=m.data.errorMessage;s.default.error(l),L(!1)}}),de=function(m){return(0,a.jsx)(p.Z,{children:(0,a.jsx)(p.Z.Item,{danger:!0,onClick:function(){return ie(m)},children:"\u5220\u9664"},"delete")})};function ie(d){W.current=d,L(!0)}var z=[{title:"\u57DF",dataIndex:"domain",key:"domain",render:function(m){return(0,a.jsx)("a",{children:m})}}].concat((0,_.Z)(b?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(m,l){return(0,a.jsxs)(a.Fragment,{children:[l.nick," (",l.email,")"]})}}]:[]),[{title:"\u7C7B\u578B",dataIndex:"parent",key:"parent",valueType:"select",valueEnum:{0:{text:"\u5B50\u57DF"},1:{text:"\u7236\u57DF"}}},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"}}},{title:"\u5E94\u7528\u6570",dataIndex:"appCount",key:"appCount",hideInSearch:!0},{title:"\u5B50\u57DF\u6570",dataIndex:"subDomainCount",key:"subDomainCount",hideInSearch:!0},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(m,l){return(0,a.jsx)(F.Z,{overlay:de(l),children:(0,a.jsxs)("a",{className:"ant-dropdown-link",onClick:function(Ee){return Ee.preventDefault()},children:["\u64CD\u4F5C",(0,a.jsx)(f.Z,{})]})})}}]);return(0,a.jsxs)(o.ZP,{children:[(0,a.jsx)(n.ZP,{sticky:{offsetHeader:w.M},headerTitle:"\u6211\u7684\u57DF",actionRef:S,rowKey:"id",search:{filterType:"light"},toolbar:{multipleLine:!1},toolBarRender:function(){return[(0,a.jsx)(X.rU,{to:"/app/add",children:(0,a.jsxs)(g.Z,{type:"primary",children:[(0,a.jsx)(r.Z,{})," \u65B0\u5EFA\u57DF"]})},"primary")]},scroll:{x:600},request:b?v.go:v.i7,options:{fullScreen:!0,reload:!0,setting:!0},columns:z}),(0,a.jsx)(u.Z,{width:600,visible:ue,onClose:function(){ae(void 0),re(!1)},closable:!1,children:(h==null?void 0:h.name)&&(0,a.jsx)(D.Z,{column:2,title:h==null?void 0:h.name,request:(0,i.Z)(A().mark(function d(){return A().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",{data:h||{}});case 1:case"end":return l.stop()}},d)})),params:{id:h==null?void 0:h.name},columns:z})}),(0,a.jsx)(y.Z,{visible:ne,onVisibleChange:$,onSuccess:function(){S.current.reload(),$(!1)}}),(0,a.jsxs)(R.Z,{title:"\u786E\u8BA4\u5220\u9664",width:400,formRef:Q,modalProps:{afterClose:function(){var m;(m=Q.current)===null||m===void 0||m.resetFields()}},visible:oe,onVisibleChange:L,onFinish:function(m){var l;return le.run({id:(l=W.current)===null||l===void 0?void 0:l.id})},children:[(0,a.jsx)("p",{children:"\u5220\u9664\u540E\u5C06\u670930\u5929\u7684\u4FDD\u7559\u671F\uFF0C\u671F\u95F4\u65E0\u6CD5\u518D\u521B\u5EFA\u76F8\u540C\u7684\u57DF\u3002"}),(0,a.jsxs)("p",{children:["\u8BF7\u8F93\u5165\xA0",(0,a.jsx)(c.Z,{children:(K=W.current)===null||K===void 0?void 0:K.domain}),"\u4EE5\u786E\u8BA4\u5220\u9664"]}),(0,a.jsx)(N.Z,{name:"confirm",placeholder:"\u8BF7\u8F93\u5165\u57DF\u4EE5\u786E\u8BA4\u5220\u9664",style:{marginTop:5},rules:[{type:"enum",required:!0,enum:[(U=W.current)===null||U===void 0?void 0:U.domain],message:"\u8BF7\u8F93\u5165 "+((Z=W.current)===null||Z===void 0?void 0:Z.domain)+" \u4EE5\u786E\u8BA4\u5220\u9664"}]})]})]})};M.default=k},74649:function(j,M,e){"use strict";e.d(M,{FH:function(){return g},ht:function(){return F},go:function(){return B},i7:function(){return T},IH:function(){return O},IV:function(){return A}});var P=e(96132),c=e(57361),x=e(9754),u=e.n(x),i=e(18811),E=e(21010);function g(r){return I.apply(this,arguments)}function I(){return I=(0,c.Z)(u().mark(function r(t){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)(i.s3+"domain/getDomainInfo",{method:"GET",params:(0,P.Z)({},t),credentials:"include"}));case 1:case"end":return n.stop()}},r)})),I.apply(this,arguments)}function F(r){return _.apply(this,arguments)}function _(){return _=(0,c.Z)(u().mark(function r(t){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)(i.s3+"domain/getMyDomain",{method:"GET",params:(0,P.Z)({},t),credentials:"include"}));case 1:case"end":return n.stop()}},r)})),_.apply(this,arguments)}function B(r){return p.apply(this,arguments)}function p(){return p=(0,c.Z)(u().mark(function r(t){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)(i.s3+"domain/getAll",{method:"GET",params:(0,P.Z)({},t),credentials:"include"}));case 1:case"end":return n.stop()}},r)})),p.apply(this,arguments)}function T(r){return s.apply(this,arguments)}function s(){return s=(0,c.Z)(u().mark(function r(t){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)(i.s3+"domain/getList",{method:"GET",params:(0,P.Z)({},t),credentials:"include"}));case 1:case"end":return n.stop()}},r)})),s.apply(this,arguments)}function O(r){return C.apply(this,arguments)}function C(){return C=(0,c.Z)(u().mark(function r(t){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)(i.s3+"domain/add",{method:"POST",data:t,credentials:"include"}));case 1:case"end":return n.stop()}},r)})),C.apply(this,arguments)}function A(r){return f.apply(this,arguments)}function f(){return f=(0,c.Z)(u().mark(function r(t){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)(i.s3+"domain/delete",{method:"POST",data:t,credentials:"include"}));case 1:case"end":return n.stop()}},r)})),f.apply(this,arguments)}}}]);
