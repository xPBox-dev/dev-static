(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[316],{5966:function(L,g,t){"use strict";var c=t(67294),m=t(49085),j=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"];function p(){return p=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var E=arguments[a];for(var i in E)Object.prototype.hasOwnProperty.call(E,i)&&(d[i]=E[i])}return d},p.apply(this,arguments)}function f(d,a){if(d==null)return{};var E=R(d,a),i,o;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);for(o=0;o<v.length;o++)i=v[o],!(a.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,i)||(E[i]=d[i]))}return E}function R(d,a){if(d==null)return{};var E={},i=Object.keys(d),o,v;for(v=0;v<i.length;v++)o=i[v],!(a.indexOf(o)>=0)&&(E[o]=d[o]);return E}var I="text",T=function(a){var E=a.fieldProps,i=a.proFieldProps,o=f(a,j);return c.createElement(m.Z,p({mode:"edit",valueType:I,fieldProps:E,filedConfig:{valueType:I},proFieldProps:i},o))},x=function(a){var E=a.fieldProps,i=a.proFieldProps,o=f(a,l);return c.createElement(m.Z,p({mode:"edit",valueType:"password",fieldProps:E,proFieldProps:i,filedConfig:{valueType:I}},o))},M=T;M.Password=x,M.displayName="ProFormComponent",g.Z=M},36728:function(L,g,t){"use strict";t.r(g);var c=t(71153),m=t(60331),j=t(84305),l=t(69224),p=t(57663),f=t(71577),R=t(13254),I=t(14277),T=t(59250),x=t(13013),M=t(37730),d=t(30887),a=t(99210),E=t(34792),i=t(48086),o=t(33565),v=t(57254),Z=t(49101),O=t(67294),C=t(21010),A=t(19797),S=t(16894),y=t(84744),K=t(16514),B=t(5966),U=t(13718),n=t(85893),u=function(D){var P,e,b,$=D.route.name==="all",k=(0,O.useState)({lastBuild:{show:!1},pushBuild:{show:!1}}),N=(0,o.Z)(k,2),H=N[0],Q=N[1];function z(h){W.current=h,F(!0)}var V=(0,O.useRef)(),w=(0,O.useRef)(),J=(0,O.useState)(!1),Y=(0,o.Z)(J,2),X=Y[0],F=Y[1],W=O.useRef(null),G=O.useRef(),q=(0,C.QT)(y.IV,{manual:!0,onSuccess:function(){i.default.success("\u5220\u9664\u6210\u529F"),F(!1),w.current.reload()},onError:function(s){var _=s.data.errorMessage;i.default.error(_),F(!1)}}),ee=function(s){return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(a.Z.Item,{children:(0,n.jsx)("a",{onClick:function(){return C.m8.push("/app/edit/"+s.id)},children:"\u7F16\u8F91"})},"edit"),(0,n.jsx)(a.Z.Item,{children:(0,n.jsx)("a",{onClick:function(){return C.m8.push("/app/update/"+s.id)},children:"\u66F4\u65B0\u9009\u9879"})},"update"),(0,n.jsx)(a.Z.Divider,{}),(0,n.jsx)(a.Z.Item,{danger:!0,onClick:function(){return z(s)},children:"\u5220\u9664"},"delete")]})},te=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(s,_){return(0,n.jsx)("a",{onClick:function(){return C.m8.push("/app/detail/"+_.id)},children:s})},hideInSearch:!0}].concat((0,M.Z)($?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(s,_){return(0,n.jsxs)(n.Fragment,{children:[_.nick," (",_.email,")"]})},hideInSearch:!0}]:[]),[{title:"\u5E94\u7528ID",dataIndex:"appId",key:"appId",copyable:!0,hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u5DF2\u4E0B\u67B6",status:"Warning"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"}}},{title:"\u7248\u672C\u6570",dataIndex:"versionCount",key:"versionCount",hideInSearch:!0,width:"70px"},{title:"\u6700\u65B0\u7248\u672C",dataIndex:"lastBuild",hideInSearch:!0,render:function(s,_){return s==="-"?s:(0,n.jsxs)(n.Fragment,{children:[_.lastBuildName," (",s,")"]})}},{title:"\u53EF\u89C1",dataIndex:"visible",key:"visible",valueType:"switch",hideInSearch:!0},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(s,_){return(0,n.jsx)(x.Z,{overlay:ee(_),children:(0,n.jsxs)("a",{className:"ant-dropdown-link",onClick:function(ne){return ne.preventDefault()},children:["\u64CD\u4F5C",(0,n.jsx)(v.Z,{})]})})}}]);return(0,n.jsxs)(A.ZP,{children:[(0,n.jsx)(l.ZP,{renderEmpty:function(){return(0,n.jsx)("div",{style:{textAlign:"center"},children:(0,n.jsx)(I.Z,{image:I.Z.PRESENTED_IMAGE_SIMPLE,description:(0,n.jsxs)("span",{children:["\u6682\u65F6\u6CA1\u6709\u5E94\u7528\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,n.jsx)("a",{href:"#/app/add",children:"\u521B\u5EFA\u4E00\u4E2A"})]})})})},children:(0,n.jsx)(S.ZP,{sticky:{offsetHeader:U.M},headerTitle:"\u5E94\u7528\u5217\u8868",actionRef:w,rowKey:"id",search:{filterType:"light",labelWidth:120},toolbar:{search:{onSearch:function(s){V.current=s,w.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},toolBarRender:function(){return[(0,n.jsxs)(f.Z,{type:"primary",onClick:function(){C.m8.push("/app/add")},children:[(0,n.jsx)(Z.Z,{})," \u65B0\u589E\u5E94\u7528"]},"primary")]},scroll:{x:600},request:function(s){return s.search=V.current,$?(0,y.aF)(s):(0,y.pb)(s)},options:{fullScreen:!0,reload:!0,setting:!0},columns:te,columnsState:{value:H,onChange:Q}})}),(0,n.jsxs)(K.Z,{title:"\u786E\u8BA4\u5220\u9664",width:400,formRef:G,modalProps:{afterClose:function(){var s;(s=G.current)===null||s===void 0||s.resetFields()}},visible:X,onVisibleChange:F,onFinish:function(s){var _;return q.run({id:(_=W.current)===null||_===void 0?void 0:_.id})},children:[(0,n.jsx)("p",{children:"\u5220\u9664\u540E\u5C06\u670930\u5929\u7684\u4FDD\u7559\u671F\uFF0C\u671F\u95F4\u65E0\u6CD5\u518D\u521B\u5EFA\u5E94\u7528ID\u76F8\u540C\u7684\u5E94\u7528\u3002"}),(0,n.jsxs)("p",{children:["\u8BF7\u8F93\u5165\xA0",(0,n.jsx)(m.Z,{children:(P=W.current)===null||P===void 0?void 0:P.appId}),"\u4EE5\u786E\u8BA4\u5220\u9664"]}),(0,n.jsx)(B.Z,{name:"confirm",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528ID\u4EE5\u786E\u8BA4\u5220\u9664",style:{marginTop:5},rules:[{type:"enum",required:!0,enum:[(e=W.current)===null||e===void 0?void 0:e.appId],message:"\u8BF7\u8F93\u5165 "+((b=W.current)===null||b===void 0?void 0:b.appId)+" \u4EE5\u786E\u8BA4\u5220\u9664"}]})]})]})};g.default=u},13718:function(L,g,t){"use strict";t.d(g,{M:function(){return c}});var c=60},84744:function(L,g,t){"use strict";t.d(g,{w$:function(){return R},pb:function(){return I},aF:function(){return x},Nm:function(){return d},rZ:function(){return E},yC:function(){return o},h$:function(){return Z},wW:function(){return C},eP:function(){return S},IH:function(){return K},IV:function(){return U}});var c=t(96132),m=t(57361),j=t(9754),l=t.n(j),p=t(18811),f=t(21010),R={UNKNOWN:0,NORMAL:1,PENDING:2,FAILED:3,DISABLED:4,DELETED:5,BANNED:6,CHANGED:7,getText:function(r){return["\u672A\u77E5","\u6B63\u5E38","\u5BA1\u6838\u4E2D","\u5BA1\u6838\u672A\u901A\u8FC7","\u5DF2\u4E0B\u67B6","\u7B49\u5F85\u5220\u9664","\u8FDD\u89C4\u5C01\u7981","\u6B63\u5E38-\u5F85\u5BA1\u6838"][r]},getColor:function(r){return["#a8071a","#237804","#0050b3","#a8071a","#faad14","#a8071a","#a8071a","#0050b3"][r]}};function I(u,r){return T.apply(this,arguments)}function T(){return T=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getList",{method:"POST",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),T.apply(this,arguments)}function x(u,r){return M.apply(this,arguments)}function M(){return M=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getAll",{method:"POST",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),M.apply(this,arguments)}function d(u,r){return a.apply(this,arguments)}function a(){return a=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getDetail",{method:"POST",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),a.apply(this,arguments)}function E(u,r){return i.apply(this,arguments)}function i(){return i=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/getStatistic",{method:"POST",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),i.apply(this,arguments)}function o(u,r){return v.apply(this,arguments)}function v(){return v=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/search",{method:"POST",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),v.apply(this,arguments)}function Z(u,r){return O.apply(this,arguments)}function O(){return O=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/disable",{method:"POST",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),O.apply(this,arguments)}function C(u,r){return A.apply(this,arguments)}function A(){return A=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/edit",{method:"GET",params:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),A.apply(this,arguments)}function S(u,r){return y.apply(this,arguments)}function y(){return y=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/edit",{method:"POST",data:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),y.apply(this,arguments)}function K(u,r){return B.apply(this,arguments)}function B(){return B=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/add",{method:"POST",data:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),B.apply(this,arguments)}function U(u,r){return n.apply(this,arguments)}function n(){return n=(0,m.Z)(l().mark(function u(r,D){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(p.s3+"app/delete",{method:"POST",data:(0,c.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},u)})),n.apply(this,arguments)}}}]);
