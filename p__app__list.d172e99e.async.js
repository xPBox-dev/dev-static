(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[316],{5966:function(J,R,n){"use strict";var _=n(67294),m=n(49085),P=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"];function v(){return v=Object.assign||function(p){for(var i=1;i<arguments.length;i++){var f=arguments[i];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(p[u]=f[u])}return p},v.apply(this,arguments)}function D(p,i){if(p==null)return{};var f=L(p,i),u,E;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);for(E=0;E<y.length;E++)u=y[E],!(i.indexOf(u)>=0)&&(!Object.prototype.propertyIsEnumerable.call(p,u)||(f[u]=p[u]))}return f}function L(p,i){if(p==null)return{};var f={},u=Object.keys(p),E,y;for(y=0;y<u.length;y++)E=u[y],!(i.indexOf(E)>=0)&&(f[E]=p[E]);return f}var g="text",x=function(i){var f=i.fieldProps,u=i.proFieldProps,E=D(i,P);return _.createElement(m.Z,v({mode:"edit",valueType:g,fieldProps:f,filedConfig:{valueType:g},proFieldProps:u},E))},w=function(i){var f=i.fieldProps,u=i.proFieldProps,E=D(i,o);return _.createElement(m.Z,v({mode:"edit",valueType:"password",fieldProps:f,proFieldProps:u,filedConfig:{valueType:g}},E))},B=x;B.Password=w,B.displayName="ProFormComponent",R.Z=B},36728:function(J,R,n){"use strict";n.r(R);var _=n(71153),m=n(60331),P=n(84305),o=n(69224),v=n(57663),D=n(71577),L=n(13254),g=n(14277),x=n(59250),w=n(13013),B=n(37730),p=n(30887),i=n(99210),f=n(34792),u=n(48086),E=n(33565),y=n(57254),N=n(49101),T=n(67294),k=n(21010),A=n(73727),W=n(19797),K=n(16894),$=n(84744),V=n(16514),a=n(5966),s=n(13718),e=n(85893),t=function(l){var r,C,I,O=l.route.name==="all",Z=(0,T.useState)({lastBuild:{show:!1},pushBuild:{show:!1}}),Y=(0,E.Z)(Z,2),U=Y[0],H=Y[1];function G(h){j.current=h,b(!0)}var S=(0,T.useRef)(),z=(0,T.useRef)(),q=(0,T.useState)(!1),F=(0,E.Z)(q,2),ee=F[0],b=F[1],j=T.useRef(null),X=T.useRef(),Q=(0,k.QT)($.IV,{manual:!0,onSuccess:function(){u.default.success("\u5220\u9664\u6210\u529F"),b(!1),z.current.reload()},onError:function(c){var M=c.data.errorMessage;u.default.error(M),b(!1)}}),re=function(c){return(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(i.Z.Item,{children:(0,e.jsx)(A.rU,{to:"/app/edit/"+c.id,children:"\u7F16\u8F91"})},"edit"),(0,e.jsx)(i.Z.Item,{children:(0,e.jsx)(A.rU,{to:"/app/update/"+c.id,children:"\u66F4\u65B0\u9009\u9879"})},"update"),(0,e.jsx)(i.Z.Divider,{}),(0,e.jsx)(i.Z.Item,{danger:!0,onClick:function(){return G(c)},children:"\u5220\u9664"},"delete")]})},te=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(c,M){return(0,e.jsx)(A.rU,{to:"/app/detail/"+M.id,children:c})},hideInSearch:!0}].concat((0,B.Z)(O?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(c,M){return(0,e.jsxs)(e.Fragment,{children:[M.nick," (",M.email,")"]})},hideInSearch:!0}]:[]),[{title:"\u5E94\u7528ID",dataIndex:"appId",key:"appId",copyable:!0,hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u5DF2\u4E0B\u67B6",status:"Warning"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"}}},{title:"\u7248\u672C\u6570",dataIndex:"versionCount",key:"versionCount",hideInSearch:!0,width:"70px"},{title:"\u6700\u65B0\u7248\u672C",dataIndex:"lastBuild",hideInSearch:!0,render:function(c,M){return c==="-"?c:(0,e.jsxs)(e.Fragment,{children:[M.lastBuildName," (",c,")"]})}},{title:"\u53EF\u89C1",dataIndex:"visible",key:"visible",valueType:"switch",hideInSearch:!0},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(c,M){return(0,e.jsx)(w.Z,{overlay:re(M),children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(ne){return ne.preventDefault()},children:["\u64CD\u4F5C",(0,e.jsx)(y.Z,{})]})})}}]);return(0,e.jsxs)(W.ZP,{children:[(0,e.jsx)(o.ZP,{renderEmpty:function(){return(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsx)(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:(0,e.jsxs)("span",{children:["\u6682\u65F6\u6CA1\u6709\u5E94\u7528\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,e.jsx)("a",{href:"#/app/add",children:"\u521B\u5EFA\u4E00\u4E2A"})]})})})},children:(0,e.jsx)(K.ZP,{sticky:{offsetHeader:s.M},headerTitle:"\u5E94\u7528\u5217\u8868",actionRef:z,rowKey:"id",search:{filterType:"light",labelWidth:120},toolbar:{search:{onSearch:function(c){S.current=c,z.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},toolBarRender:function(){return[(0,e.jsx)(A.rU,{to:"/app/add",children:(0,e.jsxs)(D.Z,{type:"primary",children:[(0,e.jsx)(N.Z,{})," \u65B0\u589E\u5E94\u7528"]})},"primary")]},scroll:{x:600},request:function(c){return c.search=S.current,O?(0,$.aF)(c):(0,$.pb)(c)},options:{fullScreen:!0,reload:!0,setting:!0},columns:te,columnsState:{value:U,onChange:H}})}),(0,e.jsxs)(V.Z,{title:"\u786E\u8BA4\u5220\u9664",width:400,formRef:X,modalProps:{afterClose:function(){var c;(c=X.current)===null||c===void 0||c.resetFields()}},visible:ee,onVisibleChange:b,onFinish:function(c){var M;return Q.run({id:(M=j.current)===null||M===void 0?void 0:M.id})},children:[(0,e.jsx)("p",{children:"\u5220\u9664\u540E\u5C06\u670930\u5929\u7684\u4FDD\u7559\u671F\uFF0C\u671F\u95F4\u65E0\u6CD5\u518D\u521B\u5EFA\u5E94\u7528ID\u76F8\u540C\u7684\u5E94\u7528\u3002"}),(0,e.jsxs)("p",{children:["\u8BF7\u8F93\u5165\xA0",(0,e.jsx)(m.Z,{children:(r=j.current)===null||r===void 0?void 0:r.appId}),"\u4EE5\u786E\u8BA4\u5220\u9664"]}),(0,e.jsx)(a.Z,{name:"confirm",placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528ID\u4EE5\u786E\u8BA4\u5220\u9664",style:{marginTop:5},rules:[{type:"enum",required:!0,enum:[(C=j.current)===null||C===void 0?void 0:C.appId],message:"\u8BF7\u8F93\u5165 "+((I=j.current)===null||I===void 0?void 0:I.appId)+" \u4EE5\u786E\u8BA4\u5220\u9664"}]})]})]})};R.default=t},13718:function(J,R,n){"use strict";n.d(R,{M:function(){return _}});var _=60},84744:function(J,R,n){"use strict";n.d(R,{w$:function(){return L},pb:function(){return g},aF:function(){return w},Nm:function(){return p},rZ:function(){return f},yC:function(){return E},h$:function(){return N},wW:function(){return k},eP:function(){return W},IH:function(){return $},IV:function(){return a}});var _=n(96132),m=n(57361),P=n(9754),o=n.n(P),v=n(18811),D=n(21010),L={UNKNOWN:0,NORMAL:1,PENDING:2,FAILED:3,DISABLED:4,DELETED:5,BANNED:6,CHANGED:7,getText:function(t){return["\u672A\u77E5","\u6B63\u5E38","\u5BA1\u6838\u4E2D","\u5BA1\u6838\u672A\u901A\u8FC7","\u5DF2\u4E0B\u67B6","\u7B49\u5F85\u5220\u9664","\u8FDD\u89C4\u5C01\u7981","\u6B63\u5E38-\u5F85\u5BA1\u6838"][t]},getColor:function(t){return["#a8071a","#237804","#0050b3","#a8071a","#faad14","#a8071a","#a8071a","#0050b3"][t]}};function g(e,t){return x.apply(this,arguments)}function x(){return x=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/getList",{method:"POST",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),x.apply(this,arguments)}function w(e,t){return B.apply(this,arguments)}function B(){return B=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/getAll",{method:"POST",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),B.apply(this,arguments)}function p(e,t){return i.apply(this,arguments)}function i(){return i=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/getDetail",{method:"POST",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),i.apply(this,arguments)}function f(e,t){return u.apply(this,arguments)}function u(){return u=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/getStatistic",{method:"POST",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),u.apply(this,arguments)}function E(e,t){return y.apply(this,arguments)}function y(){return y=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/search",{method:"POST",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),y.apply(this,arguments)}function N(e,t){return T.apply(this,arguments)}function T(){return T=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/disable",{method:"POST",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),T.apply(this,arguments)}function k(e,t){return A.apply(this,arguments)}function A(){return A=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/edit",{method:"GET",params:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),A.apply(this,arguments)}function W(e,t){return K.apply(this,arguments)}function K(){return K=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/edit",{method:"POST",data:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),K.apply(this,arguments)}function $(e,t){return V.apply(this,arguments)}function V(){return V=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/add",{method:"POST",data:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),V.apply(this,arguments)}function a(e,t){return s.apply(this,arguments)}function s(){return s=(0,m.Z)(o().mark(function e(t,d){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,D.WY)(v.s3+"app/delete",{method:"POST",data:(0,_.Z)({},t),credentials:"include"}));case 1:case"end":return r.stop()}},e)})),s.apply(this,arguments)}},73727:function(J,R,n){"use strict";n.d(R,{rU:function(){return N}});var _=n(51615),m=n(41788),P=n(67294),o=n(97175),v=n(45697),D=n.n(v),L=n(22122),g=n(19756),x=n(2177),w=function(a){(0,m.Z)(s,a);function s(){for(var t,d=arguments.length,l=new Array(d),r=0;r<d;r++)l[r]=arguments[r];return t=a.call.apply(a,[this].concat(l))||this,t.history=(0,o.lX)(t.props),t}var e=s.prototype;return e.render=function(){return P.createElement(_.F0,{history:this.history,children:this.props.children})},s}(P.Component),B=function(a){(0,m.Z)(s,a);function s(){for(var t,d=arguments.length,l=new Array(d),r=0;r<d;r++)l[r]=arguments[r];return t=a.call.apply(a,[this].concat(l))||this,t.history=(0,o.q_)(t.props),t}var e=s.prototype;return e.render=function(){return P.createElement(_.F0,{history:this.history,children:this.props.children})},s}(P.Component),p=function(s,e){return typeof s=="function"?s(e):s},i=function(s,e){return typeof s=="string"?(0,o.ob)(s,null,null,e):s},f=function(s){return s},u=P.forwardRef;typeof u=="undefined"&&(u=f);function E(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}var y=u(function(a,s){var e=a.innerRef,t=a.navigate,d=a.onClick,l=(0,g.Z)(a,["innerRef","navigate","onClick"]),r=l.target,C=(0,L.Z)({},l,{onClick:function(O){try{d&&d(O)}catch(Z){throw O.preventDefault(),Z}!O.defaultPrevented&&O.button===0&&(!r||r==="_self")&&!E(O)&&(O.preventDefault(),t())}});return f!==u?C.ref=s||e:C.ref=e,P.createElement("a",C)}),N=u(function(a,s){var e=a.component,t=e===void 0?y:e,d=a.replace,l=a.to,r=a.innerRef,C=(0,g.Z)(a,["component","replace","to","innerRef"]);return P.createElement(_.s6.Consumer,null,function(I){I||(0,x.Z)(!1);var O=I.history,Z=i(p(l,I.location),I.location),Y=Z?O.createHref(Z):"",U=(0,L.Z)({},C,{href:Y,navigate:function(){var G=p(l,I.location),S=d?O.replace:O.push;S(G)}});return f!==u?U.ref=s||r:U.innerRef=r,P.createElement(t,U)})});if(!1)var T,k;var A=function(s){return s},W=P.forwardRef;typeof W=="undefined"&&(W=A);function K(){for(var a=arguments.length,s=new Array(a),e=0;e<a;e++)s[e]=arguments[e];return s.filter(function(t){return t}).join(" ")}var $=W(function(a,s){var e=a["aria-current"],t=e===void 0?"page":e,d=a.activeClassName,l=d===void 0?"active":d,r=a.activeStyle,C=a.className,I=a.exact,O=a.isActive,Z=a.location,Y=a.sensitive,U=a.strict,H=a.style,G=a.to,S=a.innerRef,z=(0,g.Z)(a,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return P.createElement(_.s6.Consumer,null,function(q){q||(0,x.Z)(!1);var F=Z||q.location,ee=i(p(G,F),F),b=ee.pathname,j=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),X=j?(0,_.LX)(F.pathname,{path:j,exact:I,sensitive:Y,strict:U}):null,Q=!!(O?O(X,F):X),re=Q?K(C,l):C,te=Q?(0,L.Z)({},H,{},r):H,h=(0,L.Z)({"aria-current":Q&&t||null,className:re,style:te,to:ee},z);return A!==W?h.ref=s||S:h.innerRef=S,P.createElement(N,h)})});if(!1)var V}}]);
