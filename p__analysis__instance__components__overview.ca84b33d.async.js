(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8690],{64335:function(j,M,t){"use strict";var _=t(67294),c=(0,_.createContext)({});M.Z=c},21349:function(j,M,t){"use strict";var _=t(84305),c=t(39559),g=t(53645),l=t.n(g),u=t(67294),f=t(94184),m=t.n(f),x=t(64335),I=function(p){var R=(0,u.useContext)(x.Z),i=p.children,b=p.contentWidth,T=p.className,U=p.style,P=(0,u.useContext)(c.ZP.ConfigContext),S=P.getPrefixCls,C=p.prefixCls||S("pro"),B=b||R.contentWidth,w="".concat(C,"-grid-content");return u.createElement("div",{className:m()(w,T,{wide:B==="Fixed"}),style:U},u.createElement("div",{className:"".concat(C,"-grid-content-children")},i))};M.Z=I},53266:function(j){j.exports={tabs:"tabs___YEat-"}},53645:function(){},70883:function(){},27368:function(j,M,t){"use strict";var _=t(33565),c=t(67294),g=t(52778),l=t(48717),u=t(85893),f="ODlp",m=g.Z.Statistic,x=g.Z.Divider,I=function(p){var R=p.loading,i=p.active,b=(0,c.useState)(!1),T=(0,_.Z)(b,2),U=T[0],P=T[1];return(0,u.jsx)(l.Z,{onResize:function(C){P(C.width<696)},_nk:"".concat(f,"11"),children:(0,u.jsxs)(g.Z.Group,{loading:R,direction:U?"column":"row",style:{marginBottom:24},_nk:"".concat(f,"21"),children:[(0,u.jsx)(g.Z,{statistic:{title:"\u5F53\u524D\u5B9E\u4F8B\u6570",value:(i==null?void 0:i.current)||0,description:(0,u.jsx)(m,{title:"\u6628\u65E5\u5CF0\u503C",value:(i==null?void 0:i.max)||0,_nk:"".concat(f,"41")})},_nk:"".concat(f,"31")}),(0,u.jsx)(x,{type:U?"horizontal":"vertical",_nk:"".concat(f,"51")}),(0,u.jsx)(g.Z,{statistic:{title:"24\u5C0F\u65F6\u6D3B\u8DC3\u5EA6",value:i==null?void 0:i.h24,description:(0,u.jsx)(m,{title:"\u6628\u65E5\u540C\u6BD4",value:(i==null?void 0:i.hc)==="-"?"-":(i==null?void 0:i.hc)+"%",trend:(i==null?void 0:i.hc)<0?"down":"up",_nk:"".concat(f,"42")})},chartPlacement:"left",_nk:"".concat(f,"32")}),(0,u.jsx)(g.Z,{statistic:{title:"\u672C\u6708\u6D3B\u8DC3\u5EA6",value:i==null?void 0:i.month,description:(0,u.jsx)(m,{title:"\u4E0A\u6708\u540C\u6BD4",value:(i==null?void 0:i.mc)==="-"?"-":(i==null?void 0:i.mc)+"%",trend:(i==null?void 0:i.mc)<0?"down":"up",_nk:"".concat(f,"43")})},chartPlacement:"left",_nk:"".concat(f,"33")})]})},"resize-observer")};M.Z=I},78311:function(j,M,t){"use strict";t.r(M);var _=t(3515),c=t(86288),g=t(13254),l=t(14277),u=t(96132),f=t(22385),m=t(69713),x=t(37730),I=t(33565),y=t(21349),p=t(23723),R=t(67294),i=t(84787),b=t(53266),T=t.n(b),U=t(89901),P=t(88563),S=t(16894),C=t(63430),B=t(56905),w=t(27368),H=t(13718),d=t(85893),E="OICq";function F(K){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,O=K.indexOf("/"),W=0;W<k&&O!==-1;W++)O=K.indexOf("/",O+1);return O!==-1?K.substr(0,O):K}var V=function(k){var O,W,$,a,r,s=k.showAll,e=k.userId,n=R.useState("hour"),o=(0,I.Z)(n,2),h=o[0],v=o[1];R.useEffect(function(){L.run(),h==="hour"?A.reset():A.run()},[e]);var L=(0,P.QT)(function(){return s?(0,B.Pf)({hour:!0,base:!0,userId:e}):(0,B.s8)({hour:!0,base:!0})},{manual:!0}),A=(0,P.QT)(function(){return s?(0,B.Pf)({month:!0,userId:e}):(0,B.s8)({month:!0})},{manual:!0}),Y=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(D,N){return(0,d.jsx)(m.Z,{placement:"top",title:N.appId,_nk:"".concat(E,"11"),children:(0,d.jsx)(U.rU,{to:F(P.m8.location.pathname)+"/"+N.id,_nk:"".concat(E,"21"),children:D})})}}].concat((0,x.Z)(s?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(D,N){return(0,d.jsxs)(d.Fragment,{children:[N.nick," (",N.email,")"]})}}]:[]),[{title:"\u6D3B\u8DC3\u5EA6",dataIndex:"active",key:"active",hideInSearch:!0},{title:"\u5E73\u5747\u6D3B\u8DC3\u8BBE\u5907",dataIndex:"device",key:"device",hideInSearch:!0},{title:"\u542F\u52A8\u6B21\u6570",dataIndex:"count",key:"count",hideInSearch:!0}]),z={appendPadding:10,height:400,data:h==="hour"?((O=L.data)===null||O===void 0?void 0:O.hour.rank)||[]:((W=A.data)===null||W===void 0?void 0:W.month.rank)||[],angleField:"value",colorField:"type",radius:.8,loading:h==="hour"?L.loading:A.loading,label:{type:"outer",content:"{name} {percentage}"},onReady:function(D){D.on("element:click",function(N){P.m8.push(F(P.m8.location.pathname)+"/"+N.data.data.id)})},interactions:[{type:"pie-legend-active"},{type:"element-active"}]},Z=(0,d.jsxs)(i.ZP,{split:"horizontal",_nk:"".concat(E,"31"),children:[(0,d.jsx)(i.ZP,{bodyStyle:{padding:0},style:{marginTop:10},_nk:"".concat(E,"32"),children:(0,d.jsx)(S.ZP,{headerTitle:"\u6D3B\u8DC3\u5E94\u7528\u5217\u8868",params:(0,u.Z)((0,u.Z)({},h==="hour"?{type:1}:{type:2}),s?{userId:e}:{}),rowKey:"id",search:!1,request:s?B.Up:B.IX,scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:Y,_nk:"".concat(E,"41")})}),(0,d.jsx)(i.ZP,{title:"TOP10\u6D3B\u8DC3\u5E94\u7528",collapsible:!0,style:{position:"relative"},bodyStyle:{height:"auto"},_nk:"".concat(E,"33"),children:(h==="hour"?((($=L.data)===null||$===void 0?void 0:$.hour.rank)||[]).length===0:(((a=A.data)===null||a===void 0?void 0:a.month.rank)||[]).length===0)?(0,d.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE,_nk:"".concat(E,"51")}):(0,d.jsx)(C.Z,(0,u.Z)((0,u.Z)({},z),{},{_nk:"".concat(E,"61")}))})]});return(0,d.jsx)(y.Z,{_nk:"".concat(E,"71"),children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R.Suspense,{fallback:(0,d.jsx)(p.Z,{_nk:"".concat(E,"91")}),_nk:"".concat(E,"81"),children:(0,d.jsx)(w.Z,{loading:L.loading,active:(r=L.data)===null||r===void 0?void 0:r.base,_nk:"".concat(E,"a1")})}),(0,d.jsxs)(R.Suspense,{fallback:(0,d.jsx)(p.Z,{_nk:"".concat(E,"92")}),_nk:"".concat(E,"82"),children:[(0,d.jsx)(c.Z,{offsetTop:H.M,style:{overflow:"hidden"},_nk:"".concat(E,"b1"),children:(0,d.jsxs)(i.ZP,{className:T().tabs,tabs:{tabPosition:"top",size:"large",activeKey:h,onChange:function(D){v(D),D==="month"&&!A.data&&!A.loading&&A.run()}},style:{boxShadow:"0 0 5px #00000044"},_nk:"".concat(E,"34"),children:[(0,d.jsx)(i.ZP.TabPane,{tab:"24\u5C0F\u65F6\u62A5",cardProps:{bodyStyle:{padding:0}},_nk:"".concat(E,"83")},"hour"),(0,d.jsx)(i.ZP.TabPane,{tab:"\u6708\u62A5",cardProps:{bodyStyle:{padding:0}},_nk:"".concat(E,"84")},"month")]})}),(0,d.jsx)(i.ZP,{bodyStyle:{padding:0},_nk:"".concat(E,"35"),children:Z})]})]})})};M.default=V},13718:function(j,M,t){"use strict";t.d(M,{M:function(){return c}});var _="ojP7",c=60},23723:function(j,M,t){"use strict";var _=t(20228),c=t(11382),g=t(85893),l="1E61";M.Z=function(){return(0,g.jsx)("div",{style:{paddingTop:100,textAlign:"center"},_nk:"".concat(l,"11"),children:(0,g.jsx)(c.Z,{size:"large",_nk:"".concat(l,"21")})})}},56905:function(j,M,t){"use strict";t.d(M,{s8:function(){return x},IX:function(){return y},Pf:function(){return R},Up:function(){return b},CF:function(){return U},Xf:function(){return S},P:function(){return B},Dz:function(){return H},K1:function(){return E},Yd:function(){return V},sg:function(){return k},oQ:function(){return W}});var _=t(96132),c=t(57361),g=t(9754),l=t.n(g),u=t(18811),f=t(88563),m="BRui";function x(a,r){return I.apply(this,arguments)}function I(){return I=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getInstance",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),I.apply(this,arguments)}function y(a,r){return p.apply(this,arguments)}function p(){return p=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getInstanceList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),p.apply(this,arguments)}function R(a,r){return i.apply(this,arguments)}function i(){return i=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getAllInstance",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),i.apply(this,arguments)}function b(a,r){return T.apply(this,arguments)}function T(){return T=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getAllInstanceList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),T.apply(this,arguments)}function U(a,r){return P.apply(this,arguments)}function P(){return P=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getAppActive",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),P.apply(this,arguments)}function S(a,r){return C.apply(this,arguments)}function C(){return C=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getAppActiveStat",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),C.apply(this,arguments)}function B(a){return w.apply(this,arguments)}function w(){return w=(0,c.Z)(l().mark(function a(r){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(u.s3+"analysis/getInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),w.apply(this,arguments)}function H(a){return d.apply(this,arguments)}function d(){return d=(0,c.Z)(l().mark(function a(r){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(u.s3+"analysis/getInstallList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),d.apply(this,arguments)}function E(a){return F.apply(this,arguments)}function F(){return F=(0,c.Z)(l().mark(function a(r){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(u.s3+"analysis/getAllInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),F.apply(this,arguments)}function V(a){return K.apply(this,arguments)}function K(){return K=(0,c.Z)(l().mark(function a(r){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)(u.s3+"analysis/getAllInstallList",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return e.stop()}},a)})),K.apply(this,arguments)}function k(a,r){return O.apply(this,arguments)}function O(){return O=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getAppInstall",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),O.apply(this,arguments)}function W(a,r){return $.apply(this,arguments)}function $(){return $=(0,c.Z)(l().mark(function a(r,s){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.WY)(u.s3+"analysis/getAppInstallStat",{method:"POST",params:(0,_.Z)({},r),credentials:"include"}));case 1:case"end":return n.stop()}},a)})),$.apply(this,arguments)}},34952:function(j,M,t){"use strict";var _=t(22122),c=t(67294),g=t(15105),l=function(m,x){var I={};for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&x.indexOf(y)<0&&(I[y]=m[y]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,y=Object.getOwnPropertySymbols(m);p<y.length;p++)x.indexOf(y[p])<0&&Object.prototype.propertyIsEnumerable.call(m,y[p])&&(I[y[p]]=m[y[p]]);return I},u={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},f=c.forwardRef(function(m,x){var I=function(P){var S=P.keyCode;S===g.Z.ENTER&&P.preventDefault()},y=function(P){var S=P.keyCode,C=m.onClick;S===g.Z.ENTER&&C&&C()},p=m.style,R=m.noStyle,i=m.disabled,b=l(m,["style","noStyle","disabled"]),T={};return R||(T=(0,_.Z)({},u)),i&&(T.pointerEvents="none"),T=(0,_.Z)((0,_.Z)({},T),p),c.createElement("div",(0,_.Z)({role:"button",tabIndex:0,ref:x},b,{onKeyDown:I,onKeyUp:y,style:T}))});M.Z=f},86288:function(j,M,t){"use strict";t.d(M,{Z:function(){return $}});var _=t(22122),c=t(96156),g=t(6610),l=t(5991),u=t(65255),f=t(44144),m=t(90484),x=t(67294),I=t(94184),y=t.n(I),p=t(98423),R=t(48717),i=t(65632),b=t(85061),T=t(75164);function U(a){var r,s=function(o){return function(){r=null,a.apply(void 0,(0,b.Z)(o))}},e=function(){if(r==null){for(var o=arguments.length,h=new Array(o),v=0;v<o;v++)h[v]=arguments[v];r=(0,T.Z)(s(h))}};return e.cancel=function(){return T.Z.cancel(r)},e}function P(){return function(r,s,e){var n=e.value,o=!1;return{configurable:!0,get:function(){if(o||this===r.prototype||this.hasOwnProperty(s))return n;var v=U(n.bind(this));return o=!0,Object.defineProperty(this,s,{value:v,configurable:!0,writable:!0}),o=!1,v}}}}var S=t(64019);function C(a){return a!==window?a.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function B(a,r,s){if(s!==void 0&&r.top>a.top-s)return s+r.top}function w(a,r,s){if(s!==void 0&&r.bottom<a.bottom+s){var e=window.innerHeight-r.bottom;return s+e}}var H=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],d=[];function E(){return d}function F(a,r){if(!!a){var s=d.find(function(e){return e.target===a});s?s.affixList.push(r):(s={target:a,affixList:[r],eventHandlers:{}},d.push(s),H.forEach(function(e){s.eventHandlers[e]=(0,S.Z)(a,e,function(){s.affixList.forEach(function(n){n.lazyUpdatePosition()})})}))}}function V(a){var r=d.find(function(s){var e=s.affixList.some(function(n){return n===a});return e&&(s.affixList=s.affixList.filter(function(n){return n!==a})),e});r&&r.affixList.length===0&&(d=d.filter(function(s){return s!==r}),H.forEach(function(s){var e=r.eventHandlers[s];e&&e.remove&&e.remove()}))}var K=function(a,r,s,e){var n=arguments.length,o=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,s):e,h;if((typeof Reflect=="undefined"?"undefined":(0,m.Z)(Reflect))==="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,r,s,e);else for(var v=a.length-1;v>=0;v--)(h=a[v])&&(o=(n<3?h(o):n>3?h(r,s,o):h(r,s))||o);return n>3&&o&&Object.defineProperty(r,s,o),o};function k(){return typeof window!="undefined"?window:null}var O;(function(a){a[a.None=0]="None",a[a.Prepare=1]="Prepare"})(O||(O={}));var W=function(a){(0,u.Z)(s,a);var r=(0,f.Z)(s);function s(){var e;return(0,g.Z)(this,s),e=r.apply(this,arguments),e.state={status:O.None,lastAffix:!1,prevTarget:null},e.getOffsetTop=function(){var n=e.props.offsetBottom,o=e.props.offsetTop;return n===void 0&&o===void 0&&(o=0),o},e.getOffsetBottom=function(){return e.props.offsetBottom},e.savePlaceholderNode=function(n){e.placeholderNode=n},e.saveFixedNode=function(n){e.fixedNode=n},e.measure=function(){var n=e.state,o=n.status,h=n.lastAffix,v=e.props.onChange,L=e.getTargetFunc();if(!(o!==O.Prepare||!e.fixedNode||!e.placeholderNode||!L)){var A=e.getOffsetTop(),Y=e.getOffsetBottom(),z=L();if(!!z){var Z={status:O.None},G=C(z),D=C(e.placeholderNode),N=B(D,G,A),Q=w(D,G,Y);N!==void 0?(Z.affixStyle={position:"fixed",top:N,width:D.width,height:D.height},Z.placeholderStyle={width:D.width,height:D.height}):Q!==void 0&&(Z.affixStyle={position:"fixed",bottom:Q,width:D.width,height:D.height},Z.placeholderStyle={width:D.width,height:D.height}),Z.lastAffix=!!Z.affixStyle,v&&h!==Z.lastAffix&&v(Z.lastAffix),e.setState(Z)}}},e.prepareMeasure=function(){if(e.setState({status:O.Prepare,affixStyle:void 0,placeholderStyle:void 0}),!1)var n},e}return(0,l.Z)(s,[{key:"getTargetFunc",value:function(){var n=this.context.getTargetContainer,o=this.props.target;return o!==void 0?o:n||k}},{key:"componentDidMount",value:function(){var n=this,o=this.getTargetFunc();o&&(this.timeout=setTimeout(function(){F(o(),n),n.updatePosition()}))}},{key:"componentDidUpdate",value:function(n){var o=this.state.prevTarget,h=this.getTargetFunc(),v=null;h&&(v=h()||null),o!==v&&(V(this),v&&(F(v,this),this.updatePosition()),this.setState({prevTarget:v})),(n.offsetTop!==this.props.offsetTop||n.offsetBottom!==this.props.offsetBottom)&&this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),V(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var n=this.getTargetFunc(),o=this.state.affixStyle;if(n&&o){var h=this.getOffsetTop(),v=this.getOffsetBottom(),L=n();if(L&&this.placeholderNode){var A=C(L),Y=C(this.placeholderNode),z=B(Y,A,h),Z=w(Y,A,v);if(z!==void 0&&o.top===z||Z!==void 0&&o.bottom===Z)return}}this.prepareMeasure()}},{key:"render",value:function(){var n=this,o=this.context.getPrefixCls,h=this.state,v=h.affixStyle,L=h.placeholderStyle,A=this.props,Y=A.prefixCls,z=A.children,Z=y()((0,c.Z)({},o("affix",Y),!!v)),G=(0,p.Z)(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return x.createElement(R.Z,{onResize:function(){n.updatePosition()}},x.createElement("div",(0,_.Z)({},G,{ref:this.savePlaceholderNode}),v&&x.createElement("div",{style:L,"aria-hidden":"true"}),x.createElement("div",{className:Z,ref:this.saveFixedNode,style:v},x.createElement(R.Z,{onResize:function(){n.updatePosition()}},z))))}}]),s}(x.Component);W.contextType=i.E_,K([P()],W.prototype,"updatePosition",null),K([P()],W.prototype,"lazyUpdatePosition",null);var $=W},3515:function(j,M,t){"use strict";var _=t(38663),c=t.n(_),g=t(70883),l=t.n(g)}}]);
