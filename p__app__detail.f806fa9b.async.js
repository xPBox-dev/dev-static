(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[967],{94328:function(pt,O,t){"use strict";t.r(O),t.d(O,{default:function(){return Ot}});var h=t(96132),B=t(84305),U=t(69224),u=t(13254),p=t(14277),g=t(18106),c=t(51752),M=t(13062),d=t(71230),F=t(95300),j=t(7277),C=t(64896),K=t(37744),z=t(57663),x=t(71577),S=t(58024),s=t(39144),l=t(57361),Z=t(59250),f=t(13013),n=t(30887),R=t(99210),xt=t(20228),Y=t(11382),W=t(33565),tt=t(9754),Q=t.n(tt),r=t(84787),et=t(48786),N=t(17744),at=t(57254),i=t(21010),P=t(84744),y=t(96459),E=t(67294),_=t(97221),V=t(87155),H=t(99935),nt=t(68023),st=t(48579),G=t(46586),A=t(17813),At=t(19076),Dt=t(62842),It=t(68290),Bt=t(62604),Ct=t(70012);nt.D([A.N,At.N,Dt.N,st.N,Ct.N,It.N,Bt.N,G.N]);var ft=H,St=t(65476),e=t(85893),J=r.ZP.Divider;function Tt(X){if(X==null||X=="")return"0 Bytes";var lt=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],T=0,L=parseFloat(X);T=Math.floor(Math.log(L)/Math.log(1024));var b=L/Math.pow(1024,T);return b=b.toFixed(2),b+lt[T]}var bt=function(lt){var T,L,b,rt,it,ot,ut,dt,ct,vt,v=lt.match.params.id,Mt=(0,E.useState)("info"),yt=(0,W.Z)(Mt,2),Ft=yt[0],Rt=yt[1],mt=(0,i.QT)(function(){return(0,P.Nm)({id:v})}),a=mt.data,Et=mt.loading,Wt=mt.run,gt=E.useRef("install"),Lt=E.useState([{value:v,label:(0,e.jsx)(Y.Z,{size:"small"})}]),jt=(0,W.Z)(Lt,2),$t=jt[0],Ut=jt[1],k=(0,i.QT)(function(){return(0,P.rZ)({id:v,type:"install"})}),D=(0,i.QT)(function(){return(0,P.rZ)({id:v,type:"instance"})},{manual:!0}),I=(0,i.QT)(function(){return(0,P.rZ)({id:v,type:"device"})},{manual:!0}),$=(0,i.QT)(function(){return(0,P.rZ)({id:v,type:"count"})},{manual:!0}),Kt=function(){Wt(),$.reset(),I.reset(),D.reset(),k.run()};(0,E.useEffect)(function(){Kt()},[v]),(0,E.useEffect)(function(){Ut([{value:a==null?void 0:a.id,label:(a==null?void 0:a.appName)+" - "+(a==null?void 0:a.appId)}])},[a]);var w=!1,Zt=(0,e.jsxs)(R.Z,{children:[(0,e.jsx)(R.Z.Item,{children:"1st item"},"1"),(0,e.jsx)(R.Z.Item,{children:"2nd item"},"2"),(0,e.jsx)(R.Z.Item,{children:"3rd item"},"3")]}),zt={tooltip:{trigger:"axis"},legend:{data:["\u6D3B\u8DC3\u8BBE\u5907\u6570","\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4","\u7D2F\u8BA1\u6D3B\u8DC3\u8BBE\u5907"]},grid:{top:"30px",left:"10px",right:"10px",bottom:"50px",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:(T=I.data)===null||T===void 0?void 0:T.x}],yAxis:[{name:"\u8BBE\u5907\u6570",type:"value",minInterval:1},{name:"\u6D3B\u8DC3\u65F6\u95F4(\u79D2)",type:"value",max:3600}],dataZoom:[{show:!0,xAxisIndex:0,start:66.666}],series:[{name:"\u7D2F\u8BA1\u6D3B\u8DC3\u8BBE\u5907",type:"custom",stack:"\u7D2F\u8BA1\u6D3B\u8DC3\u8BBE\u5907",renderItem:function(){},data:[(L=I.data)===null||L===void 0?void 0:L.total],encode:{x:0,y:0,tooltip:0},markLine:{data:[{type:"max",name:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",label:{position:"insideStartTop",formatter:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B"},tooltip:{trigger:"item"},yAxis:(b=I.data)===null||b===void 0?void 0:b.total}]}},{name:"\u6D3B\u8DC3\u8BBE\u5907\u6570",type:"line",smooth:!0,stack:"\u8BBE\u5907\u6570",color:"#D23325",data:(rt=I.data)===null||rt===void 0?void 0:rt.instance},{name:"\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4",type:"line",yAxisIndex:1,smooth:!0,color:"#5888F3",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#1890ff"},{offset:.5,color:"#7ec2f3"},{offset:1,color:"#ffffff"}],global:!1}},stack:"\u65F6\u95F4",data:(it=I.data)===null||it===void 0?void 0:it.time}]},Nt={tooltip:{trigger:"axis"},legend:{data:["\u6D3B\u8DC3\u5B9E\u4F8B\u6570","\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4","\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B"]},grid:{top:"30px",left:"10px",right:"10px",bottom:"50px",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:(ot=D.data)===null||ot===void 0?void 0:ot.x}],yAxis:[{name:"\u5B9E\u4F8B\u6570",type:"value",minInterval:1},{name:"\u6D3B\u8DC3\u65F6\u95F4(\u79D2)",type:"value",max:3600}],dataZoom:[{show:!0,xAxisIndex:0,start:66.666}],series:[{name:"\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",type:"custom",stack:"\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",renderItem:function(){},data:[(ut=D.data)===null||ut===void 0?void 0:ut.total],encode:{x:0,y:0,tooltip:0},markLine:{data:[{type:"max",name:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",label:{position:"insideStartTop",formatter:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B"},tooltip:{trigger:"item"},yAxis:(dt=D.data)===null||dt===void 0?void 0:dt.total}]}},{name:"\u6D3B\u8DC3\u5B9E\u4F8B\u6570",type:"line",smooth:!0,stack:"\u5B9E\u4F8B\u6570",color:"#D23325",data:(ct=D.data)===null||ct===void 0?void 0:ct.instance},{name:"\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4",type:"line",yAxisIndex:1,smooth:!0,color:"#5888F3",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#1890ff"},{offset:.5,color:"#7ec2f3"},{offset:1,color:"#ffffff"}],global:!1}},stack:"\u65F6\u95F4",data:(vt=D.data)===null||vt===void 0?void 0:vt.time}]},_t=[{title:"Build",dataIndex:"build",key:"build",ellipsis:!0},{title:"\u7248\u672C\u53F7",dataIndex:"versionName",key:"versionName",copyable:!0},{title:"\u7248\u672C\u7C7B\u578B",dataIndex:"channel",key:"channel",hideInSearch:!0,valueType:"select",filters:!0,onFilter:!0,valueEnum:{0:{text:"Stable"},1:{text:"Alpha"},2:{text:"Beta"},3:{text:"Insider"},4:{text:"Dev"}}},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"createTime",key:"createTime",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"},8:{text:"\u672A\u53D1\u5E03",status:"Warning"}}},{title:"\u6587\u4EF6\u5927\u5C0F",dataIndex:"size",key:"size",hideInSearch:!0,render:function(m){return(0,e.jsx)("span",{children:Tt(m)})}},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(){return(0,e.jsx)(f.Z,{overlay:Zt,children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(Pt){return Pt.preventDefault()},children:["\u64CD\u4F5C",(0,e.jsx)(at.Z,{})]})})}}],Vt=(0,i.md)();function Gt(o){return ht.apply(this,arguments)}function ht(){return ht=(0,l.Z)(Q().mark(function o(m){return Q().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",(0,P.yC)((0,h.Z)({search:m},Vt.canAdmin?{all:!0}:{})));case 1:case"end":return q.stop()}},o)})),ht.apply(this,arguments)}var Yt=(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(St.Z,{showSearch:!0,value:v,placeholder:"\u9009\u62E9\u5E94\u7528",fetchOptions:Gt,size:"large",setMyOption:$t,style:{minWidth:"200px",maxWidth:"350px"},onChange:function(m){i.m8.push("/app/detail/"+m)}})});return(0,e.jsxs)(e.Fragment,{children:[Et?(0,e.jsx)(s.Z,{loading:!0}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K.Z,{onBack:function(){return i.m8.goBack()},title:Yt,ghost:!1,extra:(0,e.jsxs)(et.Z,{children:[(0,e.jsx)(x.Z,{onClick:function(){return i.m8.push("/app/edit/"+v)},children:"\u4FEE\u6539\u5E94\u7528"}),(0,e.jsx)(f.Z.Button,{overlay:Zt,children:"\u4E0B\u67B6\u5E94\u7528"})]}),style:{borderBottom:"1px solid #EEEEEE"}}),(0,e.jsxs)(r.ZP,{headerBordered:!0,tabs:{tabPosition:"left",activeKey:Ft,onChange:function(m){Rt(m)}},children:[(0,e.jsxs)(r.ZP.TabPane,{tab:"\u5E94\u7528\u7B80\u4ECB",cardProps:{bodyStyle:{padding:0}},children:[(0,e.jsx)(d.Z,{children:(0,e.jsxs)(r.ZP.Group,{direction:w?"column":"row",children:[(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u63A8\u9001\u7684\u7248\u672C",value:a==null?void 0:a.lastPush,precision:2})}),(0,e.jsx)(J,{type:w?"horizontal":"vertical"}),(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u6700\u540E\u66F4\u65B0\u65F6\u95F4",value:a==null?void 0:a.lastUpdate,precision:2})}),(0,e.jsx)(J,{type:w?"horizontal":"vertical"}),(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u72B6\u6001",value:"\u6B63\u5E38",valueStyle:{color:"green"}})}),(0,e.jsx)(J,{type:w?"horizontal":"vertical"}),(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u62E5\u6709\u7248\u672C\u6570",value:a==null?void 0:a.versionCount})})]})}),(0,e.jsx)(J,{type:"horizontal"}),(0,e.jsx)(d.Z,{children:(0,e.jsx)(r.ZP,{title:"\u5E94\u7528\u7B80\u4ECB",children:a==null?void 0:a.detail})})]},"info"),(0,e.jsxs)(r.ZP.TabPane,{tab:"\u5176\u4ED6\u4FE1\u606F",children:[(0,e.jsx)(y.Z,{title:"\u57FA\u7840\u4FE1\u606F",column:1,columns:[{label:"\u5E94\u7528\u67B6\u6784",dataIndex:"architecture",key:"architecture",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5"},1:{text:"\u6B63\u5E38"},2:{text:"\u5BA1\u6838\u4E2D"}}},{label:"\u5E94\u7528\u5206\u7C7B",dataIndex:"architecture",key:"architecture",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5"},1:{text:"\u6B63\u5E38"},2:{text:"\u5BA1\u6838\u4E2D"}}},{label:"\u4EA7\u54C1\u7F51\u7AD9",dataIndex:"web",key:"web"}],dataSource:a==null?void 0:a.base}),(0,e.jsxs)(y.Z,{title:"API\u4FE1\u606F",column:1,dataSource:a==null?void 0:a.api,children:[(0,e.jsx)(y.Z.Item,{dataIndex:"license",label:"\u6388\u6743\u4FE1\u606F\u56DE\u8C03"}),(0,e.jsx)(y.Z.Item,{dataIndex:"api",label:"\u5E94\u7528\u4FE1\u606F\u56DE\u8C03"})]})]},"other"),(0,e.jsx)(r.ZP.TabPane,{tab:"\u7EDF\u8BA1\u4FE1\u606F",cardProps:{bodyStyle:{padding:"0 10px 10px 10px"}},children:(0,e.jsxs)(c.Z,{size:"small",tabBarExtraContent:(0,e.jsx)("a",{onClick:function(){gt.current==="install"?i.m8.push("/analysis/install/"+v):i.m8.push("/analysis/instance/"+v)},style:{paddingRight:"10px"},children:"\u66F4\u591A\u6570\u636E"}),tabBarStyle:{marginBottom:24},onChange:function(m){switch(gt.current=m,m){case"instance":!D.data&&D.run();break;case"count":!$.data&&$.run();break;case"device":!I.data&&I.run();break}},children:[(0,e.jsx)(c.Z.TabPane,{tab:"\u65E5\u5B89\u88C5\u91CF",style:{position:"relative"},children:(0,e.jsx)(_.Z,{loading:k.loading||!k.data,height:300,data:k.data||[],xField:"x",yField:"y",seriesField:"type",isStack:!0,xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},slider:{start:0,end:1},title:{visible:!0,text:"\u6700\u8FD1\u4E00\u4E2A\u6708\u5B89\u88C5\u91CF\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u5B89\u88C5\u91CF"}}})},"install"),(0,e.jsx)(c.Z.TabPane,{tab:"\u6D3B\u8DC3\u5B9E\u4F8B",style:{position:"relative"},children:(0,e.jsx)(V.Z,{echarts:ft,option:Nt,style:{height:300}})},"instance"),(0,e.jsx)(c.Z.TabPane,{tab:"\u542F\u52A8\u6B21\u6570",style:{position:"relative"},children:(0,e.jsx)(_.Z,{loading:$.loading||!$.data,height:300,data:$.data||[],xField:"x",yField:"y",xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},slider:{start:.6666,end:1},title:{visible:!0,text:"\u542F\u52A8\u6B21\u6570\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u542F\u52A8\u6B21\u6570"}}})},"count"),(0,e.jsx)(c.Z.TabPane,{tab:"\u6D3B\u8DC3\u8BBE\u5907",style:{position:"relative"},children:(0,e.jsx)(V.Z,{echarts:ft,option:zt,style:{height:300}})},"device")]})},"stat")]})]}),(0,e.jsx)(U.ZP,{renderEmpty:function(){return(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsx)(p.Z,{image:p.Z.PRESENTED_IMAGE_SIMPLE,description:(0,e.jsxs)("span",{children:["\u6682\u65F6\u6CA1\u6709\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,e.jsx)("a",{href:"#API",children:"\u521B\u5EFA\u4E00\u4E2A"})]})})})},children:(0,e.jsx)(N.ZP,{loading:Et,dataSource:a==null?void 0:a.versionList,sticky:{offsetHeader:47},headerTitle:"\u7248\u672C\u5217\u8868",rowKey:"deviceId",search:{labelWidth:120,filterType:"light"},style:{marginTop:30},scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:_t})})]})},Ot=bt},65476:function(pt,O,t){"use strict";var h=t(96132),B=t(43358),U=t(90290),u=t(20228),p=t(11382),g=t(37730),c=t(33565),M=t(81211),d=t(67294),F=t(23279),j=t.n(F),C=t(85893),K=function(x){var S=x.fetchOptions,s=x.debounceTimeout,l=s===void 0?500:s,Z=x.showAll,f=x.setMyFetching,n=x.setMyOption,R=(0,M.Z)(x,["fetchOptions","debounceTimeout","showAll","setMyFetching","setMyOption"]),xt=d.useState(!1),Y=(0,c.Z)(xt,2),W=Y[0],tt=Y[1],Q=d.useState(!1),r=(0,c.Z)(Q,2),et=r[0],N=r[1],at=d.useState(Z?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}]:[]),i=(0,c.Z)(at,2),P=i[0],y=i[1];d.useEffect(function(){W||y(n)},[n]),d.useEffect(function(){W||y(n)},[f]);var E=d.useRef(0),_=d.useMemo(function(){var V=function(nt){E.current+=1;var st=E.current;y([]),N(!0),S(nt).then(function(G){st===E.current&&(G.data.forEach(function(A){A.label=A.text,delete A.text,A.value=A.id,delete A.id}),y(Z?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}].concat((0,g.Z)(G.data)):G.data),N(!1))})};return j()(V,l)},[S,l]);return(0,C.jsx)(U.Z,(0,h.Z)((0,h.Z)({filterOption:!1,onSearch:_},R),{},{options:et?[{value:0,label:(0,C.jsx)(p.Z,{size:"small"})}]:P,onDropdownVisibleChange:function(H){H&&!W&&(tt(!0),N(!0),_())}}))};O.Z=K},84744:function(pt,O,t){"use strict";t.d(O,{pb:function(){return c},aF:function(){return d},Nm:function(){return j},rZ:function(){return K},yC:function(){return x}});var h=t(96132),B=t(57361),U=t(9754),u=t.n(U),p=t(18811),g=t(21010);function c(s,l){return M.apply(this,arguments)}function M(){return M=(0,B.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getList",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function d(s,l){return F.apply(this,arguments)}function F(){return F=(0,B.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getAll",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),F.apply(this,arguments)}function j(s,l){return C.apply(this,arguments)}function C(){return C=(0,B.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getDetail",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),C.apply(this,arguments)}function K(s,l){return z.apply(this,arguments)}function z(){return z=(0,B.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getStatistic",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),z.apply(this,arguments)}function x(s,l){return S.apply(this,arguments)}function S(){return S=(0,B.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/search",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),S.apply(this,arguments)}}}]);
