(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8706],{46360:function(Q){Q.exports={header:"header___1YsBZ"}},53266:function(Q){Q.exports={tabs:"tabs___YEat-"}},46164:function(Q,ge,u){"use strict";u.r(ge),u.d(ge,{default:function(){return Xt}});var qt=u(3515),ze=u(85461),_t=u(13062),He=u(71230),en=u(89032),V=u(15746),tn=u(64896),Qe=u(37744),nn=u(57663),N=u(71577),G=u(96132),Ye=u(57361),an=u(20228),Je=u(11382),ue=u(33565),Xe=u(9754),ye=u.n(Xe),qe=u(65476),s=u(67294),_e=u(84744),et=u(21349),I=u(21010),le=u(73727),P=u(84787),tt=u(53266),nt=u.n(tt),at=u(46360),rt=u.n(at),ut=u(57845),oe=u(73586),rn=u(63185),Y=u(9676),un=u(22385),J=u(69713),ln=u(43358),D=u(65),xe=u(1870),M=u(56837),n=u(85893),x="MaUp",lt=function(a){var t=a.data,r=a.loading,l=a.appId,i=a.disabled,d=s.useRef({}),c=s.useState(!1),o=(0,ue.Z)(c,2),p=o[0],m=o[1],v=(0,I.QT)(function(){return(0,M.Ov)({appId:l,options:d.current})},{manual:!0}),j=function(f){var E=Object.keys(f)[0],U=f[Object.keys(f)[0]];t[E]===U?delete d.current[E]:d.current[E]=U,m(Object.keys(d.current).length>0)},R=function(){v.run(),m(!1),Object.keys(d.current).forEach(function(f){t[f]=d.current[f]}),d.current={}};return(0,n.jsxs)(P.ZP,{title:"\u66F4\u65B0&\u5728\u7EBF\u5B89\u88C5\u9009\u9879",loading:r,extra:(0,n.jsx)(N.Z,{type:"primary",size:"small",loading:v.loading,disabled:!p||i,onClick:R,_nk:"".concat(x,"21"),children:"\u4FDD\u5B58"}),_nk:"".concat(x,"11"),children:[(0,n.jsxs)("div",{style:{marginBottom:8},_nk:"".concat(x,"31"),children:[(0,n.jsx)("span",{style:{marginRight:8},_nk:"".concat(x,"41"),children:"\u901A\u8FC7\u5E94\u7528ID\u3001\u5E94\u7528\u5546\u5E97\u3001\u542F\u52A8\u5668\u7B49\u65B9\u5F0F\u5B89\u88C5\u7684\u9ED8\u8BA4\u901A\u9053"}),(0,n.jsxs)(D.Z,{size:"small",defaultValue:t==null?void 0:t.defaultChannel,dropdownMatchSelectWidth:!1,onChange:function(f){return j({defaultChannel:f})},disabled:v.loading||i,_nk:"".concat(x,"51"),children:[(0,n.jsx)(D.Z.Option,{value:-2,_nk:"".concat(x,"61"),children:"\u6700\u65B0\u7684\u8F83\u7A33\u5B9A\u7248\u672C"}),(0,n.jsx)(D.Z.Option,{value:-1,_nk:"".concat(x,"62"),children:"\u6700\u65B0Build"}),(0,n.jsx)(D.Z.Option,{value:0,_nk:"".concat(x,"63"),children:"Stable"}),(0,n.jsx)(D.Z.Option,{value:1,_nk:"".concat(x,"64"),children:"Beta"}),(0,n.jsx)(D.Z.Option,{value:2,_nk:"".concat(x,"65"),children:"Alpha"})]})]}),(0,n.jsx)("div",{style:{marginBottom:8},_nk:"".concat(x,"32"),children:(0,n.jsxs)(Y.Z,{defaultChecked:t==null?void 0:t.updateToStableVersion,disabled:v.loading||i,onChange:function(f){return j({updateToStableVersion:f.target.checked})},_nk:"".concat(x,"71"),children:["\u81EA\u52A8\u66F4\u65B0\u5230\u8F83\u7A33\u5B9A\u7684\u7248\u672C",(0,n.jsx)(J.Z,{title:"\u5373\u4F7F\u7528\u6237\u9009\u62E9\u4E86\u66F4\u4E0D\u7A33\u5B9A\u7684\u901A\u9053\uFF0C\u82E5\u7A33\u5B9A\u901A\u9053\u6709\u66F4\u65B0\u7684\u7248\u672C\u4E5F\u53EF\u4EE5\u5347\u7EA7\u3002\u63A8\u8350\u542F\u7528\u3002",_nk:"".concat(x,"81"),children:(0,n.jsx)(xe.Z,{style:{marginLeft:3},_nk:"".concat(x,"91")})})]})}),(0,n.jsx)("div",{style:{marginBottom:8},_nk:"".concat(x,"33"),children:(0,n.jsx)(Y.Z,{defaultChecked:t==null?void 0:t.rollback,disabled:v.loading||i,onChange:function(f){return j({rollback:f.target.checked})},_nk:"".concat(x,"72"),children:"\u5F53\u63A8\u9001\u7248\u672C\u4F4E\u4E8E\u5DF2\u5B89\u88C5\u7248\u672C\u65F6\u9000\u56DE"})}),(0,n.jsxs)("div",{style:{marginBottom:8},_nk:"".concat(x,"34"),children:["\u9700\u5F00\u53D1\u8BB8\u53EF\u624D\u53EF\u8BBF\u95EE\u7684\u901A\u9053\uFF1A",(0,n.jsx)(J.Z,{title:"\u9650\u5236\u4EC5\u9650\u4E8E\u5728\u7EBF\u5B89\u88C5\u3001\u66F4\u65B0\u7B49\u60C5\u51B5\uFF0C\u5E76\u4E0D\u4FDD\u8BC1\u6CA1\u6709\u5F00\u53D1\u8BB8\u53EF\u7684\u7528\u6237\u7981\u6B62\u5B89\u88C5\u9650\u5236\u901A\u9053\u7684\u7248\u672C\u3002\u4F8B\u5982\uFF1A\u65E0\u5F00\u53D1\u8BB8\u53EF\u7528\u6237\u83B7\u5F97\u4E86\u9650\u5236\u901A\u9053alpha\u7248\u672C\u7684\u5E94\u7528\u5B89\u88C5\u6587\u4EF6\uFF0C\u5176\u53EF\u4EE5\u6B63\u5E38\u5B89\u88C5\u3002\u5982\u679C\u8981\u4E25\u683C\u9650\u5236\uFF0C\u8BF7\u901A\u8FC7\u8BB8\u53EF\u9A8C\u8BC1\u63A5\u53E3\u8FDB\u884C\u6821\u9A8C\u3002",_nk:"".concat(x,"82"),children:(0,n.jsx)(xe.Z,{style:{marginLeft:3},_nk:"".concat(x,"92")})}),(0,n.jsx)(Y.Z,{defaultChecked:t==null?void 0:t.betaAccess,disabled:v.loading||i,onChange:function(f){return j({betaAccess:f.target.checked})},_nk:"".concat(x,"73"),children:"Beta"}),(0,n.jsx)(Y.Z,{defaultChecked:t==null?void 0:t.alphaAccess,disabled:v.loading||i,onChange:function(f){return j({alphaAccess:f.target.checked})},_nk:"".concat(x,"74"),children:"Alpha"})]})]})},ot=lt,on=u(77576),W=u(12028),dn=u(47673),be=u(4107),sn=u(9715),it=u(55762),dt=u(21770),st=u(49101),X=u(22270),ct=u(93130),vt=u(81205),ht=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled"],ft=["record","position","creatorButtonText","newRecordType","parentKey"];function K(){return K=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},K.apply(this,arguments)}function je(e,a){return yt(e)||gt(e,a)||mt(e,a)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,a){if(!!e){if(typeof e=="string")return Ce(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,a)}}function Ce(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}function gt(e,a){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],l=!0,i=!1,d,c;try{for(t=t.call(e);!(l=(d=t.next()).done)&&(r.push(d.value),!(a&&r.length===a));l=!0);}catch(o){i=!0,c=o}finally{try{!l&&t.return!=null&&t.return()}finally{if(i)throw c}}return r}}function yt(e){if(Array.isArray(e))return e}function Ee(e,a){if(e==null)return{};var t=xt(e,a),r,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],!(a.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function xt(e,a){if(e==null)return{};var t={},r=Object.keys(e),l,i;for(i=0;i<r.length;i++)l=r[i],!(a.indexOf(l)>=0)&&(t[l]=e[l]);return t}function Fe(e,a,t,r,l,i,d){try{var c=e[i](d),o=c.value}catch(p){t(p);return}c.done?a(o):Promise.resolve(o).then(r,l)}function bt(e){return function(){var a=this,t=arguments;return new Promise(function(r,l){var i=e.apply(a,t);function d(o){Fe(i,r,l,d,c,"next",o)}function c(o){Fe(i,r,l,d,c,"throw",o)}d(void 0)})}}function Se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,r)}return t}function ie(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Se(Object(t),!0).forEach(function(r){Pe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Pe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Be=s.createContext(void 0);function Ae(e){var a=e.children,t=e.record,r=e.position,l=e.newRecordType,i=e.parentKey,d=(0,s.useContext)(Be);return s.cloneElement(a,ie(ie({},a.props),{},{onClick:function(){var c=bt(regeneratorRuntime.mark(function p(m){var v,j,R,C;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(v=(j=a.props).onClick)===null||v===void 0?void 0:v.call(j,m);case 2:if(C=E.sent,C!==!1){E.next=5;break}return E.abrupt("return");case 5:d==null||(R=d.current)===null||R===void 0||R.addEditRecord(t,{position:r,newRecordType:l,parentKey:i});case 6:case"end":return E.stop()}},p)}));function o(p){return c.apply(this,arguments)}return o}()}))}function Ze(e){var a,t=e.onTableChange,r=e.maxLength,l=e.formItemProps,i=e.recordCreatorProps,d=e.rowKey,c=e.controlled,o=Ee(e,ht),p=(0,s.useRef)(),m=it.Z.useForm(),v=je(m,1),j=v[0];(0,s.useImperativeHandle)(o.actionRef,function(){return p.current});var R=(0,dt.Z)(function(){return e.value||[]},{value:e.value,onChange:e.onChange}),C=je(R,2),f=C[0],E=C[1],U=s.useMemo(function(){return typeof d=="function"&&d?d:function(k,F){return k[d]||F}},[d]);(0,s.useEffect)(function(){!e.controlled||f.forEach(function(k,F){j.setFieldsValue(Pe({},U(k,F),k))},{})},[f,e.controlled]);var L=i||{},fe=L.record,ne=L.position,w=L.creatorButtonText,b=L.newRecordType,z=L.parentKey,pe=Ee(L,ft),H=ne==="top",$=(0,s.useMemo)(function(){return r&&r<=(f==null?void 0:f.length)?!1:i!==!1&&s.createElement(Ae,{record:(0,X.h)(fe,f.length,f)||{},position:ne,parentKey:(0,X.h)(z,f.length,f),newRecordType:b},s.createElement(N.Z,K({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:s.createElement(st.Z,null)},pe),w||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[i,r,f.length]),ae=(0,s.useMemo)(function(){return $?H?{components:{header:{wrapper:function(F){var y,g=F.className,S=F.children;return s.createElement("thead",{className:g},S,s.createElement("tr",{style:{position:"relative"}},s.createElement("td",{colSpan:0,style:{visibility:"hidden"}},$),s.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(y=o.columns)===null||y===void 0?void 0:y.length},$)))}}}}:{tableViewRender:function(F,y){var g,S;return s.createElement(s.Fragment,null,(g=(S=e.tableViewRender)===null||S===void 0?void 0:S.call(e,F,y))!==null&&g!==void 0?g:y,$)}}:{}},[H,$]),re=ie({form:j},e.editable);return((e==null?void 0:e.onValuesChange)||((a=e.editable)===null||a===void 0?void 0:a.onValuesChange)||e.controlled&&(e==null?void 0:e.onChange))&&(re.onValuesChange=function(k,F){var y,g,S;if((y=e.editable)===null||y===void 0||(g=y.onValuesChange)===null||g===void 0||g.call(y,k,F),(S=e.onValuesChange)===null||S===void 0||S.call(e,F,k),e.controlled){var O;e==null||(O=e.onChange)===null||O===void 0||O.call(e,F)}}),s.createElement(Be.Provider,{value:p},s.createElement(vt.Z,K({search:!1,options:!1,pagination:!1,rowKey:d},o,ae,{tableLayout:"fixed",actionRef:p,onChange:t,dataSource:f,editable:re,onDataSourceChange:E})))}function Oe(e){var a=e.name,t=e.formItemProps;return a?s.createElement(ct.gN,K({shouldUpdate:!0,name:e.name},t,{isList:!0}),function(r){return s.createElement(Ze,K({},e,{value:r.value,onChange:r.onChange}))}):s.createElement(Ze,e)}Oe.RecordCreator=Ae;var jt=Oe,q="9Atx",Ct=function(){var a=[{id:0,title:"\u9ED8\u8BA4",type:"0",day:1,up:1},{id:1,title:"Stable",type:"0",day:1,up:1},{id:2,title:"Beta",type:"0",day:1,up:1},{id:3,title:"Alpha",type:"0",day:1,up:1}],t=[{title:"\u7070\u5EA6\u66F4\u65B0\u60C5\u666F",dataIndex:"title",editable:!1},{title:"\u66F4\u65B0\u6A21\u5F0F",dataIndex:"type",valueType:"select",formItemProps:{},valueEnum:{0:{text:"\u7ACB\u5373\u6A21\u5F0F"},1:{text:"\u7EBF\u6027\u6A21\u5F0F"},2:{text:"\u4E8C\u6B21\u51FD\u6570"},3:{text:"\u4E09\u6B21\u51FD\u6570"},4:{text:"\u6807\u51C6\u8D1D\u585E\u5C14\u66F2\u7EBF"}}},{title:"\u6301\u7EED\u5929\u6570",dataIndex:"day",renderFormItem:function(i){return(0,n.jsx)(be.Z,{type:"number",min:0,max:255,addonAfter:"\u5929",_nk:"".concat(q,"11")})}},{title:"\u7070\u5EA6\u4E0A\u9650",dataIndex:"up",renderFormItem:function(i){return(0,n.jsx)(be.Z,{type:"number",min:1,max:100,addonAfter:"%",_nk:"".concat(q,"12")})}}],r=[0,1,2,3];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(jt,{columns:t,rowKey:"id",value:a,toolBarRender:function(){return[(0,n.jsx)(N.Z,{type:"primary",onClick:function(){console.log(a)},_nk:"".concat(q,"31"),children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:r,onValuesChange:function(i,d){}},_nk:"".concat(q,"21")})})},_=Ct,B="r65S",Et=function(){return(0,n.jsxs)(P.ZP,{split:"horizontal",title:"\u7070\u5EA6\u66F4\u65B0",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"Pro",_nk:"".concat(B,"21")}),collapsed:!0,_nk:"".concat(B,"11"),children:[(0,n.jsx)(P.ZP,{bodyStyle:{padding:0},_nk:"".concat(B,"12"),children:(0,n.jsx)(_,{_nk:"".concat(B,"31")})}),(0,n.jsxs)(P.ZP,{type:"inner",title:"Stable",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49",_nk:"".concat(B,"22")}),collapsed:!0,_nk:"".concat(B,"13"),children:[" ",(0,n.jsx)(_,{_nk:"".concat(B,"32")})]}),(0,n.jsxs)(P.ZP,{type:"inner",title:"Beta",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49",_nk:"".concat(B,"23")}),collapsed:!0,_nk:"".concat(B,"14"),children:[" ",(0,n.jsx)(_,{_nk:"".concat(B,"33")})]}),(0,n.jsxs)(P.ZP,{type:"inner",title:"Alpha",extra:(0,n.jsx)(W.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49",_nk:"".concat(B,"24")}),collapsed:!0,_nk:"".concat(B,"15"),children:[" ",(0,n.jsx)(_,{_nk:"".concat(B,"34")})]})]})},Ft=Et,ke=u(16894),Ie=u(28030),St="3Jpl",Pt=function(a){var t=a.children,r=a.disabled;return(0,n.jsx)("div",{style:(0,G.Z)((0,G.Z)({},r?{opacity:"0.6",pointerEvents:"none",userSelect:"none"}:{}),{},{transition:"opacity 0.3s"}),_nk:"".concat(St,"11"),children:t})},Bt=Pt,cn=u(34792),Te=u(48086),Re="aW1S",At=function(a){var t=a.appId,r=a.enabled,l=a.loading,i=a.onChanged,d=(0,I.QT)(M.wp,{manual:!0,onError:function(o){var p,m=o&&((p=o.data)===null||p===void 0?void 0:p.errorMessage);m?Te.default.error("\u64CD\u4F5C\u5931\u8D25\uFF01"+m):Te.default.error("\u64CD\u4F5C\u5931\u8D25\uFF01")}});return(0,n.jsx)(P.ZP,{title:"\u542F\u7528\u7248\u672C\u7BA1\u7406\u5668",style:{marginBottom:24},extra:(0,n.jsx)(W.Z,{loading:l||d.loading,checked:r,onChange:function(o){return d.run({appId:t,enable:o}).then(function(){return i&&i(o)})},_nk:"".concat(Re,"21")}),collapsed:!0,_nk:"".concat(Re,"11")})},Zt=At,de=u(13718),vn=u(88983),se=u(47933),hn=u(74379),De=u(38648),ee=u(15196),Le=u(45514),$e=u(66758),Ot=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],kt=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function te(){return te=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},te.apply(this,arguments)}function Me(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,r)}return t}function ce(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Me(Object(t),!0).forEach(function(r){It(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function It(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ue(e,a){if(e==null)return{};var t=Tt(e,a),r,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],!(a.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function Tt(e,a){if(e==null)return{};var t={},r=Object.keys(e),l,i;for(i=0;i<r.length;i++)l=r[i],!(a.indexOf(l)>=0)&&(t[l]=e[l]);return t}var Rt=s.forwardRef(function(e,a){var t=e.fieldProps,r=e.children,l=e.params,i=e.proFieldProps,d=e.mode,c=e.valueEnum,o=e.request,p=e.showSearch,m=e.options,v=Ue(e,Ot),j=(0,s.useContext)($e.Z);return s.createElement(Le.Z,te({mode:"edit",valueEnum:(0,X.h)(c),request:o,params:l,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:ce({options:m,mode:d,showSearch:p,getPopupContainer:j.getPopupContainer},t),ref:a,proFieldProps:i},v),r)}),Dt=s.forwardRef(function(e,a){var t=e.fieldProps,r=e.children,l=e.params,i=e.proFieldProps,d=e.mode,c=e.valueEnum,o=e.request,p=e.options,m=Ue(e,kt),v=ce({options:p,mode:d||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},t),j=(0,s.useContext)($e.Z);return s.createElement(Le.Z,te({mode:"edit",valueEnum:(0,X.h)(c),request:o,params:l,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:ce({getPopupContainer:j.getPopupContainer},v),ref:a,proFieldProps:i},m),r)}),Lt=Rt,$t=Dt,ve=Lt;ve.SearchSelect=$t,ve.displayName="ProFormComponent";var Ve=ve,A="+HyO",Mt=function(a){var t,r,l=a.appId,i=(0,I.QT)(M.m7),d=(0,I.QT)(function(o){return(0,M.E4)({search:o,appId:l,all:!0})},{debounceInterval:500,manual:!0});s.useEffect(function(){c.current.resetFields(),d.run()},[l]);var c=s.useRef();return(0,n.jsx)(P.ZP,{title:"\u66F4\u65B0\u6A21\u62DF\u5668",style:{marginBottom:24},defaultCollapsed:!0,collapsible:!0,_nk:"".concat(A,"11"),children:(0,n.jsx)(ee.ZP,{formRef:c,onFinish:function(p){return i.run((0,G.Z)({appId:l},p)).then(function(m){m.build===0?De.default.info({message:"\u6A21\u62DF\u7ED3\u679C",description:"\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C"}):De.default.success({message:"\u6A21\u62DF\u7ED3\u679C",description:(0,n.jsxs)(n.Fragment,{children:["\u5C06\u4F1A\u66F4\u65B0\u7684\u7248\u672C\u662F\uFF1A",m.name," (",m.build,")",(0,n.jsx)("br",{_nk:"".concat(A,"31")}),"\u7248\u672C\u901A\u9053\uFF1A",["Stable","Beta","Alpha"][m.channel]]})})})},submitter:{searchConfig:{submitText:"\u6A21\u62DF"}},_nk:"".concat(A,"21"),children:(0,n.jsxs)(ee.ZP.Group,{_nk:"".concat(A,"41"),children:[(0,n.jsx)(ee.ZP.Item,{name:"build",width:"sm",label:"\u5F53\u524D\u7248\u672C",rules:[{required:!0}],_nk:"".concat(A,"42"),children:(0,n.jsx)(D.Z,{showSearch:!0,placeholder:"\u9009\u62E9\u4E00\u4E2A\u7248\u672C",filterOption:function(p,m){var v;return((v=m.title)===null||v===void 0?void 0:v.toLowerCase().indexOf(p.toLowerCase()))>=0},style:{width:200},dropdownMatchSelectWidth:!1,onSearch:function(p){if(p){d.run(p);var m=Number(p);Number.isInteger(m)?c.current.setFieldsValue({build:m}):c.current.setFieldsValue({build:void 0})}},_nk:"".concat(A,"51"),children:(t=d.data)===null||t===void 0||(r=t.list)===null||r===void 0?void 0:r.map(function(o){return(0,n.jsx)(D.Z.Option,{value:o.build,title:o.versionName+" ("+o.build+")",_nk:"".concat(A,"43"),children:o.versionName+" ("+o.build+")"},o.build)})})}),(0,n.jsx)(Ve,{name:"channel",width:"sm",label:"\u5F53\u524D\u7248\u672C\u901A\u9053",options:[{label:"Stable",value:0},{label:"Beta",value:1},{label:"Alpha",value:2}],rules:[{required:!0}],_nk:"".concat(A,"61")}),(0,n.jsx)(Ve,{name:"selectedChannel",width:"sm",label:"\u9009\u62E9\u7684\u7248\u672C\u901A\u9053",options:[{label:"Stable",value:0},{label:"Beta",value:1},{label:"Alpha",value:2}],rules:[{required:!0}],_nk:"".concat(A,"62")}),(0,n.jsx)(ee.ZP.Item,{name:"dev",label:"\u662F\u5426\u6709\u5F00\u53D1\u8BB8\u53EF",initialValue:0,rules:[{required:!0}],_nk:"".concat(A,"44"),children:(0,n.jsxs)(se.ZP.Group,{_nk:"".concat(A,"45"),children:[(0,n.jsx)(se.ZP.Button,{value:0,_nk:"".concat(A,"46"),children:"\u65E0"}),(0,n.jsx)(se.ZP.Button,{value:1,_nk:"".concat(A,"47"),children:"\u6709"})]})})]})})})},Ut=Mt,fn=u(84305),Vt=u(26072),pn=u(13254),Ke=u(14277),Kt=u(37730),mn=u(20136),Nt=u(55241),gn=u(71153),Ne=u(60331),Ge=u(68628),T="lLuS",Gt=function(a){var t=a.data,r=(0,n.jsx)(Nt.Z,{content:[(t==null?void 0:t.rollback)&&(0,n.jsx)(Ne.Z,{color:"orange",_nk:"".concat(T,"21"),children:"\u64A4\u56DE\u6A21\u5F0F"},"rollback"),(t==null?void 0:t.force)&&(0,n.jsx)(Ne.Z,{color:"orange",_nk:"".concat(T,"22"),children:"\u5F3A\u5236\u6A21\u5F0F"},"force")],title:"\u5F53\u524D\u901A\u9053\u542F\u7528\u7684\u7279\u6B8A\u9009\u9879",_nk:"".concat(T,"11"),children:(0,n.jsx)(Ge.Z,{style:{color:"#faad14",marginLeft:8},_nk:"".concat(T,"31")})}),l=(0,n.jsx)(J.Z,{title:(0,n.jsxs)("b",{_nk:"".concat(T,"51"),children:["\u63A8\u9001\u5931\u8D25\uFF1A",t==null?void 0:t.error]}),color:"#cf1322",_nk:"".concat(T,"41"),children:(0,n.jsx)(Ge.Z,{style:{color:"#cf1322",marginLeft:8},_nk:"".concat(T,"32")})});return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},_nk:"".concat(T,"61"),children:[(0,n.jsxs)("div",{_nk:"".concat(T,"62"),children:["\u6700\u65B0\u7248\u672C: ",t!=null&&t.latest?t.latestName+" ("+t.latest+")":"-"," ",t.latestStatus===Ie.Ax.UNPUBLISHED?"(\u672A\u53D1\u5E03)":"",(0,n.jsx)("br",{_nk:"".concat(T,"71")}),"\u5F53\u524D\u63A8\u9001: ",t!=null&&t.push?t.pushName+" ("+t.push+")":"-"]}),((t==null?void 0:t.rollback)||(t==null?void 0:t.force))&&r,(t==null?void 0:t.error)&&l]})},he=Gt,Wt=u(74865),We=u.n(Wt),wt=u(2568),we=u.n(wt),Z="uBtd",zt=function(){var a=!1,t=s.useRef(),r=s.useRef(!0),l=s.useRef(),i=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(c,o){return(0,n.jsx)(J.Z,{title:o.appId,_nk:"".concat(Z,"11"),children:(0,n.jsx)(le.rU,{to:"/app/update/"+o.id,_nk:"".concat(Z,"21"),children:we()(c).substring(0,8)})})},hideInSearch:!0}].concat((0,Kt.Z)(a?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(c,o){return(0,n.jsx)(n.Fragment,{children:we()(c).substring(0,8)})}}]:[]),[{title:"\u72B6\u6001",dataIndex:"enabled",key:"enabled",valueType:"select",valueEnum:{true:{text:"\u5DF2\u542F\u7528",status:"Success"},false:{text:"\u672A\u542F\u7528",status:"default"}},hideInSearch:!0},{title:"Stable",dataIndex:"stable",key:"stable",hideInSearch:!0,render:function(c,o){return(0,n.jsx)(he,{data:o==null?void 0:o.stable,_nk:"".concat(Z,"31")})}},{title:"Beta",dataIndex:"beta",key:"beta",hideInSearch:!0,render:function(c,o){return(0,n.jsx)(he,{data:o==null?void 0:o.beta,_nk:"".concat(Z,"32")})}},{title:"Alpha",dataIndex:"alpha",key:"alpha",hideInSearch:!0,render:function(c,o){return(0,n.jsx)(he,{data:o==null?void 0:o.alpha,_nk:"".concat(Z,"33")})}}]);return(0,I.Gs)(function(){I.m8.action==="PUSH"&&l.current.reload()}),(0,n.jsx)(Vt.ZP,{renderEmpty:function(){return(0,n.jsx)("div",{style:{textAlign:"center"},_nk:"".concat(Z,"51"),children:r.current?(0,n.jsx)("span",{_nk:"".concat(Z,"61"),children:"\u6B63\u5728\u52A0\u8F7D..."}):(0,n.jsx)(Ke.Z,{image:Ke.Z.PRESENTED_IMAGE_SIMPLE,description:(0,n.jsxs)("span",{_nk:"".concat(Z,"62"),children:["\u6682\u65F6\u6CA1\u6709\u5E94\u7528\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,n.jsx)(le.rU,{to:"/app/add",_nk:"".concat(Z,"22"),children:"\u521B\u5EFA\u4E00\u4E2A"})]}),_nk:"".concat(Z,"71")})})},_nk:"".concat(Z,"41"),children:(0,n.jsx)(ke.ZP,{sticky:{offsetHeader:de.M},headerTitle:"\u7248\u672C\u7BA1\u7406\u5668",loading:!1,actionRef:l,rowKey:"id",search:{filterType:"light",labelWidth:120},onLoad:function(){r.current=!1,We().done()},onLoadingChange:function(c){r.current=!0,We().start()},toolbar:{search:{onSearch:function(c){t.current=c,l.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},scroll:{x:600},request:function(c){return c.search=t.current,(0,M.gp)(c)},options:{fullScreen:!0,reload:!0,setting:!0},columns:i,_nk:"".concat(Z,"81")})})},Ht=zt,h="rdrI";function Qt(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e.indexOf("/"),r=0;r<a&&t!==-1;r++)t=e.indexOf("/",t+1);return t!==-1?e.substr(0,t):e}function Yt(e){if(e==null||e=="")return"0 Bytes";var a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=0,r=parseFloat(e);t=Math.floor(Math.log(r)/Math.log(1024));var l=r/Math.pow(1024,t);return l=l.toFixed(2),l+a[t]}var Jt=function(a){var t,r,l,i,d,c,o,p,m,v=a.match.params.appId||"",j=s.useState("stable"),R=(0,ue.Z)(j,2),C=R[0],f=R[1],E=s.useState(v===""?[]:[{value:v,label:(0,n.jsx)(Je.Z,{size:"small",_nk:"".concat(h,"11")}),disabled:!0}]),U=(0,ue.Z)(E,2),L=U[0],fe=U[1];function ne(y){return w.apply(this,arguments)}function w(){return w=(0,Ye.Z)(ye().mark(function y(g){return ye().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,_e.yC)({search:g,all:!0}));case 1:case"end":return O.stop()}},y)})),w.apply(this,arguments)}var b=(0,I.QT)(function(){return(0,M.lR)({appId:v})},{manual:v===""}),z=(0,I.QT)(function(){return(0,M.FW)({appId:v})},{manual:v===""}),pe=function(g){g&&b.run(),z.run()};(0,ut.e)(function(){pe(!0)},[v]),(0,s.useEffect)(function(){var y,g;fe([{value:(y=b.data)===null||y===void 0?void 0:y.id,label:(g=b.data)===null||g===void 0?void 0:g.title}])},[b.data]);var H=s.useRef(),$=s.useRef(),ae=s.useRef(),re=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(qe.Z,(0,G.Z)((0,G.Z)({showSearch:!0},v===""?{}:{value:v}),{},{placeholder:"\u9009\u62E9\u5E94\u7528",fetchOptions:ne,setMyOption:L,style:{minWidth:"200px",maxWidth:"350px"},onChange:function(g){I.m8.push(Qt(I.m8.location.pathname)+"/"+g)},_nk:"".concat(h,"21")}))}),k=[{title:"Build",dataIndex:"build",key:"build",ellipsis:!0},{title:"\u7248\u672C\u53F7",dataIndex:"versionName",key:"versionName",copyable:!0},{title:"\u9ED8\u8BA4\u901A\u9053",dataIndex:"channel",key:"channel",hideInSearch:!0,valueType:"select",filters:!0,onFilter:!0,valueEnum:{0:{text:"Stable"},1:{text:"Beta"},2:{text:"Alpha"}}},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"createTime",key:"createTime",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"},8:{text:"\u672A\u53D1\u5E03",status:"Warning"}}},{title:"\u6587\u4EF6\u5927\u5C0F",dataIndex:"size",key:"size",hideInSearch:!0,render:function(g){return(0,n.jsx)("span",{_nk:"".concat(h,"31"),children:Yt(g)})}},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0}],F=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ke.ZP,{params:{channel:{stable:0,beta:1,alpha:2}[C],appId:v},request:Ie.gp,sticky:{offsetHeader:de.M},rowKey:"deviceId",search:{labelWidth:120,filterType:"light"},scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:k,_nk:"".concat(h,"41")})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Qe.Z,{className:rt().header,title:re,subTitle:"\u7248\u672C\u7BA1\u7406",extra:v&&(0,n.jsx)(N.Z.Group,{_nk:"".concat(h,"61"),children:(0,n.jsx)(le.rU,{to:"/app/detail/"+v,_nk:"".concat(h,"71"),children:(0,n.jsx)(N.Z,{_nk:"".concat(h,"81"),children:"\u5E94\u7528\u8BE6\u60C5"})})}),style:{padding:0,marginBottom:20},_nk:"".concat(h,"51")}),v?(0,n.jsxs)(et.Z,{_nk:"".concat(h,"a1"),children:[(0,n.jsx)(Zt,{appId:v,enabled:(t=b.data)===null||t===void 0?void 0:t.enabled,loading:b.loading,onChanged:function(g){b.run().then(function(){if(g){var S,O,me;(S=$.current)===null||S===void 0||S.doPush(),(O=H.current)===null||O===void 0||O.doPush(),(me=ae.current)===null||me===void 0||me.doPush()}})},_nk:"".concat(h,"b1")}),(0,n.jsxs)(Bt,{disabled:!((r=b.data)!==null&&r!==void 0&&r.enabled),_nk:"".concat(h,"c1"),children:[(0,n.jsxs)(He.Z,{gutter:[24,24],_nk:"".concat(h,"d1"),children:[(0,n.jsx)(V.Z,{lg:8,md:8,sm:24,xs:24,_nk:"".concat(h,"e1"),children:(0,n.jsx)(oe.Z,{appId:v,channel:0,title:"Stable",defaultData:(l=b.data)===null||l===void 0?void 0:l.stable,loading:b.loading,disabled:!((i=b.data)!==null&&i!==void 0&&i.enabled),actionRef:$,_nk:"".concat(h,"f1")})}),(0,n.jsx)(V.Z,{lg:8,md:8,sm:24,xs:24,_nk:"".concat(h,"e2"),children:(0,n.jsx)(oe.Z,{appId:v,channel:1,title:"Beta",defaultData:(d=b.data)===null||d===void 0?void 0:d.beta,loading:b.loading,disabled:!((c=b.data)!==null&&c!==void 0&&c.enabled),actionRef:H,_nk:"".concat(h,"f2")})}),(0,n.jsx)(V.Z,{lg:8,md:8,sm:24,xs:24,_nk:"".concat(h,"e3"),children:(0,n.jsx)(oe.Z,{appId:v,channel:2,title:"Alpha",defaultData:(o=b.data)===null||o===void 0?void 0:o.alpha,loading:b.loading,disabled:!((p=b.data)!==null&&p!==void 0&&p.enabled),actionRef:ae,_nk:"".concat(h,"f3")})}),(0,n.jsx)(V.Z,{span:24,_nk:"".concat(h,"e4"),children:(0,n.jsx)(ot,{appId:v,data:z.data,loading:z.loading,disabled:!((m=b.data)!==null&&m!==void 0&&m.enabled),_nk:"".concat(h,"g1")})}),(0,n.jsx)(V.Z,{span:24,_nk:"".concat(h,"e5"),children:(0,n.jsx)(Ft,{_nk:"".concat(h,"h1")})}),(0,n.jsx)(V.Z,{span:24,_nk:"".concat(h,"e6"),children:(0,n.jsx)(Ut,{appId:v,_nk:"".concat(h,"i1")})})]}),(0,n.jsx)(ze.Z,{offsetTop:de.M,style:{overflow:"hidden"},_nk:"".concat(h,"j1"),children:(0,n.jsxs)(P.ZP,{className:nt().tabs,title:"\u7248\u672C\u7BA1\u7406",tabs:{tabPosition:"top",size:"middle",activeKey:C,onChange:function(g){f(g)}},style:{boxShadow:"0 0 5px #00000044"},_nk:"".concat(h,"k1"),children:[(0,n.jsx)(P.ZP.TabPane,{tab:"Stable",cardProps:{bodyStyle:{padding:0}},_nk:"".concat(h,"62")},"stable"),(0,n.jsx)(P.ZP.TabPane,{tab:"Beta",cardProps:{bodyStyle:{padding:0}},_nk:"".concat(h,"63")},"beta"),(0,n.jsx)(P.ZP.TabPane,{tab:"Alpha",cardProps:{bodyStyle:{padding:0}},_nk:"".concat(h,"64")},"alpha")]})}),(0,n.jsx)(P.ZP,{bodyStyle:{padding:0},_nk:"".concat(h,"k2"),children:F})]})]}):(0,n.jsx)(Ht,{_nk:"".concat(h,"91")})]})},Xt=Jt}}]);
