(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[706],{62298:function(_,X,l){"use strict";l.d(X,{Z:function(){return Q}});var K=l(28991),V=l(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},H=O,re=l(27029),L=function(te,W){return V.createElement(re.Z,(0,K.Z)((0,K.Z)({},te),{},{ref:W,icon:H}))};L.displayName="CloudUploadOutlined";var Q=V.forwardRef(L)},25240:function(_,X,l){"use strict";l.d(X,{Z:function(){return Q}});var K=l(28991),V=l(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M926 164H94c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V196c0-17.7-14.3-32-32-32zm-40 632H134V236h752v560zm-658.9-82.3c3.1 3.1 8.2 3.1 11.3 0l172.5-172.5 114.4 114.5c3.1 3.1 8.2 3.1 11.3 0l297-297.2c3.1-3.1 3.1-8.2 0-11.3l-36.8-36.8a8.03 8.03 0 00-11.3 0L531 565 416.6 450.5a8.03 8.03 0 00-11.3 0l-214.9 215a8.03 8.03 0 000 11.3l36.7 36.9z"}}]},name:"fund",theme:"outlined"},H=O,re=l(27029),L=function(te,W){return V.createElement(re.Z,(0,K.Z)((0,K.Z)({},te),{},{ref:W,icon:H}))};L.displayName="FundOutlined";var Q=V.forwardRef(L)},46360:function(_){_.exports={header:"header___1YsBZ"}},53266:function(_){_.exports={tabs:"tabs___YEat-"}},46164:function(_,X,l){"use strict";l.r(X),l.d(X,{default:function(){return Yt}});var K=l(3515),V=l(86288),O=l(13062),H=l(71230),re=l(89032),L=l(15746),Q=l(64896),ee=l(37744),te=l(57663),W=l(71577),ae=l(96132),ie=l(57361),Ie=l(20228),se=l(11382),z=l(33565),Re=l(9754),xe=l.n(Re),be=l(65476),v=l(67294),ze=l(84744),Ce=l(21349),M=l(21010),je=l(73727),B=l(84787),Ge=l(53266),s=l.n(Ge),p=l(46360),x=l.n(p),j=l(57845),P=l(73586),I=l(63185),C=l(9676),Y=l(22385),$=l(69713),R=l(43358),F=l(90290),de=l(1870),U=l(56837),n=l(85893),ce=function(r){var t=r.data,a=r.loading,o=r.appId,u=r.disabled,i=v.useRef({}),d=v.useState(!1),c=(0,z.Z)(d,2),m=c[0],y=c[1],f=(0,M.QT)(function(){return(0,U.Ov)({appId:o,options:i.current})},{manual:!0}),S=function(h){var A=Object.keys(h)[0],ne=h[Object.keys(h)[0]];t[A]===ne?delete i.current[A]:i.current[A]=ne,y(Object.keys(i.current).length>0)},G=function(){f.run(),y(!1),Object.keys(i.current).forEach(function(h){t[h]=i.current[h]}),i.current={}};return(0,n.jsxs)(B.ZP,{title:"\u66F4\u65B0&\u5728\u7EBF\u5B89\u88C5\u9009\u9879",loading:a,extra:(0,n.jsx)(W.Z,{type:"primary",size:"small",loading:f.loading,disabled:!m||u,onClick:G,children:"\u4FDD\u5B58"}),children:[(0,n.jsxs)("div",{style:{marginBottom:8},children:[(0,n.jsx)("span",{style:{marginRight:8},children:"\u901A\u8FC7\u5E94\u7528ID\u3001\u5E94\u7528\u5546\u5E97\u3001\u542F\u52A8\u5668\u7B49\u65B9\u5F0F\u5B89\u88C5\u7684\u9ED8\u8BA4\u901A\u9053"}),(0,n.jsxs)(F.Z,{size:"small",defaultValue:t==null?void 0:t.defaultChannel,dropdownMatchSelectWidth:!1,onChange:function(h){return S({defaultChannel:h})},disabled:f.loading||u,children:[(0,n.jsx)(F.Z.Option,{value:-2,children:"\u6700\u65B0\u7684\u8F83\u7A33\u5B9A\u7248\u672C"}),(0,n.jsx)(F.Z.Option,{value:-1,children:"\u6700\u65B0Build"}),(0,n.jsx)(F.Z.Option,{value:0,children:"Stable"}),(0,n.jsx)(F.Z.Option,{value:1,children:"Beta"}),(0,n.jsx)(F.Z.Option,{value:2,children:"Alpha"})]})]}),(0,n.jsx)("div",{style:{marginBottom:8},children:(0,n.jsxs)(C.Z,{defaultChecked:t==null?void 0:t.updateToStableVersion,disabled:f.loading||u,onChange:function(h){return S({updateToStableVersion:h.target.checked})},children:["\u81EA\u52A8\u66F4\u65B0\u5230\u8F83\u7A33\u5B9A\u7684\u7248\u672C",(0,n.jsx)($.Z,{title:"\u5373\u4F7F\u7528\u6237\u9009\u62E9\u4E86\u66F4\u4E0D\u7A33\u5B9A\u7684\u901A\u9053\uFF0C\u82E5\u7A33\u5B9A\u901A\u9053\u6709\u66F4\u65B0\u7684\u7248\u672C\u4E5F\u53EF\u4EE5\u5347\u7EA7\u3002\u63A8\u8350\u542F\u7528\u3002",children:(0,n.jsx)(de.Z,{style:{marginLeft:3}})})]})}),(0,n.jsx)("div",{style:{marginBottom:8},children:(0,n.jsx)(C.Z,{defaultChecked:t==null?void 0:t.rollback,disabled:f.loading||u,onChange:function(h){return S({rollback:h.target.checked})},children:"\u5F53\u63A8\u9001\u7248\u672C\u4F4E\u4E8E\u5DF2\u5B89\u88C5\u7248\u672C\u65F6\u9000\u56DE"})}),(0,n.jsxs)("div",{style:{marginBottom:8},children:["\u9700\u5F00\u53D1\u8BB8\u53EF\u624D\u53EF\u8BBF\u95EE\u7684\u901A\u9053\uFF1A",(0,n.jsx)(C.Z,{defaultChecked:t==null?void 0:t.betaAccess,disabled:f.loading||u,onChange:function(h){return S({betaAccess:h.target.checked})},children:"Beta"}),(0,n.jsx)(C.Z,{defaultChecked:t==null?void 0:t.alphaAccess,disabled:f.loading||u,onChange:function(h){return S({alphaAccess:h.target.checked})},children:"Alpha"})]})]})},le=ce,He=l(77576),J=l(12028),ve=l(47673),fe=l(4107),Te=l(9715),Ee=l(35402),Pe=l(21770),he=l(49101),oe=l(22270),De=l(93130),pe=l(78494),ft=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled"],ht=["record","position","creatorButtonText","newRecordType","parentKey"];function ue(){return ue=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ue.apply(this,arguments)}function Qe(e,r){return gt(e)||yt(e,r)||mt(e,r)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,r){if(!!e){if(typeof e=="string")return Ye(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ye(e,r)}}function Ye(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function yt(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],o=!0,u=!1,i,d;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));o=!0);}catch(c){u=!0,d=c}finally{try{!o&&t.return!=null&&t.return()}finally{if(u)throw d}}return a}}function gt(e){if(Array.isArray(e))return e}function Xe(e,r){if(e==null)return{};var t=xt(e,r),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)a=u[o],!(r.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(t[a]=e[a]))}return t}function xt(e,r){if(e==null)return{};var t={},a=Object.keys(e),o,u;for(u=0;u<a.length;u++)o=a[u],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Je(e,r,t,a,o,u,i){try{var d=e[u](i),c=d.value}catch(m){t(m);return}d.done?r(c):Promise.resolve(c).then(a,o)}function bt(e){return function(){var r=this,t=arguments;return new Promise(function(a,o){var u=e.apply(r,t);function i(c){Je(u,a,o,i,d,"next",c)}function d(c){Je(u,a,o,i,d,"throw",c)}i(void 0)})}}function ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,a)}return t}function Le(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ke(Object(t),!0).forEach(function(a){qe(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function qe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _e=v.createContext(void 0);function et(e){var r=e.children,t=e.record,a=e.position,o=e.newRecordType,u=e.parentKey,i=(0,v.useContext)(_e);return v.cloneElement(r,Le(Le({},r.props),{},{onClick:function(){var d=bt(regeneratorRuntime.mark(function m(y){var f,S,G,Z;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(f=(S=r.props).onClick)===null||f===void 0?void 0:f.call(S,y);case 2:if(Z=A.sent,Z!==!1){A.next=5;break}return A.abrupt("return");case 5:i==null||(G=i.current)===null||G===void 0||G.addEditRecord(t,{position:a,newRecordType:o,parentKey:u});case 6:case"end":return A.stop()}},m)}));function c(m){return d.apply(this,arguments)}return c}()}))}function tt(e){var r,t=e.onTableChange,a=e.maxLength,o=e.formItemProps,u=e.recordCreatorProps,i=e.rowKey,d=e.controlled,c=Xe(e,ft),m=(0,v.useRef)(),y=Ee.Z.useForm(),f=Qe(y,1),S=f[0];(0,v.useImperativeHandle)(c.actionRef,function(){return m.current});var G=(0,Pe.Z)(function(){return e.value||[]},{value:e.value,onChange:e.onChange}),Z=Qe(G,2),h=Z[0],A=Z[1],ne=v.useMemo(function(){return typeof i=="function"&&i?i:function(N,T){return N[i]||T}},[i]);(0,v.useEffect)(function(){!e.controlled||h.forEach(function(N,T){S.setFieldsValue(qe({},ne(N,T),N))},{})},[h,e.controlled]);var k=u||{},Ne=k.record,Ze=k.position,me=k.creatorButtonText,E=k.newRecordType,ye=k.parentKey,Ve=Xe(k,ht),ge=Ze==="top",q=(0,v.useMemo)(function(){return a&&a<=(h==null?void 0:h.length)?!1:u!==!1&&v.createElement(et,{record:(0,oe.h)(Ne,h.length,h)||{},position:Ze,parentKey:(0,oe.h)(ye,h.length,h),newRecordType:E},v.createElement(W.Z,ue({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:v.createElement(he.Z,null)},Ve),me||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[u,a,h.length]),Ae=(0,v.useMemo)(function(){return q?ge?{components:{header:{wrapper:function(T){var b,g=T.className,D=T.children;return v.createElement("thead",{className:g},D,v.createElement("tr",{style:{position:"relative"}},v.createElement("td",{colSpan:0,style:{visibility:"hidden"}},q),v.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(b=c.columns)===null||b===void 0?void 0:b.length},q)))}}}}:{tableViewRender:function(T,b){var g,D;return v.createElement(v.Fragment,null,(g=(D=e.tableViewRender)===null||D===void 0?void 0:D.call(e,T,b))!==null&&g!==void 0?g:b,q)}}:{}},[ge,q]),Be=Le({form:S},e.editable);return((e==null?void 0:e.onValuesChange)||((r=e.editable)===null||r===void 0?void 0:r.onValuesChange)||e.controlled&&(e==null?void 0:e.onChange))&&(Be.onValuesChange=function(N,T){var b,g,D;if((b=e.editable)===null||b===void 0||(g=b.onValuesChange)===null||g===void 0||g.call(b,N,T),(D=e.onValuesChange)===null||D===void 0||D.call(e,T,N),e.controlled){var w;e==null||(w=e.onChange)===null||w===void 0||w.call(e,T)}}),v.createElement(_e.Provider,{value:m},v.createElement(pe.Z,ue({search:!1,options:!1,pagination:!1,rowKey:i},c,Ae,{tableLayout:"fixed",actionRef:m,onChange:t,dataSource:h,editable:Be,onDataSourceChange:A})))}function nt(e){var r=e.name,t=e.formItemProps;return r?v.createElement(De.gN,ue({shouldUpdate:!0,name:e.name},t,{isList:!0}),function(a){return v.createElement(tt,ue({},e,{value:a.value,onChange:a.onChange}))}):v.createElement(tt,e)}nt.RecordCreator=et;var Ct=nt,jt=function(){var r=[{id:0,title:"\u9ED8\u8BA4",type:"0",day:1,up:1},{id:1,title:"Stable",type:"0",day:1,up:1},{id:2,title:"Beta",type:"0",day:1,up:1},{id:3,title:"Alpha",type:"0",day:1,up:1}],t=[{title:"\u7070\u5EA6\u66F4\u65B0\u60C5\u666F",dataIndex:"title",editable:!1},{title:"\u66F4\u65B0\u6A21\u5F0F",dataIndex:"type",valueType:"select",formItemProps:{allowClear:!1},valueEnum:{0:{text:"\u7ACB\u5373\u6A21\u5F0F"},1:{text:"\u7EBF\u6027\u6A21\u5F0F"},2:{text:"\u4E8C\u6B21\u51FD\u6570"},3:{text:"\u4E09\u6B21\u51FD\u6570"},4:{text:"\u6807\u51C6\u8D1D\u585E\u5C14\u66F2\u7EBF"}}},{title:"\u6301\u7EED\u5929\u6570",dataIndex:"day",renderFormItem:function(u){return(0,n.jsx)(fe.Z,{type:"number",min:0,max:255,addonAfter:"\u5929"})}},{title:"\u7070\u5EA6\u4E0A\u9650",dataIndex:"up",renderFormItem:function(u){return(0,n.jsx)(fe.Z,{type:"number",min:1,max:100,addonAfter:"%"})}}],a=[0,1,2,3];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Ct,{columns:t,rowKey:"id",value:r,toolBarRender:function(){return[(0,n.jsx)(W.Z,{type:"primary",onClick:function(){console.log(r)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:a,onValuesChange:function(u,i){}}})})},Se=jt,Et=function(){return(0,n.jsxs)(B.ZP,{split:"horizontal",title:"\u7070\u5EA6\u66F4\u65B0",extra:(0,n.jsx)(J.Z,{disabled:!0,unCheckedChildren:"Pro"}),collapsed:!0,children:[(0,n.jsx)(B.ZP,{bodyStyle:{padding:0},children:(0,n.jsx)(Se,{})}),(0,n.jsxs)(B.ZP,{type:"inner",title:"Stable",extra:(0,n.jsx)(J.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49"}),collapsed:!0,children:[" ",(0,n.jsx)(Se,{})]}),(0,n.jsxs)(B.ZP,{type:"inner",title:"Beta",extra:(0,n.jsx)(J.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49"}),collapsed:!0,children:[" ",(0,n.jsx)(Se,{})]}),(0,n.jsxs)(B.ZP,{type:"inner",title:"Alpha",extra:(0,n.jsx)(J.Z,{disabled:!0,unCheckedChildren:"\u81EA\u5B9A\u4E49"}),collapsed:!0,children:[" ",(0,n.jsx)(Se,{})]})]})},Pt=Et,rt=l(16894),St=l(28030),Ot=function(r){var t=r.children,a=r.disabled;return(0,n.jsx)("div",{style:(0,ae.Z)((0,ae.Z)({},a?{opacity:"0.6",pointerEvents:"none",userSelect:"none"}:{}),{},{transition:"opacity 0.3s"}),children:t})},Ft=Ot,Xt=l(34792),at=l(48086),Zt=function(r){var t=r.appId,a=r.enabled,o=r.loading,u=r.onChanged,i=(0,M.QT)(U.wp,{manual:!0,onError:function(c){var m,y=c&&((m=c.data)===null||m===void 0?void 0:m.errorMessage);y?at.default.error("\u64CD\u4F5C\u5931\u8D25\uFF01"+y):at.default.error("\u64CD\u4F5C\u5931\u8D25\uFF01")}});return(0,n.jsx)(B.ZP,{title:"\u542F\u7528\u7248\u672C\u7BA1\u7406\u5668",style:{marginBottom:24},extra:(0,n.jsx)(J.Z,{loading:o||i.loading,checked:a,onChange:function(c){return i.run({appId:t,enable:c}).then(function(){return u&&u(c)})}}),collapsed:!0})},At=Zt,Me=l(13718),Jt=l(88983),Ue=l(47933),kt=l(74379),lt=l(38648),Oe=l(15196),ot=l(49085),ut=l(66758),Bt=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],It=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function Fe(){return Fe=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fe.apply(this,arguments)}function it(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,a)}return t}function Ke(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?it(Object(t),!0).forEach(function(a){Rt(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):it(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Rt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r){if(e==null)return{};var t=Tt(e,r),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)a=u[o],!(r.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(t[a]=e[a]))}return t}function Tt(e,r){if(e==null)return{};var t={},a=Object.keys(e),o,u;for(u=0;u<a.length;u++)o=a[u],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Dt=v.forwardRef(function(e,r){var t=e.fieldProps,a=e.children,o=e.params,u=e.proFieldProps,i=e.mode,d=e.valueEnum,c=e.request,m=e.showSearch,y=e.options,f=st(e,Bt),S=(0,v.useContext)(ut.Z);return v.createElement(ot.Z,Fe({mode:"edit",valueEnum:(0,oe.h)(d),request:c,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Ke({options:y,mode:i,showSearch:m,getPopupContainer:S.getPopupContainer},t),ref:r,proFieldProps:u},f),a)}),Lt=v.forwardRef(function(e,r){var t=e.fieldProps,a=e.children,o=e.params,u=e.proFieldProps,i=e.mode,d=e.valueEnum,c=e.request,m=e.options,y=st(e,It),f=Ke({options:m,mode:i||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},t),S=(0,v.useContext)(ut.Z);return v.createElement(ot.Z,Fe({mode:"edit",valueEnum:(0,oe.h)(d),request:c,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Ke({getPopupContainer:S.getPopupContainer},f),ref:r,proFieldProps:u},y),a)}),Mt=Dt,Ut=Lt,$e=Mt;$e.SearchSelect=Ut,$e.displayName="ProFormComponent";var dt=$e,Kt=function(r){var t,a,o=r.appId,u=(0,M.QT)(U.m7),i=(0,M.QT)(function(c){return(0,U.E4)({search:c,appId:o,all:!0})},{debounceInterval:500,manual:!0});v.useEffect(function(){d.current.resetFields(),i.run()},[o]);var d=v.useRef();return(0,n.jsx)(B.ZP,{title:"\u66F4\u65B0\u6A21\u62DF\u5668",style:{marginBottom:24},defaultCollapsed:!0,collapsible:!0,children:(0,n.jsx)(Oe.ZP,{formRef:d,onFinish:function(m){return u.run((0,ae.Z)({appId:o},m)).then(function(y){y.build===0?lt.default.info({message:"\u6A21\u62DF\u7ED3\u679C",description:"\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C"}):lt.default.success({message:"\u6A21\u62DF\u7ED3\u679C",description:(0,n.jsxs)(n.Fragment,{children:["\u5C06\u4F1A\u66F4\u65B0\u7684\u7248\u672C\u662F\uFF1A",y.name," (",y.build,")",(0,n.jsx)("br",{}),"\u7248\u672C\u901A\u9053\uFF1A",["Stable","Beta","Alpha"][y.channel]]})})})},submitter:{searchConfig:{submitText:"\u6A21\u62DF"}},children:(0,n.jsxs)(Oe.ZP.Group,{children:[(0,n.jsx)(Oe.ZP.Item,{name:"build",width:"sm",label:"\u5F53\u524D\u7248\u672C",rules:[{required:!0}],children:(0,n.jsx)(F.Z,{showSearch:!0,placeholder:"\u9009\u62E9\u4E00\u4E2A\u7248\u672C",filterOption:function(m,y){var f;return((f=y.title)===null||f===void 0?void 0:f.toLowerCase().indexOf(m.toLowerCase()))>=0},style:{width:200},dropdownMatchSelectWidth:!1,onSearch:function(m){if(m){i.run(m);var y=Number(m);Number.isInteger(y)?d.current.setFieldsValue({build:y}):d.current.setFieldsValue({build:void 0})}},children:(t=i.data)===null||t===void 0||(a=t.list)===null||a===void 0?void 0:a.map(function(c){return(0,n.jsx)(F.Z.Option,{value:c.build,title:c.versionName+" ("+c.build+")",children:c.versionName+" ("+c.build+")"},c.build)})})}),(0,n.jsx)(dt,{name:"channel",width:"sm",label:"\u5F53\u524D\u7248\u672C\u901A\u9053",options:[{label:"Stable",value:0},{label:"Beta",value:1},{label:"Alpha",value:2}],rules:[{required:!0}]}),(0,n.jsx)(dt,{name:"selectedChannel",width:"sm",label:"\u9009\u62E9\u7684\u7248\u672C\u901A\u9053",options:[{label:"Stable",value:0},{label:"Beta",value:1},{label:"Alpha",value:2}],rules:[{required:!0}]}),(0,n.jsx)(Oe.ZP.Item,{name:"dev",label:"\u662F\u5426\u6709\u5F00\u53D1\u8BB8\u53EF",initialValue:0,rules:[{required:!0}],children:(0,n.jsxs)(Ue.ZP.Group,{children:[(0,n.jsx)(Ue.ZP.Button,{value:0,children:"\u65E0"}),(0,n.jsx)(Ue.ZP.Button,{value:1,children:"\u6709"})]})})]})})})},$t=Kt,wt=l(37730),qt=l(20136),Nt=l(55241),_t=l(71153),ct=l(60331),vt=l(68628),Vt=function(r){var t=r.data,a=(0,n.jsx)(Nt.Z,{content:[(t==null?void 0:t.rollback)&&(0,n.jsx)(ct.Z,{color:"orange",children:"\u64A4\u56DE\u6A21\u5F0F"}),(t==null?void 0:t.force)&&(0,n.jsx)(ct.Z,{color:"orange",children:"\u5F3A\u5236\u6A21\u5F0F"})],title:"\u5F53\u524D\u901A\u9053\u542F\u7528\u7684\u7279\u6B8A\u9009\u9879",children:(0,n.jsx)(vt.Z,{style:{color:"#faad14",marginLeft:8}})}),o=(0,n.jsx)($.Z,{title:(0,n.jsxs)("b",{children:["\u63A8\u9001\u5931\u8D25\uFF1A",t==null?void 0:t.error]}),color:"#cf1322",children:(0,n.jsx)(vt.Z,{style:{color:"#cf1322",marginLeft:8}})});return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsxs)("div",{children:["\u6700\u65B0\u7248\u672C: ",t!=null&&t.latest?t.latestName+" ("+t.latest+")":"-",(0,n.jsx)("br",{}),"\u5F53\u524D\u63A8\u9001: ",t!=null&&t.push?t.pushName+" ("+t.push+")":"-"]}),((t==null?void 0:t.rollback)||(t==null?void 0:t.force))&&a,(t==null?void 0:t.error)&&o]})},we=Vt,Wt=function(){var r=!1,t=v.useRef(),a=v.useRef(),o=[{title:"\u5E94\u7528\u540D",dataIndex:"appName",key:"appName",render:function(i,d){return(0,n.jsx)($.Z,{title:d.appId,children:(0,n.jsx)(je.rU,{to:"/app/update/"+d.id,children:i})})},hideInSearch:!0}].concat((0,wt.Z)(r?[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",copyable:!0,render:function(i,d){return(0,n.jsxs)(n.Fragment,{children:[d.nick," (",d.email,")"]})}}]:[]),[{title:"\u72B6\u6001",dataIndex:"enabled",key:"enabled",valueType:"select",valueEnum:{true:{text:"\u5DF2\u542F\u7528",status:"Success"},false:{text:"\u672A\u542F\u7528",status:"default"}},hideInSearch:!0},{title:"Stable",dataIndex:"stable",key:"stable",hideInSearch:!0,render:function(i,d){return(0,n.jsx)(we,{data:d==null?void 0:d.stable})}},{title:"Beta",dataIndex:"beta",key:"beta",hideInSearch:!0,render:function(i,d){return(0,n.jsx)(we,{data:d==null?void 0:d.beta})}},{title:"Alpha",dataIndex:"alpha",key:"alpha",hideInSearch:!0,render:function(i,d){return(0,n.jsx)(we,{data:d==null?void 0:d.alpha})}}]);return(0,n.jsx)(rt.ZP,{sticky:{offsetHeader:Me.M},headerTitle:"\u7248\u672C\u7BA1\u7406\u5668",actionRef:a,rowKey:"id",search:{filterType:"light",labelWidth:120},toolbar:{search:{onSearch:function(i){t.current=i,a.current.reload()},placeholder:"\u901A\u8FC7\u5E94\u7528\u540D\u6216id\u641C\u7D22",allowClear:!0}},scroll:{x:600},request:function(i){return i.search=t.current,(0,U.gp)(i)},options:{fullScreen:!0,reload:!0,setting:!0},columns:o})},zt=Wt;function Gt(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e.indexOf("/"),a=0;a<r&&t!==-1;a++)t=e.indexOf("/",t+1);return t!==-1?e.substr(0,t):e}function Ht(e){if(e==null||e=="")return"0 Bytes";var r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=0,a=parseFloat(e);t=Math.floor(Math.log(a)/Math.log(1024));var o=a/Math.pow(1024,t);return o=o.toFixed(2),o+r[t]}var Qt=function(r){var t,a,o,u,i,d,c,m,y,f=r.match.params.appId||"",S=v.useState("stable"),G=(0,z.Z)(S,2),Z=G[0],h=G[1],A=v.useState(f===""?[]:[{value:f,label:(0,n.jsx)(se.Z,{size:"small"}),disabled:!0}]),ne=(0,z.Z)(A,2),k=ne[0],Ne=ne[1];function Ze(b){return me.apply(this,arguments)}function me(){return me=(0,ie.Z)(xe().mark(function b(g){return xe().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,ze.yC)({search:g,all:!0}));case 1:case"end":return w.stop()}},b)})),me.apply(this,arguments)}var E=(0,M.QT)(function(){return(0,U.lR)({appId:f})},{manual:f===""}),ye=(0,M.QT)(function(){return(0,U.FW)({appId:f})},{manual:f===""}),Ve=function(g){g&&E.run(),ye.run()};(0,j.e)(function(){Ve(!0)},[f]),(0,v.useEffect)(function(){var b,g;Ne([{value:(b=E.data)===null||b===void 0?void 0:b.id,label:(g=E.data)===null||g===void 0?void 0:g.title}])},[E.data]);var ge=v.useRef(),q=v.useRef(),Ae=v.useRef(),Be=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(be.Z,(0,ae.Z)((0,ae.Z)({showSearch:!0},f===""?{}:{value:f}),{},{placeholder:"\u9009\u62E9\u5E94\u7528",fetchOptions:Ze,setMyOption:k,style:{minWidth:"200px",maxWidth:"350px"},onChange:function(g){M.m8.push(Gt(M.m8.location.pathname)+"/"+g)}}))}),N=[{title:"Build",dataIndex:"build",key:"build",ellipsis:!0},{title:"\u7248\u672C\u53F7",dataIndex:"versionName",key:"versionName",copyable:!0},{title:"\u9ED8\u8BA4\u901A\u9053",dataIndex:"channel",key:"channel",hideInSearch:!0,valueType:"select",filters:!0,onFilter:!0,valueEnum:{0:{text:"Stable"},1:{text:"Beta"},2:{text:"Alpha"}}},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"createTime",key:"createTime",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"},8:{text:"\u672A\u53D1\u5E03",status:"Warning"}}},{title:"\u6587\u4EF6\u5927\u5C0F",dataIndex:"size",key:"size",hideInSearch:!0,render:function(g){return(0,n.jsx)("span",{children:Ht(g)})}},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0}],T=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rt.ZP,{params:{channel:{stable:0,beta:1,alpha:2}[Z],appId:f},request:St.gp,sticky:{offsetHeader:Me.M},rowKey:"deviceId",search:{labelWidth:120,filterType:"light"},scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:N})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee.Z,{className:x().header,title:Be,subTitle:"\u7248\u672C\u7BA1\u7406",extra:f&&(0,n.jsx)(W.Z.Group,{children:(0,n.jsx)(je.rU,{to:"/app/detail/"+f,children:(0,n.jsx)(W.Z,{children:"\u5E94\u7528\u8BE6\u60C5"})})}),style:{padding:0,marginBottom:20}}),f?(0,n.jsxs)(Ce.Z,{children:[(0,n.jsx)(At,{appId:f,enabled:(t=E.data)===null||t===void 0?void 0:t.enabled,loading:E.loading,onChanged:function(g){E.run().then(function(){if(g){var D,w,We;(D=q.current)===null||D===void 0||D.doPush(),(w=ge.current)===null||w===void 0||w.doPush(),(We=Ae.current)===null||We===void 0||We.doPush()}})}}),(0,n.jsxs)(Ft,{disabled:!((a=E.data)!==null&&a!==void 0&&a.enabled),children:[(0,n.jsxs)(H.Z,{gutter:[24,24],children:[(0,n.jsx)(L.Z,{lg:8,md:8,sm:24,xs:24,children:(0,n.jsx)(P.Z,{appId:f,channel:0,title:"Stable",defaultData:(o=E.data)===null||o===void 0?void 0:o.stable,loading:E.loading,disabled:!((u=E.data)!==null&&u!==void 0&&u.enabled),actionRef:q})}),(0,n.jsx)(L.Z,{lg:8,md:8,sm:24,xs:24,children:(0,n.jsx)(P.Z,{appId:f,channel:1,title:"Beta",defaultData:(i=E.data)===null||i===void 0?void 0:i.beta,loading:E.loading,disabled:!((d=E.data)!==null&&d!==void 0&&d.enabled),actionRef:ge})}),(0,n.jsx)(L.Z,{lg:8,md:8,sm:24,xs:24,children:(0,n.jsx)(P.Z,{appId:f,channel:2,title:"Alpha",defaultData:(c=E.data)===null||c===void 0?void 0:c.alpha,loading:E.loading,disabled:!((m=E.data)!==null&&m!==void 0&&m.enabled),actionRef:Ae})}),(0,n.jsx)(L.Z,{span:24,children:(0,n.jsx)(le,{appId:f,data:ye.data,loading:ye.loading,disabled:!((y=E.data)!==null&&y!==void 0&&y.enabled)})}),(0,n.jsx)(L.Z,{span:24,children:(0,n.jsx)(Pt,{})}),(0,n.jsx)(L.Z,{span:24,children:(0,n.jsx)($t,{appId:f})})]}),(0,n.jsx)(V.Z,{offsetTop:Me.M,style:{overflow:"hidden"},children:(0,n.jsxs)(B.ZP,{className:s().tabs,title:"\u7248\u672C\u7BA1\u7406",tabs:{tabPosition:"top",size:"middle",activeKey:Z,onChange:function(g){h(g)}},style:{boxShadow:"0 0 5px #00000044"},children:[(0,n.jsx)(B.ZP.TabPane,{tab:"Stable",cardProps:{bodyStyle:{padding:0}}},"stable"),(0,n.jsx)(B.ZP.TabPane,{tab:"Beta",cardProps:{bodyStyle:{padding:0}}},"beta"),(0,n.jsx)(B.ZP.TabPane,{tab:"Alpha",cardProps:{bodyStyle:{padding:0}}},"alpha")]})}),(0,n.jsx)(B.ZP,{bodyStyle:{padding:0},children:T})]})]}):(0,n.jsx)(zt,{})]})},Yt=Qt},73727:function(_,X,l){"use strict";l.d(X,{rU:function(){return be}});var K=l(51615),V=l(41788),O=l(67294),H=l(97175),re=l(45697),L=l.n(re),Q=l(22122),ee=l(19756),te=l(2177),W=function(s){(0,V.Z)(p,s);function p(){for(var j,P=arguments.length,I=new Array(P),C=0;C<P;C++)I[C]=arguments[C];return j=s.call.apply(s,[this].concat(I))||this,j.history=(0,H.lX)(j.props),j}var x=p.prototype;return x.render=function(){return O.createElement(K.F0,{history:this.history,children:this.props.children})},p}(O.Component),ae=function(s){(0,V.Z)(p,s);function p(){for(var j,P=arguments.length,I=new Array(P),C=0;C<P;C++)I[C]=arguments[C];return j=s.call.apply(s,[this].concat(I))||this,j.history=(0,H.q_)(j.props),j}var x=p.prototype;return x.render=function(){return O.createElement(K.F0,{history:this.history,children:this.props.children})},p}(O.Component),ie=function(p,x){return typeof p=="function"?p(x):p},Ie=function(p,x){return typeof p=="string"?(0,H.ob)(p,null,null,x):p},se=function(p){return p},z=O.forwardRef;typeof z=="undefined"&&(z=se);function Re(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}var xe=z(function(s,p){var x=s.innerRef,j=s.navigate,P=s.onClick,I=(0,ee.Z)(s,["innerRef","navigate","onClick"]),C=I.target,Y=(0,Q.Z)({},I,{onClick:function(R){try{P&&P(R)}catch(F){throw R.preventDefault(),F}!R.defaultPrevented&&R.button===0&&(!C||C==="_self")&&!Re(R)&&(R.preventDefault(),j())}});return se!==z?Y.ref=p||x:Y.ref=x,O.createElement("a",Y)}),be=z(function(s,p){var x=s.component,j=x===void 0?xe:x,P=s.replace,I=s.to,C=s.innerRef,Y=(0,ee.Z)(s,["component","replace","to","innerRef"]);return O.createElement(K.s6.Consumer,null,function($){$||(0,te.Z)(!1);var R=$.history,F=Ie(ie(I,$.location),$.location),de=F?R.createHref(F):"",U=(0,Q.Z)({},Y,{href:de,navigate:function(){var ce=ie(I,$.location),le=P?R.replace:R.push;le(ce)}});return se!==z?U.ref=p||C:U.innerRef=C,O.createElement(j,U)})});if(!1)var v,ze;var Ce=function(p){return p},M=O.forwardRef;typeof M=="undefined"&&(M=Ce);function je(){for(var s=arguments.length,p=new Array(s),x=0;x<s;x++)p[x]=arguments[x];return p.filter(function(j){return j}).join(" ")}var B=M(function(s,p){var x=s["aria-current"],j=x===void 0?"page":x,P=s.activeClassName,I=P===void 0?"active":P,C=s.activeStyle,Y=s.className,$=s.exact,R=s.isActive,F=s.location,de=s.sensitive,U=s.strict,n=s.style,ce=s.to,le=s.innerRef,He=(0,ee.Z)(s,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return O.createElement(K.s6.Consumer,null,function(J){J||(0,te.Z)(!1);var ve=F||J.location,fe=Ie(ie(ce,ve),ve),Te=fe.pathname,Ee=Te&&Te.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Pe=Ee?(0,K.LX)(ve.pathname,{path:Ee,exact:$,sensitive:de,strict:U}):null,he=!!(R?R(Pe,ve):Pe),oe=he?je(Y,I):Y,De=he?(0,Q.Z)({},n,{},C):n,pe=(0,Q.Z)({"aria-current":he&&j||null,className:oe,style:De,to:fe},He);return Ce!==M?pe.ref=p||le:pe.innerRef=le,O.createElement(be,pe)})});if(!1)var Ge}}]);
