(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[967],{9056:function(Y){Y.exports={header:"header___3Y5Sz",headerSelect:"headerSelect___1kBQ0"}},94328:function(Y,b,t){"use strict";t.r(b),t.d(b,{default:function(){return Ft}});var h=t(96132),S=t(84305),K=t(69224),u=t(13254),p=t(14277),g=t(18106),c=t(51752),M=t(13062),d=t(71230),F=t(95300),j=t(7277),B=t(64896),U=t(37744),N=t(57663),x=t(71577),C=t(58024),s=t(39144),l=t(57361),Z=t(59250),f=t(13013),n=t(30887),R=t(99210),xt=t(20228),Q=t(11382),W=t(33565),et=t(9754),H=t.n(et),r=t(84787),at=t(48786),z=t(17744),nt=t(57254),i=t(21010),A=t(84744),y=t(96459),E=t(67294),V=t(97221),_=t(87155),J=t(99935),st=t(68023),lt=t(48579),G=t(46586),P=t(17813),Dt=t(19076),It=t(62842),St=t(68290),Bt=t(62604),Ct=t(70012);st.D([P.N,Dt.N,It.N,lt.N,Ct.N,St.N,Bt.N,G.N]);var ft=J,Tt=t(65476),Ot=t(9056),yt=t.n(Ot),e=t(85893),X=r.ZP.Divider;function bt(k){if(k==null||k=="")return"0 Bytes";var rt=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],T=0,L=parseFloat(k);T=Math.floor(Math.log(L)/Math.log(1024));var O=L/Math.pow(1024,T);return O=O.toFixed(2),O+rt[T]}var Mt=function(rt){var T,L,O,it,ot,ut,dt,ct,vt,mt,v=rt.match.params.id,Rt=(0,E.useState)("info"),Et=(0,W.Z)(Rt,2),Wt=Et[0],Lt=Et[1],ht=(0,i.QT)(function(){return(0,A.Nm)({id:v})}),a=ht.data,gt=ht.loading,$t=ht.run,jt=E.useRef("install"),Kt=E.useState([{value:v,label:(0,e.jsx)(Q.Z,{size:"small"})}]),Zt=(0,W.Z)(Kt,2),Ut=Zt[0],Nt=Zt[1],w=(0,i.QT)(function(){return(0,A.rZ)({id:v,type:"install"})}),D=(0,i.QT)(function(){return(0,A.rZ)({id:v,type:"instance"})},{manual:!0}),I=(0,i.QT)(function(){return(0,A.rZ)({id:v,type:"device"})},{manual:!0}),$=(0,i.QT)(function(){return(0,A.rZ)({id:v,type:"count"})},{manual:!0}),zt=function(){$t(),$.reset(),I.reset(),D.reset(),w.run()};(0,E.useEffect)(function(){zt()},[v]),(0,E.useEffect)(function(){Nt([{value:a==null?void 0:a.id,label:(a==null?void 0:a.appName)+" - "+(a==null?void 0:a.appId)}])},[a]);var q=!1,At=(0,e.jsxs)(R.Z,{children:[(0,e.jsx)(R.Z.Item,{children:"1st item"},"1"),(0,e.jsx)(R.Z.Item,{children:"2nd item"},"2"),(0,e.jsx)(R.Z.Item,{children:"3rd item"},"3")]}),Vt={tooltip:{trigger:"axis"},legend:{data:["\u6D3B\u8DC3\u8BBE\u5907\u6570","\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4","\u7D2F\u8BA1\u6D3B\u8DC3\u8BBE\u5907"]},grid:{top:"30px",left:"10px",right:"10px",bottom:"50px",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:(T=I.data)===null||T===void 0?void 0:T.x}],yAxis:[{name:"\u8BBE\u5907\u6570",type:"value",minInterval:1},{name:"\u6D3B\u8DC3\u65F6\u95F4(\u79D2)",type:"value",max:3600}],dataZoom:[{show:!0,xAxisIndex:0,start:66.666}],series:[{name:"\u7D2F\u8BA1\u6D3B\u8DC3\u8BBE\u5907",type:"custom",stack:"\u7D2F\u8BA1\u6D3B\u8DC3\u8BBE\u5907",renderItem:function(){},data:[(L=I.data)===null||L===void 0?void 0:L.total],encode:{x:0,y:0,tooltip:0},markLine:{data:[{type:"max",name:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",label:{position:"insideStartTop",formatter:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B"},tooltip:{trigger:"item"},yAxis:(O=I.data)===null||O===void 0?void 0:O.total}]}},{name:"\u6D3B\u8DC3\u8BBE\u5907\u6570",type:"line",smooth:!0,stack:"\u8BBE\u5907\u6570",color:"#D23325",data:(it=I.data)===null||it===void 0?void 0:it.instance},{name:"\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4",type:"line",yAxisIndex:1,smooth:!0,color:"#5888F3",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#1890ff"},{offset:.5,color:"#7ec2f3"},{offset:1,color:"#ffffff"}],global:!1}},stack:"\u65F6\u95F4",data:(ot=I.data)===null||ot===void 0?void 0:ot.time}]},_t={tooltip:{trigger:"axis"},legend:{data:["\u6D3B\u8DC3\u5B9E\u4F8B\u6570","\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4","\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B"]},grid:{top:"30px",left:"10px",right:"10px",bottom:"50px",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:(ut=D.data)===null||ut===void 0?void 0:ut.x}],yAxis:[{name:"\u5B9E\u4F8B\u6570",type:"value",minInterval:1},{name:"\u6D3B\u8DC3\u65F6\u95F4(\u79D2)",type:"value",max:3600}],dataZoom:[{show:!0,xAxisIndex:0,start:66.666}],series:[{name:"\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",type:"custom",stack:"\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",renderItem:function(){},data:[(dt=D.data)===null||dt===void 0?void 0:dt.total],encode:{x:0,y:0,tooltip:0},markLine:{data:[{type:"max",name:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B",label:{position:"insideStartTop",formatter:"\u672C\u65E5\u7D2F\u8BA1\u6D3B\u8DC3\u5B9E\u4F8B"},tooltip:{trigger:"item"},yAxis:(ct=D.data)===null||ct===void 0?void 0:ct.total}]}},{name:"\u6D3B\u8DC3\u5B9E\u4F8B\u6570",type:"line",smooth:!0,stack:"\u5B9E\u4F8B\u6570",color:"#D23325",data:(vt=D.data)===null||vt===void 0?void 0:vt.instance},{name:"\u5E73\u5747\u6D3B\u8DC3\u65F6\u95F4",type:"line",yAxisIndex:1,smooth:!0,color:"#5888F3",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#1890ff"},{offset:.5,color:"#7ec2f3"},{offset:1,color:"#ffffff"}],global:!1}},stack:"\u65F6\u95F4",data:(mt=D.data)===null||mt===void 0?void 0:mt.time}]},Gt=[{title:"Build",dataIndex:"build",key:"build",ellipsis:!0},{title:"\u7248\u672C\u53F7",dataIndex:"versionName",key:"versionName",copyable:!0},{title:"\u7248\u672C\u7C7B\u578B",dataIndex:"channel",key:"channel",hideInSearch:!0,valueType:"select",filters:!0,onFilter:!0,valueEnum:{0:{text:"Stable"},1:{text:"Alpha"},2:{text:"Beta"},3:{text:"Insider"},4:{text:"Dev"}}},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"createTime",key:"createTime",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5",status:"Warning"},1:{text:"\u6B63\u5E38",status:"Success"},2:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},3:{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"},4:{text:"\u7981\u6B62",status:"Error"},5:{text:"\u7B49\u5F85\u5220\u9664",status:"Warning"},6:{text:"\u8FDD\u89C4\u5C01\u7981",status:"Error"},7:{text:"\u6B63\u5E38-\u5F85\u5BA1\u6838",status:"Processing"},8:{text:"\u672A\u53D1\u5E03",status:"Warning"}}},{title:"\u6587\u4EF6\u5927\u5C0F",dataIndex:"size",key:"size",hideInSearch:!0,render:function(m){return(0,e.jsx)("span",{children:bt(m)})}},{title:"\u64CD\u4F5C",key:"action",hideInSearch:!0,render:function(){return(0,e.jsx)(f.Z,{overlay:At,children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(Pt){return Pt.preventDefault()},children:["\u64CD\u4F5C",(0,e.jsx)(nt.Z,{})]})})}}],Yt=(0,i.md)();function Qt(o){return pt.apply(this,arguments)}function pt(){return pt=(0,l.Z)(H().mark(function o(m){return H().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",(0,A.yC)((0,h.Z)({search:m},Yt.canAdmin?{all:!0}:{})));case 1:case"end":return tt.stop()}},o)})),pt.apply(this,arguments)}var Ht=(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Tt.Z,{className:yt().headerSelect,showSearch:!0,value:v,placeholder:"\u9009\u62E9\u5E94\u7528",bordered:!1,fetchOptions:Qt,size:"large",setMyOption:Ut,style:{minWidth:"200px",maxWidth:"350px"},onChange:function(m){i.m8.push("/app/detail/"+m)}})});return(0,e.jsxs)(e.Fragment,{children:[gt?(0,e.jsx)(s.Z,{loading:!0}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(U.Z,{className:yt().header,onBack:function(){return i.m8.goBack()},title:Ht,ghost:!1,extra:(0,e.jsxs)(at.Z,{children:[(0,e.jsx)(x.Z,{onClick:function(){return i.m8.push("/app/edit/"+v)},children:"\u4FEE\u6539\u5E94\u7528"}),(0,e.jsx)(f.Z.Button,{overlay:At,children:"\u4E0B\u67B6\u5E94\u7528"})]}),style:{borderBottom:"1px solid #EEEEEE"}}),(0,e.jsxs)(r.ZP,{headerBordered:!0,tabs:{tabPosition:"left",activeKey:Wt,onChange:function(m){Lt(m)}},children:[(0,e.jsxs)(r.ZP.TabPane,{tab:"\u5E94\u7528\u7B80\u4ECB",cardProps:{bodyStyle:{padding:0}},children:[(0,e.jsx)(d.Z,{children:(0,e.jsxs)(r.ZP.Group,{direction:q?"column":"row",children:[(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u63A8\u9001\u7684\u7248\u672C",value:a==null?void 0:a.lastPush,precision:2})}),(0,e.jsx)(X,{type:q?"horizontal":"vertical"}),(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u6700\u540E\u66F4\u65B0\u65F6\u95F4",value:a==null?void 0:a.lastUpdate,precision:2})}),(0,e.jsx)(X,{type:q?"horizontal":"vertical"}),(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u72B6\u6001",value:"\u6B63\u5E38",valueStyle:{color:"green"}})}),(0,e.jsx)(X,{type:q?"horizontal":"vertical"}),(0,e.jsx)(r.ZP,{children:(0,e.jsx)(j.Z,{title:"\u62E5\u6709\u7248\u672C\u6570",value:a==null?void 0:a.versionCount})})]})}),(0,e.jsx)(X,{type:"horizontal"}),(0,e.jsx)(d.Z,{children:(0,e.jsx)(r.ZP,{title:"\u5E94\u7528\u7B80\u4ECB",children:a==null?void 0:a.detail})})]},"info"),(0,e.jsxs)(r.ZP.TabPane,{tab:"\u5176\u4ED6\u4FE1\u606F",children:[(0,e.jsx)(y.Z,{title:"\u57FA\u7840\u4FE1\u606F",column:1,columns:[{label:"\u5E94\u7528\u67B6\u6784",dataIndex:"architecture",key:"architecture",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5"},1:{text:"\u6B63\u5E38"},2:{text:"\u5BA1\u6838\u4E2D"}}},{label:"\u5E94\u7528\u5206\u7C7B",dataIndex:"architecture",key:"architecture",valueType:"select",valueEnum:{0:{text:"\u672A\u77E5"},1:{text:"\u6B63\u5E38"},2:{text:"\u5BA1\u6838\u4E2D"}}},{label:"\u4EA7\u54C1\u7F51\u7AD9",dataIndex:"web",key:"web"}],dataSource:a==null?void 0:a.base}),(0,e.jsxs)(y.Z,{title:"API\u4FE1\u606F",column:1,dataSource:a==null?void 0:a.api,children:[(0,e.jsx)(y.Z.Item,{dataIndex:"license",label:"\u6388\u6743\u4FE1\u606F\u56DE\u8C03"}),(0,e.jsx)(y.Z.Item,{dataIndex:"api",label:"\u5E94\u7528\u4FE1\u606F\u56DE\u8C03"})]})]},"other"),(0,e.jsx)(r.ZP.TabPane,{tab:"\u7EDF\u8BA1\u4FE1\u606F",cardProps:{bodyStyle:{padding:"0 10px 10px 10px"}},children:(0,e.jsxs)(c.Z,{size:"small",tabBarExtraContent:(0,e.jsx)("a",{onClick:function(){jt.current==="install"?i.m8.push("/analysis/install/"+v):i.m8.push("/analysis/instance/"+v)},style:{paddingRight:"10px"},children:"\u66F4\u591A\u6570\u636E"}),tabBarStyle:{marginBottom:24},onChange:function(m){switch(jt.current=m,m){case"instance":!D.data&&D.run();break;case"count":!$.data&&$.run();break;case"device":!I.data&&I.run();break}},children:[(0,e.jsx)(c.Z.TabPane,{tab:"\u65E5\u5B89\u88C5\u91CF",style:{position:"relative"},children:(0,e.jsx)(V.Z,{loading:w.loading||!w.data,height:300,data:w.data||[],xField:"x",yField:"y",seriesField:"type",isStack:!0,xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},slider:{start:0,end:1},title:{visible:!0,text:"\u6700\u8FD1\u4E00\u4E2A\u6708\u5B89\u88C5\u91CF\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u5B89\u88C5\u91CF"}}})},"install"),(0,e.jsx)(c.Z.TabPane,{tab:"\u6D3B\u8DC3\u5B9E\u4F8B",style:{position:"relative"},children:(0,e.jsx)(_.Z,{echarts:ft,option:_t,style:{height:300}})},"instance"),(0,e.jsx)(c.Z.TabPane,{tab:"\u542F\u52A8\u6B21\u6570",style:{position:"relative"},children:(0,e.jsx)(V.Z,{loading:$.loading||!$.data,height:300,data:$.data||[],xField:"x",yField:"y",xAxis:{visible:!0},yAxis:{visible:!0,title:{visible:!1}},slider:{start:.6666,end:1},title:{visible:!0,text:"\u542F\u52A8\u6B21\u6570\u8D8B\u52BF",style:{fontSize:14}},meta:{y:{alias:"\u542F\u52A8\u6B21\u6570"}}})},"count"),(0,e.jsx)(c.Z.TabPane,{tab:"\u6D3B\u8DC3\u8BBE\u5907",style:{position:"relative"},children:(0,e.jsx)(_.Z,{echarts:ft,option:Vt,style:{height:300}})},"device")]})},"stat")]})]}),(0,e.jsx)(K.ZP,{renderEmpty:function(){return(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsx)(p.Z,{image:p.Z.PRESENTED_IMAGE_SIMPLE,description:(0,e.jsxs)("span",{children:["\u6682\u65F6\u6CA1\u6709\u54E6\uFF0C\u53EF\u4EE5\u53BB",(0,e.jsx)("a",{href:"#API",children:"\u521B\u5EFA\u4E00\u4E2A"})]})})})},children:(0,e.jsx)(z.ZP,{loading:gt,dataSource:a==null?void 0:a.versionList,sticky:{offsetHeader:47},headerTitle:"\u7248\u672C\u5217\u8868",rowKey:"deviceId",search:{labelWidth:120,filterType:"light"},style:{marginTop:30},scroll:{x:600},options:{fullScreen:!0,reload:!0,setting:!0},columns:Gt})})]})},Ft=Mt},65476:function(Y,b,t){"use strict";var h=t(96132),S=t(43358),K=t(90290),u=t(20228),p=t(11382),g=t(37730),c=t(33565),M=t(81211),d=t(67294),F=t(23279),j=t.n(F),B=t(85893),U=function(x){var C=x.fetchOptions,s=x.debounceTimeout,l=s===void 0?500:s,Z=x.showAll,f=x.setMyFetching,n=x.setMyOption,R=(0,M.Z)(x,["fetchOptions","debounceTimeout","showAll","setMyFetching","setMyOption"]),xt=d.useState(!1),Q=(0,c.Z)(xt,2),W=Q[0],et=Q[1],H=d.useState(!1),r=(0,c.Z)(H,2),at=r[0],z=r[1],nt=d.useState(Z?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}]:[]),i=(0,c.Z)(nt,2),A=i[0],y=i[1];d.useEffect(function(){W||y(n)},[n]),d.useEffect(function(){W||y(n)},[f]);var E=d.useRef(0),V=d.useMemo(function(){var _=function(st){E.current+=1;var lt=E.current;y([]),z(!0),C(st).then(function(G){lt===E.current&&(G.data.forEach(function(P){P.label=P.text,delete P.text,P.value=P.id,delete P.id}),y(Z?[{value:0,label:"\u663E\u793A\u603B\u8BA1"}].concat((0,g.Z)(G.data)):G.data),z(!1))})};return j()(_,l)},[C,l]);return(0,B.jsx)(K.Z,(0,h.Z)((0,h.Z)({filterOption:!1,onSearch:V},R),{},{options:at?[{value:0,label:(0,B.jsx)(p.Z,{size:"small"})}]:A,onDropdownVisibleChange:function(J){J&&!W&&(et(!0),z(!0),V())}}))};b.Z=U},84744:function(Y,b,t){"use strict";t.d(b,{pb:function(){return c},aF:function(){return d},Nm:function(){return j},rZ:function(){return U},yC:function(){return x}});var h=t(96132),S=t(57361),K=t(9754),u=t.n(K),p=t(18811),g=t(21010);function c(s,l){return M.apply(this,arguments)}function M(){return M=(0,S.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getList",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function d(s,l){return F.apply(this,arguments)}function F(){return F=(0,S.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getAll",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),F.apply(this,arguments)}function j(s,l){return B.apply(this,arguments)}function B(){return B=(0,S.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getDetail",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),B.apply(this,arguments)}function U(s,l){return N.apply(this,arguments)}function N(){return N=(0,S.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/getStatistic",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),N.apply(this,arguments)}function x(s,l){return C.apply(this,arguments)}function C(){return C=(0,S.Z)(u().mark(function s(l,Z){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.WY)(p.s3+"app/search",{method:"POST",params:(0,h.Z)({},l),credentials:"include"}));case 1:case"end":return n.stop()}},s)})),C.apply(this,arguments)}}}]);
